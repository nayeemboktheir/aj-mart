var kO=e=>{throw TypeError(e)};var j1=(e,t,r)=>t.has(e)||kO("Cannot "+r);var Y=(e,t,r)=>(j1(e,t,"read from private field"),r?r.call(e):t.get(e)),He=(e,t,r)=>t.has(e)?kO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Oe=(e,t,r,n)=>(j1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ht=(e,t,r)=>(j1(e,t,"access private method"),r);var pv=(e,t,r,n)=>({set _(a){Oe(e,t,a,r)},get _(){return Y(e,t,n)}});function cX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var H3={exports:{}},nb={},G3={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg=Symbol.for("react.element"),uX=Symbol.for("react.portal"),dX=Symbol.for("react.fragment"),hX=Symbol.for("react.strict_mode"),fX=Symbol.for("react.profiler"),mX=Symbol.for("react.provider"),pX=Symbol.for("react.context"),gX=Symbol.for("react.forward_ref"),vX=Symbol.for("react.suspense"),xX=Symbol.for("react.memo"),yX=Symbol.for("react.lazy"),CO=Symbol.iterator;function bX(e){return e===null||typeof e!="object"?null:(e=CO&&e[CO]||e["@@iterator"],typeof e=="function"?e:null)}var K3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X3=Object.assign,Y3={};function Hh(e,t,r){this.props=e,this.context=t,this.refs=Y3,this.updater=r||K3}Hh.prototype.isReactComponent={};Hh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q3(){}Q3.prototype=Hh.prototype;function M2(e,t,r){this.props=e,this.context=t,this.refs=Y3,this.updater=r||K3}var R2=M2.prototype=new Q3;R2.constructor=M2;X3(R2,Hh.prototype);R2.isPureReactComponent=!0;var PO=Array.isArray,Z3=Object.prototype.hasOwnProperty,$2={current:null},J3={key:!0,ref:!0,__self:!0,__source:!0};function eL(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Z3.call(t,n)&&!J3.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:yg,type:e,key:i,ref:o,props:a,_owner:$2.current}}function wX(e,t){return{$$typeof:yg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function D2(e){return typeof e=="object"&&e!==null&&e.$$typeof===yg}function jX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var EO=/\/+/g;function _1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jX(""+e.key):t.toString(36)}function wx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yg:case uX:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+_1(o,0):n,PO(a)?(r="",e!=null&&(r=e.replace(EO,"$&/")+"/"),wx(a,t,r,"",function(u){return u})):a!=null&&(D2(a)&&(a=wX(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(EO,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",PO(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+_1(i,l);o+=wx(i,t,r,c,a)}else if(c=bX(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+_1(i,l++),o+=wx(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gv(e,t,r){if(e==null)return e;var n=[],a=0;return wx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function _X(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Un={current:null},jx={transition:null},NX={ReactCurrentDispatcher:Un,ReactCurrentBatchConfig:jx,ReactCurrentOwner:$2};function tL(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:gv,forEach:function(e,t,r){gv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gv(e,function(){t++}),t},toArray:function(e){return gv(e,function(t){return t})||[]},only:function(e){if(!D2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=Hh;bt.Fragment=dX;bt.Profiler=fX;bt.PureComponent=M2;bt.StrictMode=hX;bt.Suspense=vX;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NX;bt.act=tL;bt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=X3({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Z3.call(t,c)&&!J3.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:yg,type:e.type,key:a,ref:i,props:n,_owner:o}};bt.createContext=function(e){return e={$$typeof:pX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mX,_context:e},e.Consumer=e};bt.createElement=eL;bt.createFactory=function(e){var t=eL.bind(null,e);return t.type=e,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:gX,render:e}};bt.isValidElement=D2;bt.lazy=function(e){return{$$typeof:yX,_payload:{_status:-1,_result:e},_init:_X}};bt.memo=function(e,t){return{$$typeof:xX,type:e,compare:t===void 0?null:t}};bt.startTransition=function(e){var t=jx.transition;jx.transition={};try{e()}finally{jx.transition=t}};bt.unstable_act=tL;bt.useCallback=function(e,t){return Un.current.useCallback(e,t)};bt.useContext=function(e){return Un.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return Un.current.useDeferredValue(e)};bt.useEffect=function(e,t){return Un.current.useEffect(e,t)};bt.useId=function(){return Un.current.useId()};bt.useImperativeHandle=function(e,t,r){return Un.current.useImperativeHandle(e,t,r)};bt.useInsertionEffect=function(e,t){return Un.current.useInsertionEffect(e,t)};bt.useLayoutEffect=function(e,t){return Un.current.useLayoutEffect(e,t)};bt.useMemo=function(e,t){return Un.current.useMemo(e,t)};bt.useReducer=function(e,t,r){return Un.current.useReducer(e,t,r)};bt.useRef=function(e){return Un.current.useRef(e)};bt.useState=function(e){return Un.current.useState(e)};bt.useSyncExternalStore=function(e,t,r){return Un.current.useSyncExternalStore(e,t,r)};bt.useTransition=function(){return Un.current.useTransition()};bt.version="18.3.1";G3.exports=bt;var v=G3.exports;const B=Bt(v),L2=cX({__proto__:null,default:B},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SX=v,kX=Symbol.for("react.element"),CX=Symbol.for("react.fragment"),PX=Object.prototype.hasOwnProperty,EX=SX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TX={key:!0,ref:!0,__self:!0,__source:!0};function rL(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)PX.call(t,n)&&!TX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:kX,type:e,key:i,ref:o,props:a,_owner:EX.current}}nb.Fragment=CX;nb.jsx=rL;nb.jsxs=rL;H3.exports=nb;var s=H3.exports,nL={exports:{}},Is={},sL={exports:{}},aL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,T){var D=O.length;O.push(T);e:for(;0<D;){var X=D-1>>>1,A=O[X];if(0<a(A,T))O[X]=T,O[D]=A,D=X;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var T=O[0],D=O.pop();if(D!==T){O[0]=D;e:for(var X=0,A=O.length,q=A>>>1;X<q;){var L=2*(X+1)-1,J=O[L],le=L+1,H=O[le];if(0>a(J,D))le<A&&0>a(H,J)?(O[X]=H,O[le]=D,X=le):(O[X]=J,O[L]=D,X=L);else if(le<A&&0>a(H,D))O[X]=H,O[le]=D,X=le;else break e}}return T}function a(O,T){var D=O.sortIndex-T.sortIndex;return D!==0?D:O.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=O)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function N(O){if(p=!1,w(O),!g)if(r(c)!==null)g=!0,P(S);else{var T=r(u);T!==null&&R(N,T.startTime-O)}}function S(O,T){g=!1,p&&(p=!1,b(j),j=-1),m=!0;var D=f;try{for(w(T),h=r(c);h!==null&&(!(h.expirationTime>T)||O&&!M());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var A=X(h.expirationTime<=T);T=e.unstable_now(),typeof A=="function"?h.callback=A:h===r(c)&&n(c),w(T)}else n(c);h=r(c)}if(h!==null)var q=!0;else{var L=r(u);L!==null&&R(N,L.startTime-T),q=!1}return q}finally{h=null,f=D,m=!1}}var k=!1,_=null,j=-1,C=5,I=-1;function M(){return!(e.unstable_now()-I<C)}function $(){if(_!==null){var O=e.unstable_now();I=O;var T=!0;try{T=_(!0,O)}finally{T?W():(k=!1,_=null)}}else k=!1}var W;if(typeof y=="function")W=function(){y($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,E=V.port2;V.port1.onmessage=$,W=function(){E.postMessage(null)}}else W=function(){x($,0)};function P(O){_=O,k||(k=!0,W())}function R(O,T){j=x(function(){O(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,P(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var D=f;f=T;try{return O()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,T){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var D=f;f=O;try{return T()}finally{f=D}},e.unstable_scheduleCallback=function(O,T,D){var X=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?X+D:X):D=X,O){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=D+A,O={id:d++,callback:T,priorityLevel:O,startTime:D,expirationTime:A,sortIndex:-1},D>X?(O.sortIndex=D,t(u,O),r(c)===null&&O===r(u)&&(p?(b(j),j=-1):p=!0,R(N,D-X))):(O.sortIndex=A,t(c,O),g||m||(g=!0,P(S))),O},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(O){var T=f;return function(){var D=f;f=T;try{return O.apply(this,arguments)}finally{f=D}}}})(aL);sL.exports=aL;var OX=sL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AX=v,Ps=OX;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iL=new Set,zm={};function bu(e,t){Jd(e,t),Jd(e+"Capture",t)}function Jd(e,t){for(zm[e]=t,e=0;e<t.length;e++)iL.add(t[e])}var to=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O_=Object.prototype.hasOwnProperty,IX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TO={},OO={};function MX(e){return O_.call(OO,e)?!0:O_.call(TO,e)?!1:IX.test(e)?OO[e]=!0:(TO[e]=!0,!1)}function RX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $X(e,t,r,n){if(t===null||typeof t>"u"||RX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yn[e]=new Vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yn[t]=new Vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yn[e]=new Vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yn[e]=new Vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yn[e]=new Vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yn[e]=new Vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yn[e]=new Vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yn[e]=new Vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yn[e]=new Vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var F2=/[\-:]([a-z])/g;function B2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F2,B2);yn[t]=new Vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F2,B2);yn[t]=new Vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F2,B2);yn[t]=new Vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yn[e]=new Vn(e,1,!1,e.toLowerCase(),null,!1,!1)});yn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yn[e]=new Vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function z2(e,t,r,n){var a=yn.hasOwnProperty(t)?yn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($X(t,r,a,n)&&(r=null),n||a===null?MX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yo=AX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vv=Symbol.for("react.element"),rd=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),U2=Symbol.for("react.strict_mode"),A_=Symbol.for("react.profiler"),oL=Symbol.for("react.provider"),lL=Symbol.for("react.context"),V2=Symbol.for("react.forward_ref"),I_=Symbol.for("react.suspense"),M_=Symbol.for("react.suspense_list"),W2=Symbol.for("react.memo"),Mo=Symbol.for("react.lazy"),cL=Symbol.for("react.offscreen"),AO=Symbol.iterator;function Pf(e){return e===null||typeof e!="object"?null:(e=AO&&e[AO]||e["@@iterator"],typeof e=="function"?e:null)}var br=Object.assign,N1;function im(e){if(N1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);N1=t&&t[1]||""}return`
`+N1+e}var S1=!1;function k1(e,t){if(!e||S1)return"";S1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{S1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?im(e):""}function DX(e){switch(e.tag){case 5:return im(e.type);case 16:return im("Lazy");case 13:return im("Suspense");case 19:return im("SuspenseList");case 0:case 2:case 15:return e=k1(e.type,!1),e;case 11:return e=k1(e.type.render,!1),e;case 1:return e=k1(e.type,!0),e;default:return""}}function R_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nd:return"Fragment";case rd:return"Portal";case A_:return"Profiler";case U2:return"StrictMode";case I_:return"Suspense";case M_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lL:return(e.displayName||"Context")+".Consumer";case oL:return(e._context.displayName||"Context")+".Provider";case V2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W2:return t=e.displayName||null,t!==null?t:R_(e.type)||"Memo";case Mo:t=e._payload,e=e._init;try{return R_(e(t))}catch{}}return null}function LX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R_(t);case 8:return t===U2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FX(e){var t=uL(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xv(e){e._valueTracker||(e._valueTracker=FX(e))}function dL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=uL(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Kx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $_(e,t){var r=t.checked;return br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function IO(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hL(e,t){t=t.checked,t!=null&&z2(e,"checked",t,!1)}function D_(e,t){hL(e,t);var r=wl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?L_(e,t.type,r):t.hasOwnProperty("defaultValue")&&L_(e,t.type,wl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function MO(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function L_(e,t,r){(t!=="number"||Kx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var om=Array.isArray;function Nd(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function F_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function RO(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(om(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wl(r)}}function fL(e,t){var r=wl(t.value),n=wl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $O(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yv,pL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yv=yv||document.createElement("div"),yv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Um(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BX=["Webkit","ms","Moz","O"];Object.keys(bm).forEach(function(e){BX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bm[t]=bm[e]})});function gL(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bm.hasOwnProperty(e)&&bm[e]?(""+t).trim():t+"px"}function vL(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=gL(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var zX=br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function z_(e,t){if(t){if(zX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function U_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V_=null;function q2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var W_=null,Sd=null,kd=null;function DO(e){if(e=jg(e)){if(typeof W_!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=lb(t),W_(e.stateNode,e.type,t))}}function xL(e){Sd?kd?kd.push(e):kd=[e]:Sd=e}function yL(){if(Sd){var e=Sd,t=kd;if(kd=Sd=null,DO(e),t)for(e=0;e<t.length;e++)DO(t[e])}}function bL(e,t){return e(t)}function wL(){}var C1=!1;function jL(e,t,r){if(C1)return e(t,r);C1=!0;try{return bL(e,t,r)}finally{C1=!1,(Sd!==null||kd!==null)&&(wL(),yL())}}function Vm(e,t){var r=e.stateNode;if(r===null)return null;var n=lb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var q_=!1;if(to)try{var Ef={};Object.defineProperty(Ef,"passive",{get:function(){q_=!0}}),window.addEventListener("test",Ef,Ef),window.removeEventListener("test",Ef,Ef)}catch{q_=!1}function UX(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var wm=!1,Xx=null,Yx=!1,H_=null,VX={onError:function(e){wm=!0,Xx=e}};function WX(e,t,r,n,a,i,o,l,c){wm=!1,Xx=null,UX.apply(VX,arguments)}function qX(e,t,r,n,a,i,o,l,c){if(WX.apply(this,arguments),wm){if(wm){var u=Xx;wm=!1,Xx=null}else throw Error(ve(198));Yx||(Yx=!0,H_=u)}}function wu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _L(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function LO(e){if(wu(e)!==e)throw Error(ve(188))}function HX(e){var t=e.alternate;if(!t){if(t=wu(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return LO(a),e;if(i===n)return LO(a),t;i=i.sibling}throw Error(ve(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function NL(e){return e=HX(e),e!==null?SL(e):null}function SL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=SL(e);if(t!==null)return t;e=e.sibling}return null}var kL=Ps.unstable_scheduleCallback,FO=Ps.unstable_cancelCallback,GX=Ps.unstable_shouldYield,KX=Ps.unstable_requestPaint,Ar=Ps.unstable_now,XX=Ps.unstable_getCurrentPriorityLevel,H2=Ps.unstable_ImmediatePriority,CL=Ps.unstable_UserBlockingPriority,Qx=Ps.unstable_NormalPriority,YX=Ps.unstable_LowPriority,PL=Ps.unstable_IdlePriority,sb=null,ci=null;function QX(e){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(sb,e,void 0,(e.current.flags&128)===128)}catch{}}var Ta=Math.clz32?Math.clz32:eY,ZX=Math.log,JX=Math.LN2;function eY(e){return e>>>=0,e===0?32:31-(ZX(e)/JX|0)|0}var bv=64,wv=4194304;function lm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=lm(l):(i&=o,i!==0&&(n=lm(i)))}else o=r&~a,o!==0?n=lm(o):i!==0&&(n=lm(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ta(t),a=1<<r,n|=e[r],t&=~a;return n}function tY(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rY(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ta(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=tY(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function G_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function EL(){var e=bv;return bv<<=1,!(bv&4194240)&&(bv=64),e}function P1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ta(t),e[t]=r}function nY(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ta(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function G2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ta(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ft=0;function TL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var OL,K2,AL,IL,ML,K_=!1,jv=[],il=null,ol=null,ll=null,Wm=new Map,qm=new Map,Fo=[],sY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BO(e,t){switch(e){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":ol=null;break;case"mouseover":case"mouseout":ll=null;break;case"pointerover":case"pointerout":Wm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qm.delete(t.pointerId)}}function Tf(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=jg(t),t!==null&&K2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function aY(e,t,r,n,a){switch(t){case"focusin":return il=Tf(il,e,t,r,n,a),!0;case"dragenter":return ol=Tf(ol,e,t,r,n,a),!0;case"mouseover":return ll=Tf(ll,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Wm.set(i,Tf(Wm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,qm.set(i,Tf(qm.get(i)||null,e,t,r,n,a)),!0}return!1}function RL(e){var t=pc(e.target);if(t!==null){var r=wu(t);if(r!==null){if(t=r.tag,t===13){if(t=_L(r),t!==null){e.blockedOn=t,ML(e.priority,function(){AL(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _x(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=X_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);V_=n,r.target.dispatchEvent(n),V_=null}else return t=jg(r),t!==null&&K2(t),e.blockedOn=r,!1;t.shift()}return!0}function zO(e,t,r){_x(e)&&r.delete(t)}function iY(){K_=!1,il!==null&&_x(il)&&(il=null),ol!==null&&_x(ol)&&(ol=null),ll!==null&&_x(ll)&&(ll=null),Wm.forEach(zO),qm.forEach(zO)}function Of(e,t){e.blockedOn===t&&(e.blockedOn=null,K_||(K_=!0,Ps.unstable_scheduleCallback(Ps.unstable_NormalPriority,iY)))}function Hm(e){function t(a){return Of(a,e)}if(0<jv.length){Of(jv[0],e);for(var r=1;r<jv.length;r++){var n=jv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(il!==null&&Of(il,e),ol!==null&&Of(ol,e),ll!==null&&Of(ll,e),Wm.forEach(t),qm.forEach(t),r=0;r<Fo.length;r++)n=Fo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fo.length&&(r=Fo[0],r.blockedOn===null);)RL(r),r.blockedOn===null&&Fo.shift()}var Cd=yo.ReactCurrentBatchConfig,Jx=!0;function oY(e,t,r,n){var a=Ft,i=Cd.transition;Cd.transition=null;try{Ft=1,X2(e,t,r,n)}finally{Ft=a,Cd.transition=i}}function lY(e,t,r,n){var a=Ft,i=Cd.transition;Cd.transition=null;try{Ft=4,X2(e,t,r,n)}finally{Ft=a,Cd.transition=i}}function X2(e,t,r,n){if(Jx){var a=X_(e,t,r,n);if(a===null)L1(e,t,n,ey,r),BO(e,n);else if(aY(a,e,t,r,n))n.stopPropagation();else if(BO(e,n),t&4&&-1<sY.indexOf(e)){for(;a!==null;){var i=jg(a);if(i!==null&&OL(i),i=X_(e,t,r,n),i===null&&L1(e,t,n,ey,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else L1(e,t,n,null,r)}}var ey=null;function X_(e,t,r,n){if(ey=null,e=q2(n),e=pc(e),e!==null)if(t=wu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_L(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ey=e,null}function $L(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XX()){case H2:return 1;case CL:return 4;case Qx:case YX:return 16;case PL:return 536870912;default:return 16}default:return 16}}var Jo=null,Y2=null,Nx=null;function DL(){if(Nx)return Nx;var e,t=Y2,r=t.length,n,a="value"in Jo?Jo.value:Jo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Nx=a.slice(e,1<n?1-n:void 0)}function Sx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _v(){return!0}function UO(){return!1}function Ms(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_v:UO,this.isPropagationStopped=UO,this}return br(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_v)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_v)},persist:function(){},isPersistent:_v}),t}var Gh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Q2=Ms(Gh),wg=br({},Gh,{view:0,detail:0}),cY=Ms(wg),E1,T1,Af,ab=br({},wg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Af&&(Af&&e.type==="mousemove"?(E1=e.screenX-Af.screenX,T1=e.screenY-Af.screenY):T1=E1=0,Af=e),E1)},movementY:function(e){return"movementY"in e?e.movementY:T1}}),VO=Ms(ab),uY=br({},ab,{dataTransfer:0}),dY=Ms(uY),hY=br({},wg,{relatedTarget:0}),O1=Ms(hY),fY=br({},Gh,{animationName:0,elapsedTime:0,pseudoElement:0}),mY=Ms(fY),pY=br({},Gh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gY=Ms(pY),vY=br({},Gh,{data:0}),WO=Ms(vY),xY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bY[e])?!!t[e]:!1}function Z2(){return wY}var jY=br({},wg,{key:function(e){if(e.key){var t=xY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z2,charCode:function(e){return e.type==="keypress"?Sx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_Y=Ms(jY),NY=br({},ab,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qO=Ms(NY),SY=br({},wg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z2}),kY=Ms(SY),CY=br({},Gh,{propertyName:0,elapsedTime:0,pseudoElement:0}),PY=Ms(CY),EY=br({},ab,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TY=Ms(EY),OY=[9,13,27,32],J2=to&&"CompositionEvent"in window,jm=null;to&&"documentMode"in document&&(jm=document.documentMode);var AY=to&&"TextEvent"in window&&!jm,LL=to&&(!J2||jm&&8<jm&&11>=jm),HO=" ",GO=!1;function FL(e,t){switch(e){case"keyup":return OY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sd=!1;function IY(e,t){switch(e){case"compositionend":return BL(t);case"keypress":return t.which!==32?null:(GO=!0,HO);case"textInput":return e=t.data,e===HO&&GO?null:e;default:return null}}function MY(e,t){if(sd)return e==="compositionend"||!J2&&FL(e,t)?(e=DL(),Nx=Y2=Jo=null,sd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LL&&t.locale!=="ko"?null:t.data;default:return null}}var RY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RY[e.type]:t==="textarea"}function zL(e,t,r,n){xL(n),t=ty(t,"onChange"),0<t.length&&(r=new Q2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _m=null,Gm=null;function $Y(e){ZL(e,0)}function ib(e){var t=od(e);if(dL(t))return e}function DY(e,t){if(e==="change")return t}var UL=!1;if(to){var A1;if(to){var I1="oninput"in document;if(!I1){var XO=document.createElement("div");XO.setAttribute("oninput","return;"),I1=typeof XO.oninput=="function"}A1=I1}else A1=!1;UL=A1&&(!document.documentMode||9<document.documentMode)}function YO(){_m&&(_m.detachEvent("onpropertychange",VL),Gm=_m=null)}function VL(e){if(e.propertyName==="value"&&ib(Gm)){var t=[];zL(t,Gm,e,q2(e)),jL($Y,t)}}function LY(e,t,r){e==="focusin"?(YO(),_m=t,Gm=r,_m.attachEvent("onpropertychange",VL)):e==="focusout"&&YO()}function FY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ib(Gm)}function BY(e,t){if(e==="click")return ib(t)}function zY(e,t){if(e==="input"||e==="change")return ib(t)}function UY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Aa=typeof Object.is=="function"?Object.is:UY;function Km(e,t){if(Aa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!O_.call(t,a)||!Aa(e[a],t[a]))return!1}return!0}function QO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ZO(e,t){var r=QO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=QO(r)}}function WL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?WL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qL(){for(var e=window,t=Kx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Kx(e.document)}return t}function eC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VY(e){var t=qL(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&WL(r.ownerDocument.documentElement,r)){if(n!==null&&eC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=ZO(r,i);var o=ZO(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WY=to&&"documentMode"in document&&11>=document.documentMode,ad=null,Y_=null,Nm=null,Q_=!1;function JO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Q_||ad==null||ad!==Kx(n)||(n=ad,"selectionStart"in n&&eC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nm&&Km(Nm,n)||(Nm=n,n=ty(Y_,"onSelect"),0<n.length&&(t=new Q2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ad)))}function Nv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var id={animationend:Nv("Animation","AnimationEnd"),animationiteration:Nv("Animation","AnimationIteration"),animationstart:Nv("Animation","AnimationStart"),transitionend:Nv("Transition","TransitionEnd")},M1={},HL={};to&&(HL=document.createElement("div").style,"AnimationEvent"in window||(delete id.animationend.animation,delete id.animationiteration.animation,delete id.animationstart.animation),"TransitionEvent"in window||delete id.transitionend.transition);function ob(e){if(M1[e])return M1[e];if(!id[e])return e;var t=id[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in HL)return M1[e]=t[r];return e}var GL=ob("animationend"),KL=ob("animationiteration"),XL=ob("animationstart"),YL=ob("transitionend"),QL=new Map,eA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ml(e,t){QL.set(e,t),bu(t,[e])}for(var R1=0;R1<eA.length;R1++){var $1=eA[R1],qY=$1.toLowerCase(),HY=$1[0].toUpperCase()+$1.slice(1);Ml(qY,"on"+HY)}Ml(GL,"onAnimationEnd");Ml(KL,"onAnimationIteration");Ml(XL,"onAnimationStart");Ml("dblclick","onDoubleClick");Ml("focusin","onFocus");Ml("focusout","onBlur");Ml(YL,"onTransitionEnd");Jd("onMouseEnter",["mouseout","mouseover"]);Jd("onMouseLeave",["mouseout","mouseover"]);Jd("onPointerEnter",["pointerout","pointerover"]);Jd("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GY=new Set("cancel close invalid load scroll toggle".split(" ").concat(cm));function tA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qX(n,t,void 0,e),e.currentTarget=null}function ZL(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;tA(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;tA(a,l,u),i=c}}}if(Yx)throw e=H_,Yx=!1,H_=null,e}function ir(e,t){var r=t[rN];r===void 0&&(r=t[rN]=new Set);var n=e+"__bubble";r.has(n)||(JL(t,e,2,!1),r.add(n))}function D1(e,t,r){var n=0;t&&(n|=4),JL(r,e,n,t)}var Sv="_reactListening"+Math.random().toString(36).slice(2);function Xm(e){if(!e[Sv]){e[Sv]=!0,iL.forEach(function(r){r!=="selectionchange"&&(GY.has(r)||D1(r,!1,e),D1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sv]||(t[Sv]=!0,D1("selectionchange",!1,t))}}function JL(e,t,r,n){switch($L(t)){case 1:var a=oY;break;case 4:a=lY;break;default:a=X2}r=a.bind(null,t,r,e),a=void 0,!q_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function L1(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=pc(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}jL(function(){var u=i,d=q2(r),h=[];e:{var f=QL.get(e);if(f!==void 0){var m=Q2,g=e;switch(e){case"keypress":if(Sx(r)===0)break e;case"keydown":case"keyup":m=_Y;break;case"focusin":g="focus",m=O1;break;case"focusout":g="blur",m=O1;break;case"beforeblur":case"afterblur":m=O1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=VO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kY;break;case GL:case KL:case XL:m=mY;break;case YL:m=PY;break;case"scroll":m=cY;break;case"wheel":m=TY;break;case"copy":case"cut":case"paste":m=gY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qO}var p=(t&4)!==0,x=!p&&e==="scroll",b=p?f!==null?f+"Capture":null:f;p=[];for(var y=u,w;y!==null;){w=y;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,b!==null&&(N=Vm(y,b),N!=null&&p.push(Ym(y,N,w)))),x)break;y=y.return}0<p.length&&(f=new m(f,g,null,r,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==V_&&(g=r.relatedTarget||r.fromElement)&&(pc(g)||g[ro]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?pc(g):null,g!==null&&(x=wu(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=VO,N="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=qO,N="onPointerLeave",b="onPointerEnter",y="pointer"),x=m==null?f:od(m),w=g==null?f:od(g),f=new p(N,y+"leave",m,r,d),f.target=x,f.relatedTarget=w,N=null,pc(d)===u&&(p=new p(b,y+"enter",g,r,d),p.target=w,p.relatedTarget=x,N=p),x=N,m&&g)t:{for(p=m,b=g,y=0,w=p;w;w=Iu(w))y++;for(w=0,N=b;N;N=Iu(N))w++;for(;0<y-w;)p=Iu(p),y--;for(;0<w-y;)b=Iu(b),w--;for(;y--;){if(p===b||b!==null&&p===b.alternate)break t;p=Iu(p),b=Iu(b)}p=null}else p=null;m!==null&&rA(h,f,m,p,!1),g!==null&&x!==null&&rA(h,x,g,p,!0)}}e:{if(f=u?od(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=DY;else if(KO(f))if(UL)S=zY;else{S=FY;var k=LY}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=BY);if(S&&(S=S(e,u))){zL(h,S,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&L_(f,"number",f.value)}switch(k=u?od(u):window,e){case"focusin":(KO(k)||k.contentEditable==="true")&&(ad=k,Y_=u,Nm=null);break;case"focusout":Nm=Y_=ad=null;break;case"mousedown":Q_=!0;break;case"contextmenu":case"mouseup":case"dragend":Q_=!1,JO(h,r,d);break;case"selectionchange":if(WY)break;case"keydown":case"keyup":JO(h,r,d)}var _;if(J2)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else sd?FL(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(LL&&r.locale!=="ko"&&(sd||j!=="onCompositionStart"?j==="onCompositionEnd"&&sd&&(_=DL()):(Jo=d,Y2="value"in Jo?Jo.value:Jo.textContent,sd=!0)),k=ty(u,j),0<k.length&&(j=new WO(j,e,null,r,d),h.push({event:j,listeners:k}),_?j.data=_:(_=BL(r),_!==null&&(j.data=_)))),(_=AY?IY(e,r):MY(e,r))&&(u=ty(u,"onBeforeInput"),0<u.length&&(d=new WO("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=_))}ZL(h,t)})}function Ym(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ty(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Vm(e,r),i!=null&&n.unshift(Ym(e,i,a)),i=Vm(e,t),i!=null&&n.push(Ym(e,i,a))),e=e.return}return n}function Iu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rA(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Vm(r,i),c!=null&&o.unshift(Ym(r,c,l))):a||(c=Vm(r,i),c!=null&&o.push(Ym(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var KY=/\r\n?/g,XY=/\u0000|\uFFFD/g;function nA(e){return(typeof e=="string"?e:""+e).replace(KY,`
`).replace(XY,"")}function kv(e,t,r){if(t=nA(t),nA(e)!==t&&r)throw Error(ve(425))}function ry(){}var Z_=null,J_=null;function eN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tN=typeof setTimeout=="function"?setTimeout:void 0,YY=typeof clearTimeout=="function"?clearTimeout:void 0,sA=typeof Promise=="function"?Promise:void 0,QY=typeof queueMicrotask=="function"?queueMicrotask:typeof sA<"u"?function(e){return sA.resolve(null).then(e).catch(ZY)}:tN;function ZY(e){setTimeout(function(){throw e})}function F1(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Hm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Hm(t)}function cl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function aA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kh=Math.random().toString(36).slice(2),Ja="__reactFiber$"+Kh,Qm="__reactProps$"+Kh,ro="__reactContainer$"+Kh,rN="__reactEvents$"+Kh,JY="__reactListeners$"+Kh,eQ="__reactHandles$"+Kh;function pc(e){var t=e[Ja];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ro]||r[Ja]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=aA(e);e!==null;){if(r=e[Ja])return r;e=aA(e)}return t}e=r,r=e.parentNode}return null}function jg(e){return e=e[Ja]||e[ro],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function od(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function lb(e){return e[Qm]||null}var nN=[],ld=-1;function Rl(e){return{current:e}}function cr(e){0>ld||(e.current=nN[ld],nN[ld]=null,ld--)}function tr(e,t){ld++,nN[ld]=e.current,e.current=t}var jl={},Tn=Rl(jl),rs=Rl(!1),Wc=jl;function eh(e,t){var r=e.type.contextTypes;if(!r)return jl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ns(e){return e=e.childContextTypes,e!=null}function ny(){cr(rs),cr(Tn)}function iA(e,t,r){if(Tn.current!==jl)throw Error(ve(168));tr(Tn,t),tr(rs,r)}function e6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ve(108,LX(e)||"Unknown",a));return br({},r,n)}function sy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jl,Wc=Tn.current,tr(Tn,e),tr(rs,rs.current),!0}function oA(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=e6(e,t,Wc),n.__reactInternalMemoizedMergedChildContext=e,cr(rs),cr(Tn),tr(Tn,e)):cr(rs),tr(rs,r)}var Mi=null,cb=!1,B1=!1;function t6(e){Mi===null?Mi=[e]:Mi.push(e)}function tQ(e){cb=!0,t6(e)}function $l(){if(!B1&&Mi!==null){B1=!0;var e=0,t=Ft;try{var r=Mi;for(Ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Mi=null,cb=!1}catch(a){throw Mi!==null&&(Mi=Mi.slice(e+1)),kL(H2,$l),a}finally{Ft=t,B1=!1}}return null}var cd=[],ud=0,ay=null,iy=0,zs=[],Us=0,qc=null,Bi=1,zi="";function sc(e,t){cd[ud++]=iy,cd[ud++]=ay,ay=e,iy=t}function r6(e,t,r){zs[Us++]=Bi,zs[Us++]=zi,zs[Us++]=qc,qc=e;var n=Bi;e=zi;var a=32-Ta(n)-1;n&=~(1<<a),r+=1;var i=32-Ta(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Bi=1<<32-Ta(t)+a|r<<a|n,zi=i+e}else Bi=1<<i|r<<a|n,zi=e}function tC(e){e.return!==null&&(sc(e,1),r6(e,1,0))}function rC(e){for(;e===ay;)ay=cd[--ud],cd[ud]=null,iy=cd[--ud],cd[ud]=null;for(;e===qc;)qc=zs[--Us],zs[Us]=null,zi=zs[--Us],zs[Us]=null,Bi=zs[--Us],zs[Us]=null}var _s=null,ws=null,hr=!1,Sa=null;function n6(e,t){var r=Ws(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function lA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_s=e,ws=cl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_s=e,ws=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qc!==null?{id:Bi,overflow:zi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ws(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_s=e,ws=null,!0):!1;default:return!1}}function sN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function aN(e){if(hr){var t=ws;if(t){var r=t;if(!lA(e,t)){if(sN(e))throw Error(ve(418));t=cl(r.nextSibling);var n=_s;t&&lA(e,t)?n6(n,r):(e.flags=e.flags&-4097|2,hr=!1,_s=e)}}else{if(sN(e))throw Error(ve(418));e.flags=e.flags&-4097|2,hr=!1,_s=e}}}function cA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_s=e}function Cv(e){if(e!==_s)return!1;if(!hr)return cA(e),hr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eN(e.type,e.memoizedProps)),t&&(t=ws)){if(sN(e))throw s6(),Error(ve(418));for(;t;)n6(e,t),t=cl(t.nextSibling)}if(cA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ws=cl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ws=null}}else ws=_s?cl(e.stateNode.nextSibling):null;return!0}function s6(){for(var e=ws;e;)e=cl(e.nextSibling)}function th(){ws=_s=null,hr=!1}function nC(e){Sa===null?Sa=[e]:Sa.push(e)}var rQ=yo.ReactCurrentBatchConfig;function If(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function Pv(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uA(e){var t=e._init;return t(e._payload)}function a6(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function a(b,y){return b=fl(b,y),b.index=0,b.sibling=null,b}function i(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,w,N){return y===null||y.tag!==6?(y=G1(w,b.mode,N),y.return=b,y):(y=a(y,w),y.return=b,y)}function c(b,y,w,N){var S=w.type;return S===nd?d(b,y,w.props.children,N,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mo&&uA(S)===y.type)?(N=a(y,w.props),N.ref=If(b,y,w),N.return=b,N):(N=Ax(w.type,w.key,w.props,null,b.mode,N),N.ref=If(b,y,w),N.return=b,N)}function u(b,y,w,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=K1(w,b.mode,N),y.return=b,y):(y=a(y,w.children||[]),y.return=b,y)}function d(b,y,w,N,S){return y===null||y.tag!==7?(y=Dc(w,b.mode,N,S),y.return=b,y):(y=a(y,w),y.return=b,y)}function h(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=G1(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vv:return w=Ax(y.type,y.key,y.props,null,b.mode,w),w.ref=If(b,null,y),w.return=b,w;case rd:return y=K1(y,b.mode,w),y.return=b,y;case Mo:var N=y._init;return h(b,N(y._payload),w)}if(om(y)||Pf(y))return y=Dc(y,b.mode,w,null),y.return=b,y;Pv(b,y)}return null}function f(b,y,w,N){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(b,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vv:return w.key===S?c(b,y,w,N):null;case rd:return w.key===S?u(b,y,w,N):null;case Mo:return S=w._init,f(b,y,S(w._payload),N)}if(om(w)||Pf(w))return S!==null?null:d(b,y,w,N,null);Pv(b,w)}return null}function m(b,y,w,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(w)||null,l(y,b,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case vv:return b=b.get(N.key===null?w:N.key)||null,c(y,b,N,S);case rd:return b=b.get(N.key===null?w:N.key)||null,u(y,b,N,S);case Mo:var k=N._init;return m(b,y,w,k(N._payload),S)}if(om(N)||Pf(N))return b=b.get(w)||null,d(y,b,N,S,null);Pv(y,N)}return null}function g(b,y,w,N){for(var S=null,k=null,_=y,j=y=0,C=null;_!==null&&j<w.length;j++){_.index>j?(C=_,_=null):C=_.sibling;var I=f(b,_,w[j],N);if(I===null){_===null&&(_=C);break}e&&_&&I.alternate===null&&t(b,_),y=i(I,y,j),k===null?S=I:k.sibling=I,k=I,_=C}if(j===w.length)return r(b,_),hr&&sc(b,j),S;if(_===null){for(;j<w.length;j++)_=h(b,w[j],N),_!==null&&(y=i(_,y,j),k===null?S=_:k.sibling=_,k=_);return hr&&sc(b,j),S}for(_=n(b,_);j<w.length;j++)C=m(_,b,j,w[j],N),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?j:C.key),y=i(C,y,j),k===null?S=C:k.sibling=C,k=C);return e&&_.forEach(function(M){return t(b,M)}),hr&&sc(b,j),S}function p(b,y,w,N){var S=Pf(w);if(typeof S!="function")throw Error(ve(150));if(w=S.call(w),w==null)throw Error(ve(151));for(var k=S=null,_=y,j=y=0,C=null,I=w.next();_!==null&&!I.done;j++,I=w.next()){_.index>j?(C=_,_=null):C=_.sibling;var M=f(b,_,I.value,N);if(M===null){_===null&&(_=C);break}e&&_&&M.alternate===null&&t(b,_),y=i(M,y,j),k===null?S=M:k.sibling=M,k=M,_=C}if(I.done)return r(b,_),hr&&sc(b,j),S;if(_===null){for(;!I.done;j++,I=w.next())I=h(b,I.value,N),I!==null&&(y=i(I,y,j),k===null?S=I:k.sibling=I,k=I);return hr&&sc(b,j),S}for(_=n(b,_);!I.done;j++,I=w.next())I=m(_,b,j,I.value,N),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?j:I.key),y=i(I,y,j),k===null?S=I:k.sibling=I,k=I);return e&&_.forEach(function($){return t(b,$)}),hr&&sc(b,j),S}function x(b,y,w,N){if(typeof w=="object"&&w!==null&&w.type===nd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case vv:e:{for(var S=w.key,k=y;k!==null;){if(k.key===S){if(S=w.type,S===nd){if(k.tag===7){r(b,k.sibling),y=a(k,w.props.children),y.return=b,b=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mo&&uA(S)===k.type){r(b,k.sibling),y=a(k,w.props),y.ref=If(b,k,w),y.return=b,b=y;break e}r(b,k);break}else t(b,k);k=k.sibling}w.type===nd?(y=Dc(w.props.children,b.mode,N,w.key),y.return=b,b=y):(N=Ax(w.type,w.key,w.props,null,b.mode,N),N.ref=If(b,y,w),N.return=b,b=N)}return o(b);case rd:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(b,y.sibling),y=a(y,w.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=K1(w,b.mode,N),y.return=b,b=y}return o(b);case Mo:return k=w._init,x(b,y,k(w._payload),N)}if(om(w))return g(b,y,w,N);if(Pf(w))return p(b,y,w,N);Pv(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(b,y.sibling),y=a(y,w),y.return=b,b=y):(r(b,y),y=G1(w,b.mode,N),y.return=b,b=y),o(b)):r(b,y)}return x}var rh=a6(!0),i6=a6(!1),oy=Rl(null),ly=null,dd=null,sC=null;function aC(){sC=dd=ly=null}function iC(e){var t=oy.current;cr(oy),e._currentValue=t}function iN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pd(e,t){ly=e,sC=dd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zn=!0),e.firstContext=null)}function Zs(e){var t=e._currentValue;if(sC!==e)if(e={context:e,memoizedValue:t,next:null},dd===null){if(ly===null)throw Error(ve(308));dd=e,ly.dependencies={lanes:0,firstContext:e}}else dd=dd.next=e;return t}var gc=null;function oC(e){gc===null?gc=[e]:gc.push(e)}function o6(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,oC(t)):(r.next=a.next,a.next=r),t.interleaved=r,no(e,n)}function no(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ro=!1;function lC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ul(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ct&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,no(e,r)}return a=n.interleaved,a===null?(t.next=t,oC(n)):(t.next=a.next,a.next=t),n.interleaved=t,no(e,r)}function kx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,G2(e,r)}}function dA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cy(e,t,r,n){var a=e.updateQueue;Ro=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(f=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=br({},h,f);break e;case 2:Ro=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Gc|=o,e.lanes=o,e.memoizedState=h}}function hA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ve(191,a));a.call(n)}}}var _g={},ui=Rl(_g),Zm=Rl(_g),Jm=Rl(_g);function vc(e){if(e===_g)throw Error(ve(174));return e}function cC(e,t){switch(tr(Jm,t),tr(Zm,e),tr(ui,_g),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:B_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=B_(t,e)}cr(ui),tr(ui,t)}function nh(){cr(ui),cr(Zm),cr(Jm)}function c6(e){vc(Jm.current);var t=vc(ui.current),r=B_(t,e.type);t!==r&&(tr(Zm,e),tr(ui,r))}function uC(e){Zm.current===e&&(cr(ui),cr(Zm))}var vr=Rl(0);function uy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var z1=[];function dC(){for(var e=0;e<z1.length;e++)z1[e]._workInProgressVersionPrimary=null;z1.length=0}var Cx=yo.ReactCurrentDispatcher,U1=yo.ReactCurrentBatchConfig,Hc=0,yr=null,Xr=null,sn=null,dy=!1,Sm=!1,ep=0,nQ=0;function bn(){throw Error(ve(321))}function hC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Aa(e[r],t[r]))return!1;return!0}function fC(e,t,r,n,a,i){if(Hc=i,yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cx.current=e===null||e.memoizedState===null?oQ:lQ,e=r(n,a),Sm){i=0;do{if(Sm=!1,ep=0,25<=i)throw Error(ve(301));i+=1,sn=Xr=null,t.updateQueue=null,Cx.current=cQ,e=r(n,a)}while(Sm)}if(Cx.current=hy,t=Xr!==null&&Xr.next!==null,Hc=0,sn=Xr=yr=null,dy=!1,t)throw Error(ve(300));return e}function mC(){var e=ep!==0;return ep=0,e}function Ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?yr.memoizedState=sn=e:sn=sn.next=e,sn}function Js(){if(Xr===null){var e=yr.alternate;e=e!==null?e.memoizedState:null}else e=Xr.next;var t=sn===null?yr.memoizedState:sn.next;if(t!==null)sn=t,Xr=e;else{if(e===null)throw Error(ve(310));Xr=e,e={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},sn===null?yr.memoizedState=sn=e:sn=sn.next=e}return sn}function tp(e,t){return typeof t=="function"?t(e):t}function V1(e){var t=Js(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=Xr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Hc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,yr.lanes|=d,Gc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Aa(n,t.memoizedState)||(Zn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,yr.lanes|=i,Gc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function W1(e){var t=Js(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Aa(i,t.memoizedState)||(Zn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function u6(){}function d6(e,t){var r=yr,n=Js(),a=t(),i=!Aa(n.memoizedState,a);if(i&&(n.memoizedState=a,Zn=!0),n=n.queue,pC(m6.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||sn!==null&&sn.memoizedState.tag&1){if(r.flags|=2048,rp(9,f6.bind(null,r,n,a,t),void 0,null),an===null)throw Error(ve(349));Hc&30||h6(r,t,a)}return a}function h6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function f6(e,t,r,n){t.value=r,t.getSnapshot=n,p6(t)&&g6(e)}function m6(e,t,r){return r(function(){p6(t)&&g6(e)})}function p6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Aa(e,r)}catch{return!0}}function g6(e){var t=no(e,1);t!==null&&Oa(t,e,1,-1)}function fA(e){var t=Ka();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:e},t.queue=e,e=e.dispatch=iQ.bind(null,yr,e),[t.memoizedState,e]}function rp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function v6(){return Js().memoizedState}function Px(e,t,r,n){var a=Ka();yr.flags|=e,a.memoizedState=rp(1|t,r,void 0,n===void 0?null:n)}function ub(e,t,r,n){var a=Js();n=n===void 0?null:n;var i=void 0;if(Xr!==null){var o=Xr.memoizedState;if(i=o.destroy,n!==null&&hC(n,o.deps)){a.memoizedState=rp(t,r,i,n);return}}yr.flags|=e,a.memoizedState=rp(1|t,r,i,n)}function mA(e,t){return Px(8390656,8,e,t)}function pC(e,t){return ub(2048,8,e,t)}function x6(e,t){return ub(4,2,e,t)}function y6(e,t){return ub(4,4,e,t)}function b6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w6(e,t,r){return r=r!=null?r.concat([e]):null,ub(4,4,b6.bind(null,t,e),r)}function gC(){}function j6(e,t){var r=Js();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _6(e,t){var r=Js();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function N6(e,t,r){return Hc&21?(Aa(r,t)||(r=EL(),yr.lanes|=r,Gc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zn=!0),e.memoizedState=r)}function sQ(e,t){var r=Ft;Ft=r!==0&&4>r?r:4,e(!0);var n=U1.transition;U1.transition={};try{e(!1),t()}finally{Ft=r,U1.transition=n}}function S6(){return Js().memoizedState}function aQ(e,t,r){var n=hl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},k6(e))C6(t,r);else if(r=o6(e,t,r,n),r!==null){var a=Fn();Oa(r,e,n,a),P6(r,t,n)}}function iQ(e,t,r){var n=hl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(k6(e))C6(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Aa(l,o)){var c=t.interleaved;c===null?(a.next=a,oC(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=o6(e,t,a,n),r!==null&&(a=Fn(),Oa(r,e,n,a),P6(r,t,n))}}function k6(e){var t=e.alternate;return e===yr||t!==null&&t===yr}function C6(e,t){Sm=dy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function P6(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,G2(e,r)}}var hy={readContext:Zs,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},oQ={readContext:Zs,useCallback:function(e,t){return Ka().memoizedState=[e,t===void 0?null:t],e},useContext:Zs,useEffect:mA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Px(4194308,4,b6.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Px(4194308,4,e,t)},useInsertionEffect:function(e,t){return Px(4,2,e,t)},useMemo:function(e,t){var r=Ka();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ka();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=aQ.bind(null,yr,e),[n.memoizedState,e]},useRef:function(e){var t=Ka();return e={current:e},t.memoizedState=e},useState:fA,useDebugValue:gC,useDeferredValue:function(e){return Ka().memoizedState=e},useTransition:function(){var e=fA(!1),t=e[0];return e=sQ.bind(null,e[1]),Ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=yr,a=Ka();if(hr){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),an===null)throw Error(ve(349));Hc&30||h6(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,mA(m6.bind(null,n,i,e),[e]),n.flags|=2048,rp(9,f6.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ka(),t=an.identifierPrefix;if(hr){var r=zi,n=Bi;r=(n&~(1<<32-Ta(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ep++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=nQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lQ={readContext:Zs,useCallback:j6,useContext:Zs,useEffect:pC,useImperativeHandle:w6,useInsertionEffect:x6,useLayoutEffect:y6,useMemo:_6,useReducer:V1,useRef:v6,useState:function(){return V1(tp)},useDebugValue:gC,useDeferredValue:function(e){var t=Js();return N6(t,Xr.memoizedState,e)},useTransition:function(){var e=V1(tp)[0],t=Js().memoizedState;return[e,t]},useMutableSource:u6,useSyncExternalStore:d6,useId:S6,unstable_isNewReconciler:!1},cQ={readContext:Zs,useCallback:j6,useContext:Zs,useEffect:pC,useImperativeHandle:w6,useInsertionEffect:x6,useLayoutEffect:y6,useMemo:_6,useReducer:W1,useRef:v6,useState:function(){return W1(tp)},useDebugValue:gC,useDeferredValue:function(e){var t=Js();return Xr===null?t.memoizedState=e:N6(t,Xr.memoizedState,e)},useTransition:function(){var e=W1(tp)[0],t=Js().memoizedState;return[e,t]},useMutableSource:u6,useSyncExternalStore:d6,useId:S6,unstable_isNewReconciler:!1};function va(e,t){if(e&&e.defaultProps){t=br({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function oN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:br({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var db={isMounted:function(e){return(e=e._reactInternals)?wu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fn(),a=hl(e),i=Hi(n,a);i.payload=t,r!=null&&(i.callback=r),t=ul(e,i,a),t!==null&&(Oa(t,e,a,n),kx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fn(),a=hl(e),i=Hi(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ul(e,i,a),t!==null&&(Oa(t,e,a,n),kx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fn(),n=hl(e),a=Hi(r,n);a.tag=2,t!=null&&(a.callback=t),t=ul(e,a,n),t!==null&&(Oa(t,e,n,r),kx(t,e,n))}};function pA(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Km(r,n)||!Km(a,i):!0}function E6(e,t,r){var n=!1,a=jl,i=t.contextType;return typeof i=="object"&&i!==null?i=Zs(i):(a=ns(t)?Wc:Tn.current,n=t.contextTypes,i=(n=n!=null)?eh(e,a):jl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=db,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function gA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&db.enqueueReplaceState(t,t.state,null)}function lN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},lC(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Zs(i):(i=ns(t)?Wc:Tn.current,a.context=eh(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(oN(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&db.enqueueReplaceState(a,a.state,null),cy(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,t){try{var r="",n=t;do r+=DX(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function q1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var uQ=typeof WeakMap=="function"?WeakMap:Map;function T6(e,t,r){r=Hi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){my||(my=!0,yN=n),cN(e,t)},r}function O6(e,t,r){r=Hi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){cN(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cN(e,t),typeof n!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function vA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new uQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=NQ.bind(null,e,t,r),t.then(e,e))}function xA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yA(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hi(-1,1),t.tag=2,ul(r,t,1))),r.lanes|=1),e)}var dQ=yo.ReactCurrentOwner,Zn=!1;function Mn(e,t,r,n){t.child=e===null?i6(t,null,r,n):rh(t,e.child,r,n)}function bA(e,t,r,n,a){r=r.render;var i=t.ref;return Pd(t,a),n=fC(e,t,r,n,i,a),r=mC(),e!==null&&!Zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,so(e,t,a)):(hr&&r&&tC(t),t.flags|=1,Mn(e,t,n,a),t.child)}function wA(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!NC(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,A6(e,t,i,n,a)):(e=Ax(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Km,r(o,n)&&e.ref===t.ref)return so(e,t,a)}return t.flags|=1,e=fl(i,n),e.ref=t.ref,e.return=t,t.child=e}function A6(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Km(i,n)&&e.ref===t.ref)if(Zn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Zn=!0);else return t.lanes=e.lanes,so(e,t,a)}return uN(e,t,r,n,a)}function I6(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(fd,fs),fs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tr(fd,fs),fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,tr(fd,fs),fs|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,tr(fd,fs),fs|=n;return Mn(e,t,a,r),t.child}function M6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uN(e,t,r,n,a){var i=ns(r)?Wc:Tn.current;return i=eh(t,i),Pd(t,a),r=fC(e,t,r,n,i,a),n=mC(),e!==null&&!Zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,so(e,t,a)):(hr&&n&&tC(t),t.flags|=1,Mn(e,t,r,a),t.child)}function jA(e,t,r,n,a){if(ns(r)){var i=!0;sy(t)}else i=!1;if(Pd(t,a),t.stateNode===null)Ex(e,t),E6(t,r,n),lN(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Zs(u):(u=ns(r)?Wc:Tn.current,u=eh(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&gA(t,o,n,u),Ro=!1;var f=t.memoizedState;o.state=f,cy(t,n,o,a),c=t.memoizedState,l!==n||f!==c||rs.current||Ro?(typeof d=="function"&&(oN(t,r,d,n),c=t.memoizedState),(l=Ro||pA(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,l6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:va(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Zs(c):(c=ns(r)?Wc:Tn.current,c=eh(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&gA(t,o,n,c),Ro=!1,f=t.memoizedState,o.state=f,cy(t,n,o,a);var g=t.memoizedState;l!==h||f!==g||rs.current||Ro?(typeof m=="function"&&(oN(t,r,m,n),g=t.memoizedState),(u=Ro||pA(t,r,u,n,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return dN(e,t,r,n,i,a)}function dN(e,t,r,n,a,i){M6(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&oA(t,r,!1),so(e,t,i);n=t.stateNode,dQ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=rh(t,e.child,null,i),t.child=rh(t,null,l,i)):Mn(e,t,l,i),t.memoizedState=n.state,a&&oA(t,r,!0),t.child}function R6(e){var t=e.stateNode;t.pendingContext?iA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iA(e,t.context,!1),cC(e,t.containerInfo)}function _A(e,t,r,n,a){return th(),nC(a),t.flags|=256,Mn(e,t,r,n),t.child}var hN={dehydrated:null,treeContext:null,retryLane:0};function fN(e){return{baseLanes:e,cachePool:null,transitions:null}}function $6(e,t,r){var n=t.pendingProps,a=vr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),tr(vr,a&1),e===null)return aN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mb(o,n,0,null),e=Dc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fN(r),t.memoizedState=hN,e):vC(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return hQ(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=fl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=fl(l,i):(i=Dc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?fN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=hN,n}return i=e.child,e=i.sibling,n=fl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function vC(e,t){return t=mb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ev(e,t,r,n){return n!==null&&nC(n),rh(t,e.child,null,r),e=vC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hQ(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=q1(Error(ve(422))),Ev(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=mb({mode:"visible",children:n.children},a,0,null),i=Dc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&rh(t,e.child,null,o),t.child.memoizedState=fN(o),t.memoizedState=hN,i);if(!(t.mode&1))return Ev(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ve(419)),n=q1(i,n,void 0),Ev(e,t,o,n)}if(l=(o&e.childLanes)!==0,Zn||l){if(n=an,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,no(e,a),Oa(n,e,a,-1))}return _C(),n=q1(Error(ve(421))),Ev(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=SQ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ws=cl(a.nextSibling),_s=t,hr=!0,Sa=null,e!==null&&(zs[Us++]=Bi,zs[Us++]=zi,zs[Us++]=qc,Bi=e.id,zi=e.overflow,qc=t),t=vC(t,n.children),t.flags|=4096,t)}function NA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),iN(e.return,t,r)}function H1(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function D6(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Mn(e,t,n.children,r),n=vr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&NA(e,r,t);else if(e.tag===19)NA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tr(vr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&uy(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),H1(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&uy(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}H1(t,!0,r,null,i);break;case"together":H1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ex(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function so(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=fl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fQ(e,t,r){switch(t.tag){case 3:R6(t),th();break;case 5:c6(t);break;case 1:ns(t.type)&&sy(t);break;case 4:cC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;tr(oy,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(tr(vr,vr.current&1),t.flags|=128,null):r&t.child.childLanes?$6(e,t,r):(tr(vr,vr.current&1),e=so(e,t,r),e!==null?e.sibling:null);tr(vr,vr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return D6(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),tr(vr,vr.current),n)break;return null;case 22:case 23:return t.lanes=0,I6(e,t,r)}return so(e,t,r)}var L6,mN,F6,B6;L6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mN=function(){};F6=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,vc(ui.current);var i=null;switch(r){case"input":a=$_(e,a),n=$_(e,n),i=[];break;case"select":a=br({},a,{value:void 0}),n=br({},n,{value:void 0}),i=[];break;case"textarea":a=F_(e,a),n=F_(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ry)}z_(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ir("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};B6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Mf(e,t){if(!hr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mQ(e,t,r){var n=t.pendingProps;switch(rC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(t),null;case 1:return ns(t.type)&&ny(),wn(t),null;case 3:return n=t.stateNode,nh(),cr(rs),cr(Tn),dC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sa!==null&&(jN(Sa),Sa=null))),mN(e,t),wn(t),null;case 5:uC(t);var a=vc(Jm.current);if(r=t.type,e!==null&&t.stateNode!=null)F6(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return wn(t),null}if(e=vc(ui.current),Cv(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ja]=t,n[Qm]=i,e=(t.mode&1)!==0,r){case"dialog":ir("cancel",n),ir("close",n);break;case"iframe":case"object":case"embed":ir("load",n);break;case"video":case"audio":for(a=0;a<cm.length;a++)ir(cm[a],n);break;case"source":ir("error",n);break;case"img":case"image":case"link":ir("error",n),ir("load",n);break;case"details":ir("toggle",n);break;case"input":IO(n,i),ir("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ir("invalid",n);break;case"textarea":RO(n,i),ir("invalid",n)}z_(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&kv(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&kv(n.textContent,l,e),a=["children",""+l]):zm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ir("scroll",n)}switch(r){case"input":xv(n),MO(n,i,!0);break;case"textarea":xv(n),$O(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ry)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mL(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ja]=t,e[Qm]=n,L6(e,t,!1,!1),t.stateNode=e;e:{switch(o=U_(r,n),r){case"dialog":ir("cancel",e),ir("close",e),a=n;break;case"iframe":case"object":case"embed":ir("load",e),a=n;break;case"video":case"audio":for(a=0;a<cm.length;a++)ir(cm[a],e);a=n;break;case"source":ir("error",e),a=n;break;case"img":case"image":case"link":ir("error",e),ir("load",e),a=n;break;case"details":ir("toggle",e),a=n;break;case"input":IO(e,n),a=$_(e,n),ir("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=br({},n,{value:void 0}),ir("invalid",e);break;case"textarea":RO(e,n),a=F_(e,n),ir("invalid",e);break;default:a=n}z_(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?vL(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pL(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Um(e,c):typeof c=="number"&&Um(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ir("scroll",e):c!=null&&z2(e,i,c,o))}switch(r){case"input":xv(e),MO(e,n,!1);break;case"textarea":xv(e),$O(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Nd(e,!!n.multiple,i,!1):n.defaultValue!=null&&Nd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ry)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wn(t),null;case 6:if(e&&t.stateNode!=null)B6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=vc(Jm.current),vc(ui.current),Cv(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ja]=t,(i=n.nodeValue!==r)&&(e=_s,e!==null))switch(e.tag){case 3:kv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kv(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ja]=t,t.stateNode=n}return wn(t),null;case 13:if(cr(vr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hr&&ws!==null&&t.mode&1&&!(t.flags&128))s6(),th(),t.flags|=98560,i=!1;else if(i=Cv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[Ja]=t}else th(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wn(t),i=!1}else Sa!==null&&(jN(Sa),Sa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?Qr===0&&(Qr=3):_C())),t.updateQueue!==null&&(t.flags|=4),wn(t),null);case 4:return nh(),mN(e,t),e===null&&Xm(t.stateNode.containerInfo),wn(t),null;case 10:return iC(t.type._context),wn(t),null;case 17:return ns(t.type)&&ny(),wn(t),null;case 19:if(cr(vr),i=t.memoizedState,i===null)return wn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Mf(i,!1);else{if(Qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uy(e),o!==null){for(t.flags|=128,Mf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return tr(vr,vr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ar()>ah&&(t.flags|=128,n=!0,Mf(i,!1),t.lanes=4194304)}else{if(!n)if(e=uy(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!hr)return wn(t),null}else 2*Ar()-i.renderingStartTime>ah&&r!==1073741824&&(t.flags|=128,n=!0,Mf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ar(),t.sibling=null,r=vr.current,tr(vr,n?r&1|2:r&1),t):(wn(t),null);case 22:case 23:return jC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?fs&1073741824&&(wn(t),t.subtreeFlags&6&&(t.flags|=8192)):wn(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function pQ(e,t){switch(rC(t),t.tag){case 1:return ns(t.type)&&ny(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nh(),cr(rs),cr(Tn),dC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uC(t),null;case 13:if(cr(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));th()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return cr(vr),null;case 4:return nh(),null;case 10:return iC(t.type._context),null;case 22:case 23:return jC(),null;case 24:return null;default:return null}}var Tv=!1,Nn=!1,gQ=typeof WeakSet=="function"?WeakSet:Set,Re=null;function hd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kr(e,t,n)}else r.current=null}function pN(e,t,r){try{r()}catch(n){kr(e,t,n)}}var SA=!1;function vQ(e,t){if(Z_=Jx,e=qL(),eC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=o),f===i&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(J_={focusedElem:e,selectionRange:r},Jx=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:va(t.type,p),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(N){kr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return g=SA,SA=!1,g}function km(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&pN(t,r,i)}a=a.next}while(a!==n)}}function hb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function z6(e){var t=e.alternate;t!==null&&(e.alternate=null,z6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ja],delete t[Qm],delete t[rN],delete t[JY],delete t[eQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function U6(e){return e.tag===5||e.tag===3||e.tag===4}function kA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ry));else if(n!==4&&(e=e.child,e!==null))for(vN(e,t,r),e=e.sibling;e!==null;)vN(e,t,r),e=e.sibling}function xN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xN(e,t,r),e=e.sibling;e!==null;)xN(e,t,r),e=e.sibling}var pn=null,wa=!1;function ko(e,t,r){for(r=r.child;r!==null;)V6(e,t,r),r=r.sibling}function V6(e,t,r){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(sb,r)}catch{}switch(r.tag){case 5:Nn||hd(r,t);case 6:var n=pn,a=wa;pn=null,ko(e,t,r),pn=n,wa=a,pn!==null&&(wa?(e=pn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pn.removeChild(r.stateNode));break;case 18:pn!==null&&(wa?(e=pn,r=r.stateNode,e.nodeType===8?F1(e.parentNode,r):e.nodeType===1&&F1(e,r),Hm(e)):F1(pn,r.stateNode));break;case 4:n=pn,a=wa,pn=r.stateNode.containerInfo,wa=!0,ko(e,t,r),pn=n,wa=a;break;case 0:case 11:case 14:case 15:if(!Nn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pN(r,t,o),a=a.next}while(a!==n)}ko(e,t,r);break;case 1:if(!Nn&&(hd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){kr(r,t,l)}ko(e,t,r);break;case 21:ko(e,t,r);break;case 22:r.mode&1?(Nn=(n=Nn)||r.memoizedState!==null,ko(e,t,r),Nn=n):ko(e,t,r);break;default:ko(e,t,r)}}function CA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gQ),t.forEach(function(n){var a=kQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ca(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:pn=l.stateNode,wa=!1;break e;case 3:pn=l.stateNode.containerInfo,wa=!0;break e;case 4:pn=l.stateNode.containerInfo,wa=!0;break e}l=l.return}if(pn===null)throw Error(ve(160));V6(i,o,a),pn=null,wa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){kr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)W6(t,e),t=t.sibling}function W6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ca(t,e),Ga(e),n&4){try{km(3,e,e.return),hb(3,e)}catch(p){kr(e,e.return,p)}try{km(5,e,e.return)}catch(p){kr(e,e.return,p)}}break;case 1:ca(t,e),Ga(e),n&512&&r!==null&&hd(r,r.return);break;case 5:if(ca(t,e),Ga(e),n&512&&r!==null&&hd(r,r.return),e.flags&32){var a=e.stateNode;try{Um(a,"")}catch(p){kr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&hL(a,i),U_(l,o);var u=U_(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?vL(a,h):d==="dangerouslySetInnerHTML"?pL(a,h):d==="children"?Um(a,h):z2(a,d,h,u)}switch(l){case"input":D_(a,i);break;case"textarea":fL(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Nd(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Nd(a,!!i.multiple,i.defaultValue,!0):Nd(a,!!i.multiple,i.multiple?[]:"",!1))}a[Qm]=i}catch(p){kr(e,e.return,p)}}break;case 6:if(ca(t,e),Ga(e),n&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){kr(e,e.return,p)}}break;case 3:if(ca(t,e),Ga(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hm(t.containerInfo)}catch(p){kr(e,e.return,p)}break;case 4:ca(t,e),Ga(e);break;case 13:ca(t,e),Ga(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(bC=Ar())),n&4&&CA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Nn=(u=Nn)||d,ca(t,e),Nn=u):ca(t,e),Ga(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Re=e,d=e.child;d!==null;){for(h=Re=d;Re!==null;){switch(f=Re,m=f.child,f.tag){case 0:case 11:case 14:case 15:km(4,f,f.return);break;case 1:hd(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){kr(n,r,p)}}break;case 5:hd(f,f.return);break;case 22:if(f.memoizedState!==null){EA(h);continue}}m!==null?(m.return=f,Re=m):EA(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=gL("display",o))}catch(p){kr(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){kr(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ca(t,e),Ga(e),n&4&&CA(e);break;case 21:break;default:ca(t,e),Ga(e)}}function Ga(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(U6(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Um(a,""),n.flags&=-33);var i=kA(e);xN(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=kA(e);vN(e,l,o);break;default:throw Error(ve(161))}}catch(c){kr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xQ(e,t,r){Re=e,q6(e)}function q6(e,t,r){for(var n=(e.mode&1)!==0;Re!==null;){var a=Re,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Tv;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Nn;l=Tv;var u=Nn;if(Tv=o,(Nn=c)&&!u)for(Re=a;Re!==null;)o=Re,c=o.child,o.tag===22&&o.memoizedState!==null?TA(a):c!==null?(c.return=o,Re=c):TA(a);for(;i!==null;)Re=i,q6(i),i=i.sibling;Re=a,Tv=l,Nn=u}PA(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Re=i):PA(e)}}function PA(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nn||hb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Nn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:va(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&hA(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}hA(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Nn||t.flags&512&&gN(t)}catch(f){kr(t,t.return,f)}}if(t===e){Re=null;break}if(r=t.sibling,r!==null){r.return=t.return,Re=r;break}Re=t.return}}function EA(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Re=r;break}Re=t.return}}function TA(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hb(4,t)}catch(c){kr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){kr(t,a,c)}}var i=t.return;try{gN(t)}catch(c){kr(t,i,c)}break;case 5:var o=t.return;try{gN(t)}catch(c){kr(t,o,c)}}}catch(c){kr(t,t.return,c)}if(t===e){Re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Re=l;break}Re=t.return}}var yQ=Math.ceil,fy=yo.ReactCurrentDispatcher,xC=yo.ReactCurrentOwner,Gs=yo.ReactCurrentBatchConfig,Ct=0,an=null,Fr=null,xn=0,fs=0,fd=Rl(0),Qr=0,np=null,Gc=0,fb=0,yC=0,Cm=null,Yn=null,bC=0,ah=1/0,Ai=null,my=!1,yN=null,dl=null,Ov=!1,el=null,py=0,Pm=0,bN=null,Tx=-1,Ox=0;function Fn(){return Ct&6?Ar():Tx!==-1?Tx:Tx=Ar()}function hl(e){return e.mode&1?Ct&2&&xn!==0?xn&-xn:rQ.transition!==null?(Ox===0&&(Ox=EL()),Ox):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:$L(e.type)),e):1}function Oa(e,t,r,n){if(50<Pm)throw Pm=0,bN=null,Error(ve(185));bg(e,r,n),(!(Ct&2)||e!==an)&&(e===an&&(!(Ct&2)&&(fb|=r),Qr===4&&Bo(e,xn)),ss(e,n),r===1&&Ct===0&&!(t.mode&1)&&(ah=Ar()+500,cb&&$l()))}function ss(e,t){var r=e.callbackNode;rY(e,t);var n=Zx(e,e===an?xn:0);if(n===0)r!==null&&FO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&FO(r),t===1)e.tag===0?tQ(OA.bind(null,e)):t6(OA.bind(null,e)),QY(function(){!(Ct&6)&&$l()}),r=null;else{switch(TL(n)){case 1:r=H2;break;case 4:r=CL;break;case 16:r=Qx;break;case 536870912:r=PL;break;default:r=Qx}r=J6(r,H6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function H6(e,t){if(Tx=-1,Ox=0,Ct&6)throw Error(ve(327));var r=e.callbackNode;if(Ed()&&e.callbackNode!==r)return null;var n=Zx(e,e===an?xn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gy(e,n);else{t=n;var a=Ct;Ct|=2;var i=K6();(an!==e||xn!==t)&&(Ai=null,ah=Ar()+500,$c(e,t));do try{jQ();break}catch(l){G6(e,l)}while(!0);aC(),fy.current=i,Ct=a,Fr!==null?t=0:(an=null,xn=0,t=Qr)}if(t!==0){if(t===2&&(a=G_(e),a!==0&&(n=a,t=wN(e,a))),t===1)throw r=np,$c(e,0),Bo(e,n),ss(e,Ar()),r;if(t===6)Bo(e,n);else{if(a=e.current.alternate,!(n&30)&&!bQ(a)&&(t=gy(e,n),t===2&&(i=G_(e),i!==0&&(n=i,t=wN(e,i))),t===1))throw r=np,$c(e,0),Bo(e,n),ss(e,Ar()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:ac(e,Yn,Ai);break;case 3:if(Bo(e,n),(n&130023424)===n&&(t=bC+500-Ar(),10<t)){if(Zx(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Fn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=tN(ac.bind(null,e,Yn,Ai),t);break}ac(e,Yn,Ai);break;case 4:if(Bo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ta(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yQ(n/1960))-n,10<n){e.timeoutHandle=tN(ac.bind(null,e,Yn,Ai),n);break}ac(e,Yn,Ai);break;case 5:ac(e,Yn,Ai);break;default:throw Error(ve(329))}}}return ss(e,Ar()),e.callbackNode===r?H6.bind(null,e):null}function wN(e,t){var r=Cm;return e.current.memoizedState.isDehydrated&&($c(e,t).flags|=256),e=gy(e,t),e!==2&&(t=Yn,Yn=r,t!==null&&jN(t)),e}function jN(e){Yn===null?Yn=e:Yn.push.apply(Yn,e)}function bQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Aa(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bo(e,t){for(t&=~yC,t&=~fb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ta(t),n=1<<r;e[r]=-1,t&=~n}}function OA(e){if(Ct&6)throw Error(ve(327));Ed();var t=Zx(e,0);if(!(t&1))return ss(e,Ar()),null;var r=gy(e,t);if(e.tag!==0&&r===2){var n=G_(e);n!==0&&(t=n,r=wN(e,n))}if(r===1)throw r=np,$c(e,0),Bo(e,t),ss(e,Ar()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ac(e,Yn,Ai),ss(e,Ar()),null}function wC(e,t){var r=Ct;Ct|=1;try{return e(t)}finally{Ct=r,Ct===0&&(ah=Ar()+500,cb&&$l())}}function Kc(e){el!==null&&el.tag===0&&!(Ct&6)&&Ed();var t=Ct;Ct|=1;var r=Gs.transition,n=Ft;try{if(Gs.transition=null,Ft=1,e)return e()}finally{Ft=n,Gs.transition=r,Ct=t,!(Ct&6)&&$l()}}function jC(){fs=fd.current,cr(fd)}function $c(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,YY(r)),Fr!==null)for(r=Fr.return;r!==null;){var n=r;switch(rC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ny();break;case 3:nh(),cr(rs),cr(Tn),dC();break;case 5:uC(n);break;case 4:nh();break;case 13:cr(vr);break;case 19:cr(vr);break;case 10:iC(n.type._context);break;case 22:case 23:jC()}r=r.return}if(an=e,Fr=e=fl(e.current,null),xn=fs=t,Qr=0,np=null,yC=fb=Gc=0,Yn=Cm=null,gc!==null){for(t=0;t<gc.length;t++)if(r=gc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}gc=null}return e}function G6(e,t){do{var r=Fr;try{if(aC(),Cx.current=hy,dy){for(var n=yr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}dy=!1}if(Hc=0,sn=Xr=yr=null,Sm=!1,ep=0,xC.current=null,r===null||r.return===null){Qr=1,np=t,Fr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=xn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=xA(o);if(m!==null){m.flags&=-257,yA(m,o,l,i,t),m.mode&1&&vA(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){vA(i,u,t),_C();break e}c=Error(ve(426))}}else if(hr&&l.mode&1){var x=xA(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),yA(x,o,l,i,t),nC(sh(c,l));break e}}i=c=sh(c,l),Qr!==4&&(Qr=2),Cm===null?Cm=[i]:Cm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=T6(i,c,t);dA(i,b);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(dl===null||!dl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=O6(i,l,t);dA(i,N);break e}}i=i.return}while(i!==null)}Y6(r)}catch(S){t=S,Fr===r&&r!==null&&(Fr=r=r.return);continue}break}while(!0)}function K6(){var e=fy.current;return fy.current=hy,e===null?hy:e}function _C(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),an===null||!(Gc&268435455)&&!(fb&268435455)||Bo(an,xn)}function gy(e,t){var r=Ct;Ct|=2;var n=K6();(an!==e||xn!==t)&&(Ai=null,$c(e,t));do try{wQ();break}catch(a){G6(e,a)}while(!0);if(aC(),Ct=r,fy.current=n,Fr!==null)throw Error(ve(261));return an=null,xn=0,Qr}function wQ(){for(;Fr!==null;)X6(Fr)}function jQ(){for(;Fr!==null&&!GX();)X6(Fr)}function X6(e){var t=Z6(e.alternate,e,fs);e.memoizedProps=e.pendingProps,t===null?Y6(e):Fr=t,xC.current=null}function Y6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pQ(r,t),r!==null){r.flags&=32767,Fr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qr=6,Fr=null;return}}else if(r=mQ(r,t,fs),r!==null){Fr=r;return}if(t=t.sibling,t!==null){Fr=t;return}Fr=t=e}while(t!==null);Qr===0&&(Qr=5)}function ac(e,t,r){var n=Ft,a=Gs.transition;try{Gs.transition=null,Ft=1,_Q(e,t,r,n)}finally{Gs.transition=a,Ft=n}return null}function _Q(e,t,r,n){do Ed();while(el!==null);if(Ct&6)throw Error(ve(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(nY(e,i),e===an&&(Fr=an=null,xn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ov||(Ov=!0,J6(Qx,function(){return Ed(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Gs.transition,Gs.transition=null;var o=Ft;Ft=1;var l=Ct;Ct|=4,xC.current=null,vQ(e,r),W6(r,e),VY(J_),Jx=!!Z_,J_=Z_=null,e.current=r,xQ(r),KX(),Ct=l,Ft=o,Gs.transition=i}else e.current=r;if(Ov&&(Ov=!1,el=e,py=a),i=e.pendingLanes,i===0&&(dl=null),QX(r.stateNode),ss(e,Ar()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(my)throw my=!1,e=yN,yN=null,e;return py&1&&e.tag!==0&&Ed(),i=e.pendingLanes,i&1?e===bN?Pm++:(Pm=0,bN=e):Pm=0,$l(),null}function Ed(){if(el!==null){var e=TL(py),t=Gs.transition,r=Ft;try{if(Gs.transition=null,Ft=16>e?16:e,el===null)var n=!1;else{if(e=el,el=null,py=0,Ct&6)throw Error(ve(331));var a=Ct;for(Ct|=4,Re=e.current;Re!==null;){var i=Re,o=i.child;if(Re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Re=u;Re!==null;){var d=Re;switch(d.tag){case 0:case 11:case 15:km(8,d,i)}var h=d.child;if(h!==null)h.return=d,Re=h;else for(;Re!==null;){d=Re;var f=d.sibling,m=d.return;if(z6(d),d===u){Re=null;break}if(f!==null){f.return=m,Re=f;break}Re=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Re=o;else e:for(;Re!==null;){if(i=Re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:km(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Re=b;break e}Re=i.return}}var y=e.current;for(Re=y;Re!==null;){o=Re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Re=w;else e:for(o=y;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hb(9,l)}}catch(S){kr(l,l.return,S)}if(l===o){Re=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Re=N;break e}Re=l.return}}if(Ct=a,$l(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(sb,e)}catch{}n=!0}return n}finally{Ft=r,Gs.transition=t}}return!1}function AA(e,t,r){t=sh(r,t),t=T6(e,t,1),e=ul(e,t,1),t=Fn(),e!==null&&(bg(e,1,t),ss(e,t))}function kr(e,t,r){if(e.tag===3)AA(e,e,r);else for(;t!==null;){if(t.tag===3){AA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dl===null||!dl.has(n))){e=sh(r,e),e=O6(t,e,1),t=ul(t,e,1),e=Fn(),t!==null&&(bg(t,1,e),ss(t,e));break}}t=t.return}}function NQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fn(),e.pingedLanes|=e.suspendedLanes&r,an===e&&(xn&r)===r&&(Qr===4||Qr===3&&(xn&130023424)===xn&&500>Ar()-bC?$c(e,0):yC|=r),ss(e,t)}function Q6(e,t){t===0&&(e.mode&1?(t=wv,wv<<=1,!(wv&130023424)&&(wv=4194304)):t=1);var r=Fn();e=no(e,t),e!==null&&(bg(e,t,r),ss(e,r))}function SQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Q6(e,r)}function kQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),Q6(e,r)}var Z6;Z6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rs.current)Zn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Zn=!1,fQ(e,t,r);Zn=!!(e.flags&131072)}else Zn=!1,hr&&t.flags&1048576&&r6(t,iy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ex(e,t),e=t.pendingProps;var a=eh(t,Tn.current);Pd(t,r),a=fC(null,t,n,e,a,r);var i=mC();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ns(n)?(i=!0,sy(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,lC(t),a.updater=db,t.stateNode=a,a._reactInternals=t,lN(t,n,e,r),t=dN(null,t,n,!0,i,r)):(t.tag=0,hr&&i&&tC(t),Mn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ex(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=PQ(n),e=va(n,e),a){case 0:t=uN(null,t,n,e,r);break e;case 1:t=jA(null,t,n,e,r);break e;case 11:t=bA(null,t,n,e,r);break e;case 14:t=wA(null,t,n,va(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:va(n,a),uN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:va(n,a),jA(e,t,n,a,r);case 3:e:{if(R6(t),e===null)throw Error(ve(387));n=t.pendingProps,i=t.memoizedState,a=i.element,l6(e,t),cy(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=sh(Error(ve(423)),t),t=_A(e,t,n,r,a);break e}else if(n!==a){a=sh(Error(ve(424)),t),t=_A(e,t,n,r,a);break e}else for(ws=cl(t.stateNode.containerInfo.firstChild),_s=t,hr=!0,Sa=null,r=i6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(th(),n===a){t=so(e,t,r);break e}Mn(e,t,n,r)}t=t.child}return t;case 5:return c6(t),e===null&&aN(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,eN(n,a)?o=null:i!==null&&eN(n,i)&&(t.flags|=32),M6(e,t),Mn(e,t,o,r),t.child;case 6:return e===null&&aN(t),null;case 13:return $6(e,t,r);case 4:return cC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rh(t,null,n,r):Mn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:va(n,a),bA(e,t,n,a,r);case 7:return Mn(e,t,t.pendingProps,r),t.child;case 8:return Mn(e,t,t.pendingProps.children,r),t.child;case 12:return Mn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,tr(oy,n._currentValue),n._currentValue=o,i!==null)if(Aa(i.value,o)){if(i.children===a.children&&!rs.current){t=so(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Hi(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),iN(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),iN(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Pd(t,r),a=Zs(a),n=n(a),t.flags|=1,Mn(e,t,n,r),t.child;case 14:return n=t.type,a=va(n,t.pendingProps),a=va(n.type,a),wA(e,t,n,a,r);case 15:return A6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:va(n,a),Ex(e,t),t.tag=1,ns(n)?(e=!0,sy(t)):e=!1,Pd(t,r),E6(t,n,a),lN(t,n,a,r),dN(null,t,n,!0,e,r);case 19:return D6(e,t,r);case 22:return I6(e,t,r)}throw Error(ve(156,t.tag))};function J6(e,t){return kL(e,t)}function CQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,r,n){return new CQ(e,t,r,n)}function NC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PQ(e){if(typeof e=="function")return NC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===V2)return 11;if(e===W2)return 14}return 2}function fl(e,t){var r=e.alternate;return r===null?(r=Ws(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ax(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")NC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nd:return Dc(r.children,a,i,t);case U2:o=8,a|=8;break;case A_:return e=Ws(12,r,t,a|2),e.elementType=A_,e.lanes=i,e;case I_:return e=Ws(13,r,t,a),e.elementType=I_,e.lanes=i,e;case M_:return e=Ws(19,r,t,a),e.elementType=M_,e.lanes=i,e;case cL:return mb(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oL:o=10;break e;case lL:o=9;break e;case V2:o=11;break e;case W2:o=14;break e;case Mo:o=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=Ws(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Dc(e,t,r,n){return e=Ws(7,e,n,t),e.lanes=r,e}function mb(e,t,r,n){return e=Ws(22,e,n,t),e.elementType=cL,e.lanes=r,e.stateNode={isHidden:!1},e}function G1(e,t,r){return e=Ws(6,e,null,t),e.lanes=r,e}function K1(e,t,r){return t=Ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EQ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=P1(0),this.expirationTimes=P1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P1(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function SC(e,t,r,n,a,i,o,l,c){return e=new EQ(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ws(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lC(i),e}function TQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function e8(e){if(!e)return jl;e=e._reactInternals;e:{if(wu(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ns(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(ns(r))return e6(e,r,t)}return t}function t8(e,t,r,n,a,i,o,l,c){return e=SC(r,n,!0,e,a,i,o,l,c),e.context=e8(null),r=e.current,n=Fn(),a=hl(r),i=Hi(n,a),i.callback=t??null,ul(r,i,a),e.current.lanes=a,bg(e,a,n),ss(e,n),e}function pb(e,t,r,n){var a=t.current,i=Fn(),o=hl(a);return r=e8(r),t.context===null?t.context=r:t.pendingContext=r,t=Hi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ul(a,t,o),e!==null&&(Oa(e,a,o,i),kx(e,a,o)),o}function vy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function IA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function kC(e,t){IA(e,t),(e=e.alternate)&&IA(e,t)}function OQ(){return null}var r8=typeof reportError=="function"?reportError:function(e){console.error(e)};function CC(e){this._internalRoot=e}gb.prototype.render=CC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));pb(e,t,null,null)};gb.prototype.unmount=CC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kc(function(){pb(null,e,null,null)}),t[ro]=null}};function gb(e){this._internalRoot=e}gb.prototype.unstable_scheduleHydration=function(e){if(e){var t=IL();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fo.length&&t!==0&&t<Fo[r].priority;r++);Fo.splice(r,0,e),r===0&&RL(e)}};function PC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function MA(){}function AQ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=vy(o);i.call(u)}}var o=t8(t,n,e,0,null,!1,!1,"",MA);return e._reactRootContainer=o,e[ro]=o.current,Xm(e.nodeType===8?e.parentNode:e),Kc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=vy(c);l.call(u)}}var c=SC(e,0,!1,null,null,!1,!1,"",MA);return e._reactRootContainer=c,e[ro]=c.current,Xm(e.nodeType===8?e.parentNode:e),Kc(function(){pb(t,c,r,n)}),c}function xb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=vy(o);l.call(c)}}pb(t,o,e,a)}else o=AQ(r,t,e,a,n);return vy(o)}OL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lm(t.pendingLanes);r!==0&&(G2(t,r|1),ss(t,Ar()),!(Ct&6)&&(ah=Ar()+500,$l()))}break;case 13:Kc(function(){var n=no(e,1);if(n!==null){var a=Fn();Oa(n,e,1,a)}}),kC(e,1)}};K2=function(e){if(e.tag===13){var t=no(e,134217728);if(t!==null){var r=Fn();Oa(t,e,134217728,r)}kC(e,134217728)}};AL=function(e){if(e.tag===13){var t=hl(e),r=no(e,t);if(r!==null){var n=Fn();Oa(r,e,t,n)}kC(e,t)}};IL=function(){return Ft};ML=function(e,t){var r=Ft;try{return Ft=e,t()}finally{Ft=r}};W_=function(e,t,r){switch(t){case"input":if(D_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=lb(n);if(!a)throw Error(ve(90));dL(n),D_(n,a)}}}break;case"textarea":fL(e,r);break;case"select":t=r.value,t!=null&&Nd(e,!!r.multiple,t,!1)}};bL=wC;wL=Kc;var IQ={usingClientEntryPoint:!1,Events:[jg,od,lb,xL,yL,wC]},Rf={findFiberByHostInstance:pc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MQ={bundleType:Rf.bundleType,version:Rf.version,rendererPackageName:Rf.rendererPackageName,rendererConfig:Rf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=NL(e),e===null?null:e.stateNode},findFiberByHostInstance:Rf.findFiberByHostInstance||OQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Av=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Av.isDisabled&&Av.supportsFiber)try{sb=Av.inject(MQ),ci=Av}catch{}}Is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IQ;Is.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PC(t))throw Error(ve(200));return TQ(e,t,null,r)};Is.createRoot=function(e,t){if(!PC(e))throw Error(ve(299));var r=!1,n="",a=r8;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=SC(e,1,!1,null,null,r,!1,n,a),e[ro]=t.current,Xm(e.nodeType===8?e.parentNode:e),new CC(t)};Is.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=NL(t),e=e===null?null:e.stateNode,e};Is.flushSync=function(e){return Kc(e)};Is.hydrate=function(e,t,r){if(!vb(t))throw Error(ve(200));return xb(null,e,t,!0,r)};Is.hydrateRoot=function(e,t,r){if(!PC(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=r8;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=t8(t,null,e,1,r??null,a,!1,i,o),e[ro]=t.current,Xm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new gb(t)};Is.render=function(e,t,r){if(!vb(t))throw Error(ve(200));return xb(null,e,t,!1,r)};Is.unmountComponentAtNode=function(e){if(!vb(e))throw Error(ve(40));return e._reactRootContainer?(Kc(function(){xb(null,null,e,!1,function(){e._reactRootContainer=null,e[ro]=null})}),!0):!1};Is.unstable_batchedUpdates=wC;Is.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vb(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return xb(e,t,r,!1,n)};Is.version="18.3.1-next-f1338f8080-20240426";function n8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n8)}catch(e){console.error(e)}}n8(),nL.exports=Is;var ju=nL.exports;const s8=Bt(ju);var a8,RA=ju;a8=RA.createRoot,RA.hydrateRoot;var i8={exports:{}},o8={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng=v;function RQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $Q=typeof Object.is=="function"?Object.is:RQ,DQ=Ng.useSyncExternalStore,LQ=Ng.useRef,FQ=Ng.useEffect,BQ=Ng.useMemo,zQ=Ng.useDebugValue;o8.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=LQ(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=BQ(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return h=g}return h=m}if(g=h,$Q(d,m))return g;var p=n(m);return a!==void 0&&a(g,p)?(d=m,g):(d=m,h=p)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,a]);var l=DQ(e,i[0],i[1]);return FQ(function(){o.hasValue=!0,o.value=l},[l]),zQ(l),l};i8.exports=o8;var UQ=i8.exports;function VQ(e){e()}function WQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){VQ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var $A={notify(){},get:()=>[]};function qQ(e,t){let r,n=$A,a=0,i=!1;function o(p){d();const x=n.subscribe(p);let b=!1;return()=>{b||(b=!0,x(),h())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=WQ())}function h(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=$A)}function f(){i||(i=!0,d())}function m(){i&&(i=!1,h())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>n};return g}var HQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GQ=HQ(),KQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",XQ=KQ(),YQ=()=>GQ||XQ?v.useLayoutEffect:v.useEffect,QQ=YQ(),X1=Symbol.for("react-redux-context"),Y1=typeof globalThis<"u"?globalThis:{};function ZQ(){if(!v.createContext)return{};const e=Y1[X1]??(Y1[X1]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var _l=ZQ();function JQ(e){const{children:t,context:r,serverState:n,store:a}=e,i=v.useMemo(()=>{const c=qQ(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=v.useMemo(()=>a.getState(),[a]);QQ(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||_l;return v.createElement(l.Provider,{value:i},t)}var eZ=JQ;function EC(e=_l){return function(){return v.useContext(e)}}var l8=EC();function c8(e=_l){const t=e===_l?l8:EC(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var tZ=c8();function rZ(e=_l){const t=e===_l?tZ:c8(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var nZ=rZ(),sZ=(e,t)=>e===t;function aZ(e=_l){const t=e===_l?l8:EC(e),r=(n,a={})=>{const{equalityFn:i=sZ}=typeof a=="function"?{equalityFn:a}:a,o=t(),{store:l,subscription:c,getServerState:u}=o;v.useRef(!0);const d=v.useCallback({[n.name](f){return n(f)}}[n.name],[n]),h=UQ.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,i);return v.useDebugValue(h),h};return Object.assign(r,{withTypes:()=>r}),r}var iZ=aZ();const oZ=1,lZ=1e6;let Q1=0;function cZ(){return Q1=(Q1+1)%Number.MAX_SAFE_INTEGER,Q1.toString()}const Z1=new Map,DA=e=>{if(Z1.has(e))return;const t=setTimeout(()=>{Z1.delete(e),Em({type:"REMOVE_TOAST",toastId:e})},lZ);Z1.set(e,t)},uZ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,oZ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?DA(r):e.toasts.forEach(n=>{DA(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ix=[];let Mx={toasts:[]};function Em(e){Mx=uZ(Mx,e),Ix.forEach(t=>{t(Mx)})}function dZ({...e}){const t=cZ(),r=a=>Em({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Em({type:"DISMISS_TOAST",toastId:t});return Em({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function TC(){const[e,t]=v.useState(Mx);return v.useEffect(()=>(Ix.push(t),()=>{const r=Ix.indexOf(t);r>-1&&Ix.splice(r,1)}),[e]),{...e,toast:dZ,dismiss:r=>Em({type:"DISMISS_TOAST",toastId:r})}}function Ie(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function LA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function u8(...e){return t=>{let r=!1;const n=e.map(a=>{const i=LA(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():LA(e[a],null)}}}}function lt(...e){return v.useCallback(u8(...e),e)}function hZ(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function On(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=h=>{var b;const{scope:f,children:m,...g}=h,p=((b=f==null?void 0:f[e])==null?void 0:b[c])||l,x=v.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,fZ(a,...t)]}function fZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Xc(e){const t=mZ(e),r=v.forwardRef((n,a)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(pZ);if(c){const u=c.props.children,d=l.map(h=>h===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Xh=Xc("Slot");function mZ(e){const t=v.forwardRef((r,n)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=vZ(a),l=gZ(i,a.props);return a.type!==v.Fragment&&(l.ref=n?u8(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var d8=Symbol("radix.slottable");function h8(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=d8,t}function pZ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===d8}function gZ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function vZ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function yb(e){const t=e+"CollectionProvider",[r,n]=On(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:b}=p,y=B.useRef(null),w=B.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:w,collectionRef:y,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=Xc(l),u=B.forwardRef((p,x)=>{const{scope:b,children:y}=p,w=i(l,b),N=lt(x,w.collectionRef);return s.jsx(c,{ref:N,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Xc(d),m=B.forwardRef((p,x)=>{const{scope:b,children:y,...w}=p,N=B.useRef(null),S=lt(x,N),k=i(d,b);return B.useEffect(()=>(k.itemMap.set(N,{ref:N,...w}),()=>void k.itemMap.delete(N))),s.jsx(f,{[h]:"",ref:S,children:y})});m.displayName=d;function g(p){const x=i(e+"CollectionConsumer",p);return B.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((k,_)=>w.indexOf(k.ref.current)-w.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var xZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=xZ.reduce((e,t)=>{const r=Xc(`Primitive.${t}`),n=v.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function f8(e,t){e&&ju.flushSync(()=>e.dispatchEvent(t))}function Br(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function yZ(e,t=globalThis==null?void 0:globalThis.document){const r=Br(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var bZ="DismissableLayer",_N="dismissableLayer.update",wZ="dismissableLayer.pointerDownOutside",jZ="dismissableLayer.focusOutside",FA,m8=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yh=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(m8),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),g=lt(t,_=>h(_)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(x),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=y>=b,S=NZ(_=>{const j=_.target,C=[...u.branches].some(I=>I.contains(j));!N||C||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},f),k=SZ(_=>{const j=_.target;[...u.branches].some(I=>I.contains(j))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},f);return yZ(_=>{y===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},f),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(FA=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),BA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=FA)}},[d,f,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),BA())},[d,u]),v.useEffect(()=>{const _=()=>m({});return document.addEventListener(_N,_),()=>document.removeEventListener(_N,_)},[]),s.jsx(Be.div,{...c,ref:g,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,S.onPointerDownCapture)})});Yh.displayName=bZ;var _Z="DismissableLayerBranch",p8=v.forwardRef((e,t)=>{const r=v.useContext(m8),n=v.useRef(null),a=lt(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Be.div,{...e,ref:a})});p8.displayName=_Z;function NZ(e,t=globalThis==null?void 0:globalThis.document){const r=Br(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){g8(wZ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function SZ(e,t=globalThis==null?void 0:globalThis.document){const r=Br(e),n=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!n.current&&g8(jZ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function BA(){const e=new CustomEvent(_N);document.dispatchEvent(e)}function g8(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?f8(a,i):a.dispatchEvent(i)}var kZ=Yh,CZ=p8,Er=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},PZ="Portal",Sg=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=v.useState(!1);Er(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?s8.createPortal(s.jsx(Be.div,{...n,ref:t}),o):null});Sg.displayName=PZ;function EZ(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Wn=e=>{const{present:t,children:r}=e,n=TZ(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=lt(n.ref,OZ(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:i}):null};Wn.displayName="Presence";function TZ(e){const[t,r]=v.useState(),n=v.useRef(null),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=EZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Iv(n.current);i.current=l==="mounted"?u:"none"},[l]),Er(()=>{const u=n.current,d=a.current;if(d!==e){const f=i.current,m=Iv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Er(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const p=Iv(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(i.current=Iv(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Iv(e){return(e==null?void 0:e.animationName)||"none"}function OZ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var AZ=L2[" useInsertionEffect ".trim().toString()]||Er;function Es({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=IZ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=v.useCallback(d=>{var h;if(l){const f=MZ(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[l,e,i,o]);return[c,u]}function IZ({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return AZ(()=>{i.current=t},[t]),v.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function MZ(e){return typeof e=="function"}var v8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RZ="VisuallyHidden",bb=v.forwardRef((e,t)=>s.jsx(Be.span,{...e,ref:t,style:{...v8,...e.style}}));bb.displayName=RZ;var $Z=bb,OC="ToastProvider",[AC,DZ,LZ]=yb("Toast"),[x8,kHe]=On("Toast",[LZ]),[FZ,wb]=x8(OC),y8=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${OC}\`. Expected non-empty \`string\`.`),s.jsx(AC.Provider,{scope:t,children:s.jsx(FZ,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};y8.displayName=OC;var b8="ToastViewport",BZ=["F8"],NN="toast.viewportPause",SN="toast.viewportResume",w8=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=BZ,label:a="Notifications ({hotkey})",...i}=e,o=wb(b8,r),l=DZ(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=lt(t,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;v.useEffect(()=>{const x=b=>{var w;n.length!==0&&n.every(N=>b[N]||b.code===N)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),v.useEffect(()=>{const x=c.current,b=h.current;if(g&&x&&b){const y=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(NN);b.dispatchEvent(k),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(SN);b.dispatchEvent(k),o.isClosePausedRef.current=!1}},N=k=>{!x.contains(k.relatedTarget)&&w()},S=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",N),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:x})=>{const y=l().map(w=>{const N=w.ref.current,S=[N,...JZ(N)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const x=h.current;if(x){const b=y=>{var S,k,_;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const j=document.activeElement,C=y.shiftKey;if(y.target===x&&C){(S=u.current)==null||S.focus();return}const $=p({tabbingDirection:C?"backwards":"forwards"}),W=$.findIndex(V=>V===j);J1($.slice(W+1))?y.preventDefault():C?(k=u.current)==null||k.focus():(_=d.current)==null||_.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,p]),s.jsxs(CZ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(kN,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});J1(x)}}),s.jsx(AC.Slot,{scope:r,children:s.jsx(Be.ol,{tabIndex:-1,...i,ref:f})}),g&&s.jsx(kN,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});J1(x)}})]})});w8.displayName=b8;var j8="ToastFocusProxy",kN=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=wb(j8,r);return s.jsx(bb,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});kN.displayName=j8;var kg="Toast",zZ="toast.swipeStart",UZ="toast.swipeMove",VZ="toast.swipeCancel",WZ="toast.swipeEnd",_8=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Es({prop:n,defaultProp:a??!0,onChange:i,caller:kg});return s.jsx(Wn,{present:r||l,children:s.jsx(GZ,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Br(e.onPause),onResume:Br(e.onResume),onSwipeStart:Ie(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ie(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});_8.displayName=kg;var[qZ,HZ]=x8(kg,{onClose(){}}),GZ=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=e,p=wb(kg,r),[x,b]=v.useState(null),y=lt(t,V=>b(V)),w=v.useRef(null),N=v.useRef(null),S=a||p.duration,k=v.useRef(0),_=v.useRef(S),j=v.useRef(0),{onToastAdd:C,onToastRemove:I}=p,M=Br(()=>{var E;(x==null?void 0:x.contains(document.activeElement))&&((E=p.viewport)==null||E.focus()),o()}),$=v.useCallback(V=>{!V||V===1/0||(window.clearTimeout(j.current),k.current=new Date().getTime(),j.current=window.setTimeout(M,V))},[M]);v.useEffect(()=>{const V=p.viewport;if(V){const E=()=>{$(_.current),u==null||u()},P=()=>{const R=new Date().getTime()-k.current;_.current=_.current-R,window.clearTimeout(j.current),c==null||c()};return V.addEventListener(NN,P),V.addEventListener(SN,E),()=>{V.removeEventListener(NN,P),V.removeEventListener(SN,E)}}},[p.viewport,S,c,u,$]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&$(S)},[i,S,p.isClosePausedRef,$]),v.useEffect(()=>(C(),()=>I()),[C,I]);const W=v.useMemo(()=>x?T8(x):null,[x]);return p.viewport?s.jsxs(s.Fragment,{children:[W&&s.jsx(KZ,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),s.jsx(qZ,{scope:r,onClose:M,children:ju.createPortal(s.jsx(AC.ItemSlot,{scope:r,children:s.jsx(kZ,{asChild:!0,onEscapeKeyDown:Ie(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||M(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ie(e.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Ie(e.onPointerDown,V=>{V.button===0&&(w.current={x:V.clientX,y:V.clientY})}),onPointerMove:Ie(e.onPointerMove,V=>{if(!w.current)return;const E=V.clientX-w.current.x,P=V.clientY-w.current.y,R=!!N.current,O=["left","right"].includes(p.swipeDirection),T=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,D=O?T(0,E):0,X=O?0:T(0,P),A=V.pointerType==="touch"?10:2,q={x:D,y:X},L={originalEvent:V,delta:q};R?(N.current=q,Mv(UZ,h,L,{discrete:!1})):zA(q,p.swipeDirection,A)?(N.current=q,Mv(zZ,d,L,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(E)>A||Math.abs(P)>A)&&(w.current=null)}),onPointerUp:Ie(e.onPointerUp,V=>{const E=N.current,P=V.target;if(P.hasPointerCapture(V.pointerId)&&P.releasePointerCapture(V.pointerId),N.current=null,w.current=null,E){const R=V.currentTarget,O={originalEvent:V,delta:E};zA(E,p.swipeDirection,p.swipeThreshold)?Mv(WZ,m,O,{discrete:!0}):Mv(VZ,f,O,{discrete:!0}),R.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),KZ=e=>{const{__scopeToast:t,children:r,...n}=e,a=wb(kg,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return QZ(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Sg,{asChild:!0,children:s.jsx(bb,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},XZ="ToastTitle",N8=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Be.div,{...n,ref:t})});N8.displayName=XZ;var YZ="ToastDescription",S8=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Be.div,{...n,ref:t})});S8.displayName=YZ;var k8="ToastAction",C8=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(E8,{altText:r,asChild:!0,children:s.jsx(IC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${k8}\`. Expected non-empty \`string\`.`),null)});C8.displayName=k8;var P8="ToastClose",IC=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=HZ(P8,r);return s.jsx(E8,{asChild:!0,children:s.jsx(Be.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,a.onClose)})})});IC.displayName=P8;var E8=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function T8(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),ZZ(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...T8(n))}}),t}function Mv(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?f8(a,i):a.dispatchEvent(i)}var zA=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function QZ(e=()=>{}){const t=Br(e);Er(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function ZZ(e){return e.nodeType===e.ELEMENT_NODE}function JZ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function J1(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var eJ=y8,O8=w8,A8=_8,I8=N8,M8=S8,R8=C8,$8=IC;function D8(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=D8(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Nt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=D8(e))&&(n&&(n+=" "),n+=t);return n}const UA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,VA=Nt,Qh=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return VA(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const f=UA(d)||UA(h);return a[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,h,f]:u},[]);return VA(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...rJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:L8("lucide",a),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=v.forwardRef(({className:n,...a},i)=>v.createElement(nJ,{ref:i,iconNode:t,className:L8(`lucide-${tJ(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=ge("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=ge("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=ge("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=ge("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=ge("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=ge("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=ge("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=ge("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=ge("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=ge("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=ge("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=ge("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=ge("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=ge("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=ge("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=ge("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=ge("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=ge("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ge("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=ge("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=ge("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ge("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=ge("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=ge("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=ge("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=ge("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=ge("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ge("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=ge("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=ge("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ge("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=ge("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=ge("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=ge("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),FC="-",TJ=e=>{const t=AJ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(FC);return l[0]===""&&l.length!==1&&l.shift(),K8(l,t)||OJ(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},K8=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?K8(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(FC);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},KA=/^\[(.+)\]$/,OJ=e=>{if(KA.test(e)){const t=KA.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},AJ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return MJ(Object.entries(e.classGroups),r).forEach(([i,o])=>{ON(o,n,i,t)}),n},ON=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:XA(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(IJ(a)){ON(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{ON(o,XA(t,i),r,n)})})},XA=(e,t)=>{let r=e;return t.split(FC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},IJ=e=>e.isThemeGetter,MJ=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,RJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},X8="!",$J=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===a&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(b==="/"){h=x;continue}}b==="["?u++:b==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(X8),g=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},DJ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},LJ=e=>({cache:RJ(e.cacheSize),parseClassName:$J(e),...TJ(e)}),FJ=/\s+/,BJ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(FJ);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?f.substring(0,m):f);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(f),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=DJ(d).join(":"),b=h?x+X8:x,y=b+p;if(i.includes(y))continue;i.push(y);const w=a(p,g);for(let N=0;N<w.length;++N){const S=w[N];i.push(b+S)}l=u+(l.length>0?" "+l:l)}return l};function zJ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Y8(t))&&(n&&(n+=" "),n+=r);return n}const Y8=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Y8(e[n]))&&(r&&(r+=" "),r+=t);return r};function UJ(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=LJ(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=BJ(c,r);return a(c,d),d}return function(){return i(zJ.apply(null,arguments))}}const ar=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Q8=/^\[(?:([a-z-]+):)?(.+)\]$/i,VJ=/^\d+\/\d+$/,WJ=new Set(["px","full","screen"]),qJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pi=e=>Td(e)||WJ.has(e)||VJ.test(e),Co=e=>ef(e,"length",nee),Td=e=>!!e&&!Number.isNaN(Number(e)),tj=e=>ef(e,"number",Td),$f=e=>!!e&&Number.isInteger(Number(e)),YJ=e=>e.endsWith("%")&&Td(e.slice(0,-1)),ut=e=>Q8.test(e),Po=e=>qJ.test(e),QJ=new Set(["length","size","percentage"]),ZJ=e=>ef(e,QJ,Z8),JJ=e=>ef(e,"position",Z8),eee=new Set(["image","url"]),tee=e=>ef(e,eee,aee),ree=e=>ef(e,"",see),Df=()=>!0,ef=(e,t,r)=>{const n=Q8.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},nee=e=>HJ.test(e)&&!GJ.test(e),Z8=()=>!1,see=e=>KJ.test(e),aee=e=>XJ.test(e),iee=()=>{const e=ar("colors"),t=ar("spacing"),r=ar("blur"),n=ar("brightness"),a=ar("borderColor"),i=ar("borderRadius"),o=ar("borderSpacing"),l=ar("borderWidth"),c=ar("contrast"),u=ar("grayscale"),d=ar("hueRotate"),h=ar("invert"),f=ar("gap"),m=ar("gradientColorStops"),g=ar("gradientColorStopPositions"),p=ar("inset"),x=ar("margin"),b=ar("opacity"),y=ar("padding"),w=ar("saturate"),N=ar("scale"),S=ar("sepia"),k=ar("skew"),_=ar("space"),j=ar("translate"),C=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ut,t],$=()=>[ut,t],W=()=>["",Pi,Co],V=()=>["auto",Td,ut],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",ut],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Td,ut];return{cacheSize:500,separator:":",theme:{colors:[Df],spacing:[Pi,Co],blur:["none","",Po,ut],brightness:X(),borderColor:[e],borderRadius:["none","","full",Po,ut],borderSpacing:$(),borderWidth:W(),contrast:X(),grayscale:T(),hueRotate:X(),invert:T(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[YJ,Co],inset:M(),margin:M(),opacity:X(),padding:$(),saturate:X(),scale:X(),sepia:T(),skew:X(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",ut]}],container:["container"],columns:[{columns:[Po]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),ut]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$f,ut]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ut]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",$f,ut]}],"grid-cols":[{"grid-cols":[Df]}],"col-start-end":[{col:["auto",{span:["full",$f,ut]},ut]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Df]}],"row-start-end":[{row:["auto",{span:[$f,ut]},ut]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ut]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ut,t]}],"min-w":[{"min-w":[ut,t,"min","max","fit"]}],"max-w":[{"max-w":[ut,t,"none","full","min","max","fit","prose",{screen:[Po]},Po]}],h:[{h:[ut,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ut,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ut,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ut,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Po,Co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tj]}],"font-family":[{font:[Df]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ut]}],"line-clamp":[{"line-clamp":["none",Td,tj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pi,ut]}],"list-image":[{"list-image":["none",ut]}],"list-style-type":[{list:["none","disc","decimal",ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pi,Co]}],"underline-offset":[{"underline-offset":["auto",Pi,ut]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),JJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tee]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:P()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[Pi,ut]}],"outline-w":[{outline:[Pi,Co]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Pi,Co]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Po,ree]}],"shadow-color":[{shadow:[Df]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Po,ut]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ut]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",ut]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[$f,ut]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pi,Co,tj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oee=UJ(iee);function de(...e){return oee(Nt(e))}const lee=eJ,J8=v.forwardRef(({className:e,...t},r)=>s.jsx(O8,{ref:r,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));J8.displayName=O8.displayName;const cee=Qh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eF=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(A8,{ref:n,className:de(cee({variant:t}),e),...r}));eF.displayName=A8.displayName;const uee=v.forwardRef(({className:e,...t},r)=>s.jsx(R8,{ref:r,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));uee.displayName=R8.displayName;const tF=v.forwardRef(({className:e,...t},r)=>s.jsx($8,{ref:r,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(er,{className:"h-4 w-4"})}));tF.displayName=$8.displayName;const rF=v.forwardRef(({className:e,...t},r)=>s.jsx(I8,{ref:r,className:de("text-sm font-semibold",e),...t}));rF.displayName=I8.displayName;const nF=v.forwardRef(({className:e,...t},r)=>s.jsx(M8,{ref:r,className:de("text-sm opacity-90",e),...t}));nF.displayName=M8.displayName;function dee(){const{toasts:e}=TC();return s.jsxs(lee,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(eF,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(rF,{children:r}),n&&s.jsx(nF,{children:n})]}),a,s.jsx(tF,{})]},t)}),s.jsx(J8,{})]})}var YA=["light","dark"],hee="(prefers-color-scheme: dark)",fee=v.createContext(void 0),mee={setTheme:e=>{},themes:[]},pee=()=>{var e;return(e=v.useContext(fee))!=null?e:mee};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=a?YA.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,p=!1,x=!0)=>{let b=o?o[g]:g,y=p?g+"|| ''":`'${b}'`,w="";return a&&x&&!p&&YA.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?p||b?w+=`c.add(${y})`:w+="null":b&&(w+=`d[s](n,${y})`),w},m=e?`!function(){${d}${f(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${hee}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var gee=e=>{switch(e){case"success":return yee;case"info":return wee;case"warning":return bee;case"error":return jee;default:return null}},vee=Array(12).fill(0),xee=({visible:e,className:t})=>B.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},B.createElement("div",{className:"sonner-spinner"},vee.map((r,n)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),yee=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bee=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wee=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jee=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_ee=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Nee=()=>{let[e,t]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},AN=1,See=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:AN++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],B.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(Cee(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||AN++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Kn=new See,kee=(e,t)=>{let r=(t==null?void 0:t.id)||AN++;return Kn.addToast({title:e,...t,id:r}),r},Cee=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Pee=kee,Eee=()=>Kn.toasts,Tee=()=>Kn.getActiveToasts(),G=Object.assign(Pee,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:Eee,getToasts:Tee});function Oee(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Oee(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Rv(e){return e.label!==void 0}var Aee=3,Iee="32px",Mee="16px",QA=4e3,Ree=356,$ee=14,Dee=20,Lee=200;function ua(...e){return e.filter(Boolean).join(" ")}function Fee(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Bee=e=>{var t,r,n,a,i,o,l,c,u,d,h;let{invert:f,toast:m,unstyled:g,interacting:p,setHeights:x,visibleToasts:b,heights:y,index:w,toasts:N,expanded:S,removeToast:k,defaultRichColors:_,closeButton:j,style:C,cancelButtonStyle:I,actionButtonStyle:M,className:$="",descriptionClassName:W="",duration:V,position:E,gap:P,loadingIcon:R,expandByDefault:O,classNames:T,icons:D,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:A}=e,[q,L]=B.useState(null),[J,le]=B.useState(null),[H,re]=B.useState(!1),[te,ie]=B.useState(!1),[ee,K]=B.useState(!1),[he,ue]=B.useState(!1),[be,Me]=B.useState(!1),[Se,tt]=B.useState(0),[ft,kt]=B.useState(0),it=B.useRef(m.duration||V||QA),Rr=B.useRef(null),ce=B.useRef(null),Ee=w===0,Pe=w+1<=b,We=m.type,mt=m.dismissible!==!1,nr=m.className||"",ls=m.descriptionClassName||"",ne=B.useMemo(()=>y.findIndex(ae=>ae.toastId===m.id)||0,[y,m.id]),rt=B.useMemo(()=>{var ae;return(ae=m.closeButton)!=null?ae:j},[m.closeButton,j]),Te=B.useMemo(()=>m.duration||V||QA,[m.duration,V]),Xt=B.useRef(0),oa=B.useRef(0),Jl=B.useRef(0),la=B.useRef(null),[Au,se]=E.split("-"),De=B.useMemo(()=>y.reduce((ae,fe,Ce)=>Ce>=ne?ae:ae+fe.height,0),[y,ne]),ke=Nee(),et=m.invert||f,Mt=We==="loading";oa.current=B.useMemo(()=>ne*P+De,[ne,De]),B.useEffect(()=>{it.current=Te},[Te]),B.useEffect(()=>{re(!0)},[]),B.useEffect(()=>{let ae=ce.current;if(ae){let fe=ae.getBoundingClientRect().height;return kt(fe),x(Ce=>[{toastId:m.id,height:fe,position:m.position},...Ce]),()=>x(Ce=>Ce.filter(Fe=>Fe.toastId!==m.id))}},[x,m.id]),B.useLayoutEffect(()=>{if(!H)return;let ae=ce.current,fe=ae.style.height;ae.style.height="auto";let Ce=ae.getBoundingClientRect().height;ae.style.height=fe,kt(Ce),x(Fe=>Fe.find(ct=>ct.toastId===m.id)?Fe.map(ct=>ct.toastId===m.id?{...ct,height:Ce}:ct):[{toastId:m.id,height:Ce,position:m.position},...Fe])},[H,m.title,m.description,x,m.id]);let Rt=B.useCallback(()=>{ie(!0),tt(oa.current),x(ae=>ae.filter(fe=>fe.toastId!==m.id)),setTimeout(()=>{k(m)},Lee)},[m,k,x,oa]);B.useEffect(()=>{if(m.promise&&We==="loading"||m.duration===1/0||m.type==="loading")return;let ae;return S||p||A&&ke?(()=>{if(Jl.current<Xt.current){let fe=new Date().getTime()-Xt.current;it.current=it.current-fe}Jl.current=new Date().getTime()})():it.current!==1/0&&(Xt.current=new Date().getTime(),ae=setTimeout(()=>{var fe;(fe=m.onAutoClose)==null||fe.call(m,m),Rt()},it.current)),()=>clearTimeout(ae)},[S,p,m,We,A,ke,Rt]),B.useEffect(()=>{m.delete&&Rt()},[Rt,m.delete]);function Z(){var ae,fe,Ce;return D!=null&&D.loading?B.createElement("div",{className:ua(T==null?void 0:T.loader,(ae=m==null?void 0:m.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":We==="loading"},D.loading):R?B.createElement("div",{className:ua(T==null?void 0:T.loader,(fe=m==null?void 0:m.classNames)==null?void 0:fe.loader,"sonner-loader"),"data-visible":We==="loading"},R):B.createElement(xee,{className:ua(T==null?void 0:T.loader,(Ce=m==null?void 0:m.classNames)==null?void 0:Ce.loader),visible:We==="loading"})}return B.createElement("li",{tabIndex:0,ref:ce,className:ua($,nr,T==null?void 0:T.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[We],(r=m==null?void 0:m.classNames)==null?void 0:r[We]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:_,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":H,"data-promise":!!m.promise,"data-swiped":be,"data-removed":te,"data-visible":Pe,"data-y-position":Au,"data-x-position":se,"data-index":w,"data-front":Ee,"data-swiping":ee,"data-dismissible":mt,"data-type":We,"data-invert":et,"data-swipe-out":he,"data-swipe-direction":J,"data-expanded":!!(S||O&&H),style:{"--index":w,"--toasts-before":w,"--z-index":N.length-w,"--offset":`${te?Se:oa.current}px`,"--initial-height":O?"auto":`${ft}px`,...C,...m.style},onDragEnd:()=>{K(!1),L(null),la.current=null},onPointerDown:ae=>{Mt||!mt||(Rr.current=new Date,tt(oa.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(K(!0),la.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,fe,Ce,Fe;if(he||!mt)return;la.current=null;let ct=Number(((ae=ce.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),sr=Number(((fe=ce.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rn=new Date().getTime()-((Ce=Rr.current)==null?void 0:Ce.getTime()),un=q==="x"?ct:sr,Or=Math.abs(un)/rn;if(Math.abs(un)>=Dee||Or>.11){tt(oa.current),(Fe=m.onDismiss)==null||Fe.call(m,m),le(q==="x"?ct>0?"right":"left":sr>0?"down":"up"),Rt(),ue(!0),Me(!1);return}K(!1),L(null)},onPointerMove:ae=>{var fe,Ce,Fe,ct;if(!la.current||!mt||((fe=window.getSelection())==null?void 0:fe.toString().length)>0)return;let sr=ae.clientY-la.current.y,rn=ae.clientX-la.current.x,un=(Ce=e.swipeDirections)!=null?Ce:Fee(E);!q&&(Math.abs(rn)>1||Math.abs(sr)>1)&&L(Math.abs(rn)>Math.abs(sr)?"x":"y");let Or={x:0,y:0};q==="y"?(un.includes("top")||un.includes("bottom"))&&(un.includes("top")&&sr<0||un.includes("bottom")&&sr>0)&&(Or.y=sr):q==="x"&&(un.includes("left")||un.includes("right"))&&(un.includes("left")&&rn<0||un.includes("right")&&rn>0)&&(Or.x=rn),(Math.abs(Or.x)>0||Math.abs(Or.y)>0)&&Me(!0),(Fe=ce.current)==null||Fe.style.setProperty("--swipe-amount-x",`${Or.x}px`),(ct=ce.current)==null||ct.style.setProperty("--swipe-amount-y",`${Or.y}px`)}},rt&&!m.jsx?B.createElement("button",{"aria-label":X,"data-disabled":Mt,"data-close-button":!0,onClick:Mt||!mt?()=>{}:()=>{var ae;Rt(),(ae=m.onDismiss)==null||ae.call(m,m)},className:ua(T==null?void 0:T.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=D==null?void 0:D.close)!=null?i:_ee):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:B.createElement(B.Fragment,null,We||m.icon||m.promise?B.createElement("div",{"data-icon":"",className:ua(T==null?void 0:T.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Z():null,m.type!=="loading"?m.icon||(D==null?void 0:D[We])||gee(We):null):null,B.createElement("div",{"data-content":"",className:ua(T==null?void 0:T.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},B.createElement("div",{"data-title":"",className:ua(T==null?void 0:T.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?B.createElement("div",{"data-description":"",className:ua(W,ls,T==null?void 0:T.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&Rv(m.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:ae=>{var fe,Ce;Rv(m.cancel)&&mt&&((Ce=(fe=m.cancel).onClick)==null||Ce.call(fe,ae),Rt())},className:ua(T==null?void 0:T.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&Rv(m.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||M,onClick:ae=>{var fe,Ce;Rv(m.action)&&((Ce=(fe=m.action).onClick)==null||Ce.call(fe,ae),!ae.defaultPrevented&&Rt())},className:ua(T==null?void 0:T.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function ZA(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function zee(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?Mee:Iee;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var Uee=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:g=Aee,toastOptions:p,dir:x=ZA(),gap:b=$ee,loadingIcon:y,icons:w,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:S}=e,[k,_]=B.useState([]),j=B.useMemo(()=>Array.from(new Set([n].concat(k.filter(A=>A.position).map(A=>A.position)))),[k,n]),[C,I]=B.useState([]),[M,$]=B.useState(!1),[W,V]=B.useState(!1),[E,P]=B.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=B.useRef(null),O=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=B.useRef(null),D=B.useRef(!1),X=B.useCallback(A=>{_(q=>{var L;return(L=q.find(J=>J.id===A.id))!=null&&L.delete||Kn.dismiss(A.id),q.filter(({id:J})=>J!==A.id)})},[]);return B.useEffect(()=>Kn.subscribe(A=>{if(A.dismiss){_(q=>q.map(L=>L.id===A.id?{...L,delete:!0}:L));return}setTimeout(()=>{s8.flushSync(()=>{_(q=>{let L=q.findIndex(J=>J.id===A.id);return L!==-1?[...q.slice(0,L),{...q[L],...A},...q.slice(L+1)]:[A,...q]})})})}),[]),B.useEffect(()=>{if(d!=="system"){P(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),typeof window>"u")return;let A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:q})=>{P(q?"dark":"light")})}catch{A.addListener(({matches:L})=>{try{P(L?"dark":"light")}catch(J){console.error(J)}})}},[d]),B.useEffect(()=>{k.length<=1&&$(!1)},[k]),B.useEffect(()=>{let A=q=>{var L,J;a.every(le=>q[le]||q.code===le)&&($(!0),(L=R.current)==null||L.focus()),q.code==="Escape"&&(document.activeElement===R.current||(J=R.current)!=null&&J.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[a]),B.useEffect(()=>{if(R.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,D.current=!1)}},[R.current]),B.createElement("section",{ref:t,"aria-label":`${N} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((A,q)=>{var L;let[J,le]=A.split("-");return k.length?B.createElement("ol",{key:A,dir:x==="auto"?ZA():x,tabIndex:-1,ref:R,className:l,"data-sonner-toaster":!0,"data-theme":E,"data-y-position":J,"data-lifted":M&&k.length>1&&!i,"data-x-position":le,style:{"--front-toast-height":`${((L=C[0])==null?void 0:L.height)||0}px`,"--width":`${Ree}px`,"--gap":`${b}px`,...m,...zee(c,u)},onBlur:H=>{D.current&&!H.currentTarget.contains(H.relatedTarget)&&(D.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||D.current||(D.current=!0,T.current=H.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{W||$(!1)},onDragEnd:()=>$(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},k.filter(H=>!H.position&&q===0||H.position===A).map((H,re)=>{var te,ie;return B.createElement(Bee,{key:H.id,icons:w,index:re,toast:H,defaultRichColors:h,duration:(te=p==null?void 0:p.duration)!=null?te:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ie=p==null?void 0:p.closeButton)!=null?ie:o,interacting:W,position:A,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:X,toasts:k.filter(ee=>ee.position==H.position),heights:C.filter(ee=>ee.position==H.position),setHeights:I,expandByDefault:i,gap:b,loadingIcon:y,expanded:M,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const Vee=({...e})=>{const{theme:t="system"}=pee();return s.jsx(Uee,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Wee=L2[" useId ".trim().toString()]||(()=>{}),qee=0;function Ks(e){const[t,r]=v.useState(Wee());return Er(()=>{e||r(n=>n??String(qee++))},[e]),e||(t?`radix-${t}`:"")}const Hee=["top","right","bottom","left"],kl=Math.min,ps=Math.max,yy=Math.round,$v=Math.floor,di=e=>({x:e,y:e}),Gee={left:"right",right:"left",bottom:"top",top:"bottom"},Kee={start:"end",end:"start"};function IN(e,t,r){return ps(e,kl(t,r))}function co(e,t){return typeof e=="function"?e(t):e}function uo(e){return e.split("-")[0]}function tf(e){return e.split("-")[1]}function BC(e){return e==="x"?"y":"x"}function zC(e){return e==="y"?"height":"width"}const Xee=new Set(["top","bottom"]);function ai(e){return Xee.has(uo(e))?"y":"x"}function UC(e){return BC(ai(e))}function Yee(e,t,r){r===void 0&&(r=!1);const n=tf(e),a=UC(e),i=zC(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=by(o)),[o,by(o)]}function Qee(e){const t=by(e);return[MN(e),t,MN(t)]}function MN(e){return e.replace(/start|end/g,t=>Kee[t])}const JA=["left","right"],e4=["right","left"],Zee=["top","bottom"],Jee=["bottom","top"];function ete(e,t,r){switch(e){case"top":case"bottom":return r?t?e4:JA:t?JA:e4;case"left":case"right":return t?Zee:Jee;default:return[]}}function tte(e,t,r,n){const a=tf(e);let i=ete(uo(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(MN)))),i}function by(e){return e.replace(/left|right|bottom|top/g,t=>Gee[t])}function rte(e){return{top:0,right:0,bottom:0,left:0,...e}}function sF(e){return typeof e!="number"?rte(e):{top:e,right:e,bottom:e,left:e}}function wy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function t4(e,t,r){let{reference:n,floating:a}=e;const i=ai(t),o=UC(t),l=zC(o),c=uo(t),u=i==="y",d=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-a.width,y:h};break;default:m={x:n.x,y:n.y}}switch(tf(t)){case"start":m[o]-=f*(r&&u?-1:1);break;case"end":m[o]+=f*(r&&u?-1:1);break}return m}const nte=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=t4(u,n,c),f=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:x,fn:b}=l[p],{x:y,y:w,data:N,reset:S}=await b({x:d,y:h,initialPlacement:n,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,h=w??h,m={...m,[x]:{...m[x],...N}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:h}=t4(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:m}};async function op(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=co(t,e),g=sF(m),x=l[f?h==="floating"?"reference":"floating":h],b=wy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=wy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-S.top+g.top)/N.y,bottom:(S.bottom-b.bottom+g.bottom)/N.y,left:(b.left-S.left+g.left)/N.x,right:(S.right-b.right+g.right)/N.x}}const ste=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=co(e,t)||{};if(u==null)return{};const h=sF(d),f={x:r,y:n},m=UC(a),g=zC(m),p=await o.getDimensions(u),x=m==="y",b=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",N=i.reference[g]+i.reference[m]-f[m]-i.floating[g],S=f[m]-i.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=k?k[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(k)))&&(_=l.floating[w]||i.floating[g]);const j=N/2-S/2,C=_/2-p[g]/2-1,I=kl(h[b],C),M=kl(h[y],C),$=I,W=_-p[g]-M,V=_/2-p[g]/2+j,E=IN($,V,W),P=!c.arrow&&tf(a)!=null&&V!==E&&i.reference[g]/2-(V<$?I:M)-p[g]/2<0,R=P?V<$?V-$:V-W:0;return{[m]:f[m]+R,data:{[m]:E,centerOffset:V-E-R,...P&&{alignmentOffset:R}},reset:P}}}),ate=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=co(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=uo(a),y=ai(l),w=uo(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=f||(w||!p?[by(l)]:Qee(l)),k=g!=="none";!f&&k&&S.push(...tte(l,p,g,N));const _=[l,...S],j=await op(t,x),C=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(j[b]),h){const V=Yee(a,o,N);C.push(j[V[0]],j[V[1]])}if(I=[...I,{placement:a,overflows:C}],!C.every(V=>V<=0)){var M,$;const V=(((M=i.flip)==null?void 0:M.index)||0)+1,E=_[V];if(E&&(!(h==="alignment"?y!==ai(E):!1)||I.every(O=>O.overflows[0]>0&&ai(O.placement)===y)))return{data:{index:V,overflows:I},reset:{placement:E}};let P=($=I.filter(R=>R.overflows[0]<=0).sort((R,O)=>R.overflows[1]-O.overflows[1])[0])==null?void 0:$.placement;if(!P)switch(m){case"bestFit":{var W;const R=(W=I.filter(O=>{if(k){const T=ai(O.placement);return T===y||T==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(T=>T>0).reduce((T,D)=>T+D,0)]).sort((O,T)=>O[1]-T[1])[0])==null?void 0:W[0];R&&(P=R);break}case"initialPlacement":P=l;break}if(a!==P)return{reset:{placement:P}}}return{}}}};function r4(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function n4(e){return Hee.some(t=>e[t]>=0)}const ite=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=co(e,t);switch(n){case"referenceHidden":{const i=await op(t,{...a,elementContext:"reference"}),o=r4(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:n4(o)}}}case"escaped":{const i=await op(t,{...a,altBoundary:!0}),o=r4(i,r.floating);return{data:{escapedOffsets:o,escaped:n4(o)}}}default:return{}}}}},aF=new Set(["left","top"]);async function ote(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=uo(r),l=tf(r),c=ai(r)==="y",u=aF.has(o)?-1:1,d=i&&c?-1:1,h=co(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const lte=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await ote(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},cte=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:b,y}=x;return{x:b,y}}},...c}=co(e,t),u={x:r,y:n},d=await op(t,c),h=ai(uo(a)),f=BC(h);let m=u[f],g=u[h];if(i){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=m+d[x],w=m-d[b];m=IN(y,m,w)}if(o){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=g+d[x],w=g-d[b];g=IN(y,g,w)}const p=l.fn({...t,[f]:m,[h]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[f]:i,[h]:o}}}}}},ute=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=co(e,t),d={x:r,y:n},h=ai(a),f=BC(h);let m=d[f],g=d[h];const p=co(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=f==="y"?"height":"width",N=i.reference[f]-i.floating[w]+x.mainAxis,S=i.reference[f]+i.reference[w]-x.mainAxis;m<N?m=N:m>S&&(m=S)}if(u){var b,y;const w=f==="y"?"width":"height",N=aF.has(uo(a)),S=i.reference[h]-i.floating[w]+(N&&((b=o.offset)==null?void 0:b[h])||0)+(N?0:x.crossAxis),k=i.reference[h]+i.reference[w]+(N?0:((y=o.offset)==null?void 0:y[h])||0)-(N?x.crossAxis:0);g<S?g=S:g>k&&(g=k)}return{[f]:m,[h]:g}}}},dte=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=co(e,t),d=await op(t,u),h=uo(a),f=tf(a),m=ai(a)==="y",{width:g,height:p}=i.floating;let x,b;h==="top"||h==="bottom"?(x=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,x=f==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=g-d.left-d.right,N=kl(p-d[x],y),S=kl(g-d[b],w),k=!t.middlewareData.shift;let _=N,j=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=y),k&&!f){const I=ps(d.left,0),M=ps(d.right,0),$=ps(d.top,0),W=ps(d.bottom,0);m?j=g-2*(I!==0||M!==0?I+M:ps(d.left,d.right)):_=p-2*($!==0||W!==0?$+W:ps(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:_});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function _b(){return typeof window<"u"}function rf(e){return iF(e)?(e.nodeName||"").toLowerCase():"#document"}function Ns(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Si(e){var t;return(t=(iF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iF(e){return _b()?e instanceof Node||e instanceof Ns(e).Node:!1}function $a(e){return _b()?e instanceof Element||e instanceof Ns(e).Element:!1}function bi(e){return _b()?e instanceof HTMLElement||e instanceof Ns(e).HTMLElement:!1}function s4(e){return!_b()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ns(e).ShadowRoot}const hte=new Set(["inline","contents"]);function Eg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Da(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!hte.has(a)}const fte=new Set(["table","td","th"]);function mte(e){return fte.has(rf(e))}const pte=[":popover-open",":modal"];function Nb(e){return pte.some(t=>{try{return e.matches(t)}catch{return!1}})}const gte=["transform","translate","scale","rotate","perspective"],vte=["transform","translate","scale","rotate","perspective","filter"],xte=["paint","layout","strict","content"];function VC(e){const t=WC(),r=$a(e)?Da(e):e;return gte.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||vte.some(n=>(r.willChange||"").includes(n))||xte.some(n=>(r.contain||"").includes(n))}function yte(e){let t=Cl(e);for(;bi(t)&&!lh(t);){if(VC(t))return t;if(Nb(t))return null;t=Cl(t)}return null}function WC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bte=new Set(["html","body","#document"]);function lh(e){return bte.has(rf(e))}function Da(e){return Ns(e).getComputedStyle(e)}function Sb(e){return $a(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cl(e){if(rf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||s4(e)&&e.host||Si(e);return s4(t)?t.host:t}function oF(e){const t=Cl(e);return lh(t)?e.ownerDocument?e.ownerDocument.body:e.body:bi(t)&&Eg(t)?t:oF(t)}function lp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=oF(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Ns(a);if(i){const l=RN(o);return t.concat(o,o.visualViewport||[],Eg(a)?a:[],l&&r?lp(l):[])}return t.concat(a,lp(a,[],r))}function RN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lF(e){const t=Da(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=bi(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=yy(r)!==i||yy(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function qC(e){return $a(e)?e:e.contextElement}function Od(e){const t=qC(e);if(!bi(t))return di(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=lF(t);let o=(i?yy(r.width):r.width)/n,l=(i?yy(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const wte=di(0);function cF(e){const t=Ns(e);return!WC()||!t.visualViewport?wte:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jte(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ns(e)?!1:t}function Jc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=qC(e);let o=di(1);t&&(n?$a(n)&&(o=Od(n)):o=Od(e));const l=jte(i,r,n)?cF(i):di(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=Ns(i),m=n&&$a(n)?Ns(n):n;let g=f,p=RN(g);for(;p&&n&&m!==g;){const x=Od(p),b=p.getBoundingClientRect(),y=Da(p),w=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,N=b.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=w,u+=N,g=Ns(p),p=RN(g)}}return wy({width:d,height:h,x:c,y:u})}function HC(e,t){const r=Sb(e).scrollLeft;return t?t.left+r:Jc(Si(e)).left+r}function uF(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:HC(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function _te(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Si(n),l=t?Nb(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=di(1);const d=di(0),h=bi(n);if((h||!h&&!i)&&((rf(n)!=="body"||Eg(o))&&(c=Sb(n)),bi(n))){const m=Jc(n);u=Od(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const f=o&&!h&&!i?uF(o,c,!0):di(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:r.y*u.y-c.scrollTop*u.y+d.y+f.y}}function Nte(e){return Array.from(e.getClientRects())}function Ste(e){const t=Si(e),r=Sb(e),n=e.ownerDocument.body,a=ps(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ps(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+HC(e);const l=-r.scrollTop;return Da(n).direction==="rtl"&&(o+=ps(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function kte(e,t){const r=Ns(e),n=Si(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=WC();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const Cte=new Set(["absolute","fixed"]);function Pte(e,t){const r=Jc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=bi(e)?Od(e):di(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function a4(e,t,r){let n;if(t==="viewport")n=kte(e,r);else if(t==="document")n=Ste(Si(e));else if($a(t))n=Pte(t,r);else{const a=cF(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return wy(n)}function dF(e,t){const r=Cl(e);return r===t||!$a(r)||lh(r)?!1:Da(r).position==="fixed"||dF(r,t)}function Ete(e,t){const r=t.get(e);if(r)return r;let n=lp(e,[],!1).filter(l=>$a(l)&&rf(l)!=="body"),a=null;const i=Da(e).position==="fixed";let o=i?Cl(e):e;for(;$a(o)&&!lh(o);){const l=Da(o),c=VC(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Cte.has(a.position)||Eg(o)&&!c&&dF(e,o))?n=n.filter(d=>d!==o):a=l,o=Cl(o)}return t.set(e,n),n}function Tte(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Nb(t)?[]:Ete(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=a4(t,d,a);return u.top=ps(h.top,u.top),u.right=kl(h.right,u.right),u.bottom=kl(h.bottom,u.bottom),u.left=ps(h.left,u.left),u},a4(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ote(e){const{width:t,height:r}=lF(e);return{width:t,height:r}}function Ate(e,t,r){const n=bi(t),a=Si(t),i=r==="fixed",o=Jc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=di(0);function u(){c.x=HC(a)}if(n||!n&&!i)if((rf(t)!=="body"||Eg(a))&&(l=Sb(t)),n){const m=Jc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?uF(a,l):di(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function rj(e){return Da(e).position==="static"}function i4(e,t){if(!bi(e)||Da(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Si(e)===r&&(r=r.ownerDocument.body),r}function hF(e,t){const r=Ns(e);if(Nb(e))return r;if(!bi(e)){let a=Cl(e);for(;a&&!lh(a);){if($a(a)&&!rj(a))return a;a=Cl(a)}return r}let n=i4(e,t);for(;n&&mte(n)&&rj(n);)n=i4(n,t);return n&&lh(n)&&rj(n)&&!VC(n)?r:n||yte(e)||r}const Ite=async function(e){const t=this.getOffsetParent||hF,r=this.getDimensions,n=await r(e.floating);return{reference:Ate(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Mte(e){return Da(e).direction==="rtl"}const Rte={convertOffsetParentRelativeRectToViewportRelativeRect:_te,getDocumentElement:Si,getClippingRect:Tte,getOffsetParent:hF,getElementRects:Ite,getClientRects:Nte,getDimensions:Ote,getScale:Od,isElement:$a,isRTL:Mte};function fF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $te(e,t){let r=null,n;const a=Si(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||t(),!f||!m)return;const g=$v(h),p=$v(a.clientWidth-(d+f)),x=$v(a.clientHeight-(h+m)),b=$v(d),w={rootMargin:-g+"px "+-p+"px "+-x+"px "+-b+"px",threshold:ps(0,kl(1,c))||1};let N=!0;function S(k){const _=k[0].intersectionRatio;if(_!==c){if(!N)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!fF(u,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),i}function Dte(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=qC(e),d=a||i?[...u?lp(u):[],...lp(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const h=u&&l?$te(u,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?Jc(e):null;c&&x();function x(){const b=Jc(e);p&&!fF(p,b)&&r(),p=b,g=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Lte=lte,Fte=cte,Bte=ate,zte=dte,Ute=ite,o4=ste,Vte=ute,Wte=(e,t,r)=>{const n=new Map,a={platform:Rte,...r},i={...a.platform,_c:n};return nte(e,t,{...a,platform:i})};var qte=typeof document<"u",Hte=function(){},$x=qte?v.useLayoutEffect:Hte;function jy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!jy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!jy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function mF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function l4(e,t){const r=mF(e);return Math.round(t*r)/r}function nj(e){const t=v.useRef(e);return $x(()=>{t.current=e}),t}function Gte(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(n);jy(f,n)||m(n);const[g,p]=v.useState(null),[x,b]=v.useState(null),y=v.useCallback(O=>{O!==k.current&&(k.current=O,p(O))},[]),w=v.useCallback(O=>{O!==_.current&&(_.current=O,b(O))},[]),N=i||g,S=o||x,k=v.useRef(null),_=v.useRef(null),j=v.useRef(d),C=c!=null,I=nj(c),M=nj(a),$=nj(u),W=v.useCallback(()=>{if(!k.current||!_.current)return;const O={placement:t,strategy:r,middleware:f};M.current&&(O.platform=M.current),Wte(k.current,_.current,O).then(T=>{const D={...T,isPositioned:$.current!==!1};V.current&&!jy(j.current,D)&&(j.current=D,ju.flushSync(()=>{h(D)}))})},[f,t,r,M,$]);$x(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[u]);const V=v.useRef(!1);$x(()=>(V.current=!0,()=>{V.current=!1}),[]),$x(()=>{if(N&&(k.current=N),S&&(_.current=S),N&&S){if(I.current)return I.current(N,S,W);W()}},[N,S,W,I,C]);const E=v.useMemo(()=>({reference:k,floating:_,setReference:y,setFloating:w}),[y,w]),P=v.useMemo(()=>({reference:N,floating:S}),[N,S]),R=v.useMemo(()=>{const O={position:r,left:0,top:0};if(!P.floating)return O;const T=l4(P.floating,d.x),D=l4(P.floating,d.y);return l?{...O,transform:"translate("+T+"px, "+D+"px)",...mF(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:D}},[r,l,P.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:W,refs:E,elements:P,floatingStyles:R}),[d,W,E,P,R])}const Kte=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?o4({element:n.current,padding:a}).fn(r):{}:n?o4({element:n,padding:a}).fn(r):{}}}},Xte=(e,t)=>({...Lte(e),options:[e,t]}),Yte=(e,t)=>({...Fte(e),options:[e,t]}),Qte=(e,t)=>({...Vte(e),options:[e,t]}),Zte=(e,t)=>({...Bte(e),options:[e,t]}),Jte=(e,t)=>({...zte(e),options:[e,t]}),ere=(e,t)=>({...Ute(e),options:[e,t]}),tre=(e,t)=>({...Kte(e),options:[e,t]});var rre="Arrow",pF=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Be.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});pF.displayName=rre;var nre=pF;function GC(e){const[t,r]=v.useState(void 0);return Er(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var KC="Popper",[gF,nf]=On(KC),[sre,vF]=gF(KC),xF=e=>{const{__scopePopper:t,children:r}=e,[n,a]=v.useState(null);return s.jsx(sre,{scope:t,anchor:n,onAnchorChange:a,children:r})};xF.displayName=KC;var yF="PopperAnchor",bF=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=vF(yF,r),o=v.useRef(null),l=lt(t,o);return v.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Be.div,{...a,ref:l})});bF.displayName=yF;var XC="PopperContent",[are,ire]=gF(XC),wF=v.forwardRef((e,t)=>{var H,re,te,ie,ee,K;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,x=vF(XC,r),[b,y]=v.useState(null),w=lt(t,he=>y(he)),[N,S]=v.useState(null),k=GC(N),_=(k==null?void 0:k.width)??0,j=(k==null?void 0:k.height)??0,C=n+(i!=="center"?"-"+i:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],$=M.length>0,W={padding:I,boundary:M.filter(lre),altBoundary:$},{refs:V,floatingStyles:E,placement:P,isPositioned:R,middlewareData:O}=Gte({strategy:"fixed",placement:C,whileElementsMounted:(...he)=>Dte(...he,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[Xte({mainAxis:a+j,alignmentAxis:o}),c&&Yte({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Qte():void 0,...W}),c&&Zte({...W}),Jte({...W,apply:({elements:he,rects:ue,availableWidth:be,availableHeight:Me})=>{const{width:Se,height:tt}=ue.reference,ft=he.floating.style;ft.setProperty("--radix-popper-available-width",`${be}px`),ft.setProperty("--radix-popper-available-height",`${Me}px`),ft.setProperty("--radix-popper-anchor-width",`${Se}px`),ft.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),N&&tre({element:N,padding:l}),cre({arrowWidth:_,arrowHeight:j}),f&&ere({strategy:"referenceHidden",...W})]}),[T,D]=NF(P),X=Br(g);Er(()=>{R&&(X==null||X())},[R,X]);const A=(H=O.arrow)==null?void 0:H.x,q=(re=O.arrow)==null?void 0:re.y,L=((te=O.arrow)==null?void 0:te.centerOffset)!==0,[J,le]=v.useState();return Er(()=>{b&&le(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:R?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(ie=O.transformOrigin)==null?void 0:ie.x,(ee=O.transformOrigin)==null?void 0:ee.y].join(" "),...((K=O.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(are,{scope:r,placedSide:T,onArrowChange:S,arrowX:A,arrowY:q,shouldHideArrow:L,children:s.jsx(Be.div,{"data-side":T,"data-align":D,...p,ref:w,style:{...p.style,animation:R?void 0:"none"}})})})});wF.displayName=XC;var jF="PopperArrow",ore={top:"bottom",right:"left",bottom:"top",left:"right"},_F=v.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=ire(jF,n),o=ore[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(nre,{...a,ref:r,style:{...a.style,display:"block"}})})});_F.displayName=jF;function lre(e){return e!==null}var cre=e=>({name:"transformOrigin",options:e,fn(t){var x,b,y;const{placement:r,rects:n,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=NF(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?h:`${f}px`,p=`${-c}px`):u==="top"?(g=o?h:`${f}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?h:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?h:`${m}px`),{data:{x:g,y:p}}}});function NF(e){const[t,r="center"]=e.split("-");return[t,r]}var YC=xF,kb=bF,QC=wF,ZC=_F,[Cb,CHe]=On("Tooltip",[nf]),Pb=nf(),SF="TooltipProvider",ure=700,$N="tooltip.open",[dre,JC]=Cb(SF),kF=e=>{const{__scopeTooltip:t,delayDuration:r=ure,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(dre,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};kF.displayName=SF;var cp="Tooltip",[hre,Eb]=Cb(cp),CF=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=JC(cp,e.__scopeTooltip),u=Pb(t),[d,h]=v.useState(null),f=Ks(),m=v.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,x=v.useRef(!1),[b,y]=Es({prop:n,defaultProp:a??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent($N))):c.onClose(),i==null||i(_)},caller:cp}),w=v.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),N=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,y(!0)},[y]),S=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),k=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,y(!0),m.current=0},p)},[p,y]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(YC,{...u,children:s.jsx(hre,{scope:t,contentId:f,open:b,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayedRef.current?k():N()},[c.isOpenDelayedRef,k,N]),onTriggerLeave:v.useCallback(()=>{g?S():(window.clearTimeout(m.current),m.current=0)},[S,g]),onOpen:N,onClose:S,disableHoverableContent:g,children:r})})};CF.displayName=cp;var DN="TooltipTrigger",PF=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Eb(DN,r),i=JC(DN,r),o=Pb(r),l=v.useRef(null),c=lt(t,l,a.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(kb,{asChild:!0,...o,children:s.jsx(Be.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ie(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ie(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ie(e.onBlur,a.onClose),onClick:Ie(e.onClick,a.onClose)})})});PF.displayName=DN;var fre="TooltipPortal",[PHe,mre]=Cb(fre,{forceMount:void 0}),ch="TooltipContent",EF=v.forwardRef((e,t)=>{const r=mre(ch,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Eb(ch,e.__scopeTooltip);return s.jsx(Wn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(TF,{side:a,...i,ref:t}):s.jsx(pre,{side:a,...i,ref:t})})}),pre=v.forwardRef((e,t)=>{const r=Eb(ch,e.__scopeTooltip),n=JC(ch,e.__scopeTooltip),a=v.useRef(null),i=lt(t,a),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:h}=n,f=v.useCallback(()=>{l(null),h(!1)},[h]),m=v.useCallback((g,p)=>{const x=g.currentTarget,b={x:g.clientX,y:g.clientY},y=bre(b,x.getBoundingClientRect()),w=wre(b,y),N=jre(p.getBoundingClientRect()),S=Nre([...w,...N]);l(S),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(c&&d){const g=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,f]),v.useEffect(()=>{if(o){const g=p=>{const x=p.target,b={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!_re(b,o);y?f():w&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,f]),s.jsx(TF,{...e,ref:i})}),[gre,vre]=Cb(cp,{isInside:!1}),xre=h8("TooltipContent"),TF=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Eb(ch,r),u=Pb(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener($N,d),()=>document.removeEventListener($N,d)),[d]),v.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),s.jsx(Yh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:s.jsxs(QC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(xre,{children:n}),s.jsx(gre,{scope:r,isInside:!0,children:s.jsx($Z,{id:c.contentId,role:"tooltip",children:a||n})})]})})});EF.displayName=ch;var OF="TooltipArrow",yre=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Pb(r);return vre(OF,r).isInside?null:s.jsx(ZC,{...a,...n,ref:t})});yre.displayName=OF;function bre(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function wre(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function jre(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function _re(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>n!=f>n&&r<(h-u)*(n-d)/(f-d)+u&&(a=!a)}return a}function Nre(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Sre(t)}function Sre(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var kre=kF,Cre=CF,Pre=PF,AF=EF;const eP=kre,IF=Cre,MF=Pre,tP=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(AF,{ref:n,sideOffset:t,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));tP.displayName=AF.displayName;var sf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eu=typeof window>"u"||"Deno"in globalThis;function Rn(){}function Ere(e,t){return typeof e=="function"?e(t):e}function LN(e){return typeof e=="number"&&e>=0&&e!==1/0}function RF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ml(e,t){return typeof e=="function"?e(t):e}function Bs(e,t){return typeof e=="function"?e(t):e}function c4(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==rP(o,t.options))return!1}else if(!up(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function u4(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(tu(t.options.mutationKey)!==tu(i))return!1}else if(!up(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function rP(e,t){return((t==null?void 0:t.queryKeyHashFn)||tu)(e)}function tu(e){return JSON.stringify(e,(t,r)=>FN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function up(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>up(e[r],t[r])):!1}function $F(e,t){if(e===t)return e;const r=d4(e)&&d4(t);if(r||FN(e)&&FN(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const h=r?d:i[d];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=$F(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function _y(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function d4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function FN(e){if(!h4(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!h4(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function h4(e){return Object.prototype.toString.call(e)==="[object Object]"}function Tre(e){return new Promise(t=>{setTimeout(t,e)})}function BN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?$F(e,t):t}function Ore(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Are(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var nP=Symbol();function DF(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function LF(e,t){return typeof e=="function"?e(...t):!!e}var Cc,Vo,zd,$3,Ire=($3=class extends sf{constructor(){super();He(this,Cc);He(this,Vo);He(this,zd);Oe(this,zd,t=>{if(!eu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,Vo)||this.setEventListener(Y(this,zd))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,Vo))==null||t.call(this),Oe(this,Vo,void 0))}setEventListener(t){var r;Oe(this,zd,t),(r=Y(this,Vo))==null||r.call(this),Oe(this,Vo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Y(this,Cc)!==t&&(Oe(this,Cc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Y(this,Cc)=="boolean"?Y(this,Cc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cc=new WeakMap,Vo=new WeakMap,zd=new WeakMap,$3),sP=new Ire,Ud,Wo,Vd,D3,Mre=(D3=class extends sf{constructor(){super();He(this,Ud,!0);He(this,Wo);He(this,Vd);Oe(this,Vd,t=>{if(!eu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,Wo)||this.setEventListener(Y(this,Vd))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,Wo))==null||t.call(this),Oe(this,Wo,void 0))}setEventListener(t){var r;Oe(this,Vd,t),(r=Y(this,Wo))==null||r.call(this),Oe(this,Wo,t(this.setOnline.bind(this)))}setOnline(t){Y(this,Ud)!==t&&(Oe(this,Ud,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Y(this,Ud)}},Ud=new WeakMap,Wo=new WeakMap,Vd=new WeakMap,D3),Ny=new Mre;function zN(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Rre(e){return Math.min(1e3*2**e,3e4)}function FF(e){return(e??"online")==="online"?Ny.isOnline():!0}var BF=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sj(e){return e instanceof BF}function zF(e){let t=!1,r=0,n=!1,a;const i=zN(),o=p=>{var x;n||(f(new BF(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>sP.isFocused()&&(e.networkMode==="always"||Ny.isOnline())&&e.canRun(),d=()=>FF(e.networkMode)&&e.canRun(),h=p=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,p),a==null||a(),i.resolve(p))},f=p=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var x;a=b=>{(n||u())&&p(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(h).catch(b=>{var k;if(n)return;const y=e.retry??(eu?0:3),w=e.retryDelay??Rre,N=typeof w=="function"?w(r,b):w,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!S){f(b);return}r++,(k=e.onFail)==null||k.call(e,r,b),Tre(N).then(()=>u()?void 0:m()).then(()=>{t?f(b):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),i)}}var $re=e=>setTimeout(e,0);function Dre(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=$re;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Yr=Dre(),Pc,L3,UF=(L3=class{constructor(){He(this,Pc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LN(this.gcTime)&&Oe(this,Pc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(eu?1/0:5*60*1e3))}clearGcTimeout(){Y(this,Pc)&&(clearTimeout(Y(this,Pc)),Oe(this,Pc,void 0))}},Pc=new WeakMap,L3),Wd,Ec,Fs,Tc,jn,pg,Oc,ya,Oi,F3,Lre=(F3=class extends UF{constructor(t){super();He(this,ya);He(this,Wd);He(this,Ec);He(this,Fs);He(this,Tc);He(this,jn);He(this,pg);He(this,Oc);Oe(this,Oc,!1),Oe(this,pg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Oe(this,Tc,t.client),Oe(this,Fs,Y(this,Tc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Oe(this,Wd,Fre(this.options)),this.state=t.state??Y(this,Wd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,jn))==null?void 0:t.promise}setOptions(t){this.options={...Y(this,pg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Fs).remove(this)}setData(t,r){const n=BN(this.state.data,t,this.options);return ht(this,ya,Oi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ht(this,ya,Oi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Y(this,jn))==null?void 0:n.promise;return(a=Y(this,jn))==null||a.cancel(t),r?r.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Wd))}isActive(){return this.observers.some(t=>Bs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ml(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!RF(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,jn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,jn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,Fs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Y(this,jn)&&(Y(this,Oc)?Y(this,jn).cancel({revert:!0}):Y(this,jn).cancelRetry()),this.scheduleGc()),Y(this,Fs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,ya,Oi).call(this,{type:"invalidate"})}fetch(t,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,jn))return Y(this,jn).continueRetry(),Y(this,jn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Oe(this,Oc,!0),n.signal)})},i=()=>{const f=DF(this.options,r),g=(()=>{const p={client:Y(this,Tc),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return Oe(this,Oc,!1),this.options.persister?this.options.persister(f,g,this):f(g)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,Tc),state:this.state,fetchFn:i};return a(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),Oe(this,Ec,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ht(this,ya,Oi).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var m,g,p,x;sj(f)&&f.silent||ht(this,ya,Oi).call(this,{type:"error",error:f}),sj(f)||((g=(m=Y(this,Fs).config).onError)==null||g.call(m,f,this),(x=(p=Y(this,Fs).config).onSettled)==null||x.call(p,this.state.data,f,this)),this.scheduleGc()};return Oe(this,jn,zF({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var m,g,p,x;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){c(b);return}(g=(m=Y(this,Fs).config).onSuccess)==null||g.call(m,f,this),(x=(p=Y(this,Fs).config).onSettled)==null||x.call(p,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,m)=>{ht(this,ya,Oi).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{ht(this,ya,Oi).call(this,{type:"pause"})},onContinue:()=>{ht(this,ya,Oi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Y(this,jn).start()}},Wd=new WeakMap,Ec=new WeakMap,Fs=new WeakMap,Tc=new WeakMap,jn=new WeakMap,pg=new WeakMap,Oc=new WeakMap,ya=new WeakSet,Oi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...VF(n.data,this.options),fetchMeta:t.meta??null};case"success":return Oe(this,Ec,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return sj(a)&&a.revert&&Y(this,Ec)?{...Y(this,Ec),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Yr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Y(this,Fs).notify({query:this,type:"updated",action:t})})},F3);function VF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Fre(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ya,B3,Bre=(B3=class extends sf{constructor(t={}){super();He(this,Ya);this.config=t,Oe(this,Ya,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??rP(a,r);let o=this.get(i);return o||(o=new Lre({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Y(this,Ya).has(t.queryHash)||(Y(this,Ya).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Y(this,Ya).get(t.queryHash);r&&(t.destroy(),r===t&&Y(this,Ya).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Yr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Y(this,Ya).get(t)}getAll(){return[...Y(this,Ya).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>c4(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>c4(t,n)):r}notify(t){Yr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Yr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Yr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ya=new WeakMap,B3),Qa,An,Ac,Za,Oo,z3,zre=(z3=class extends UF{constructor(t){super();He(this,Za);He(this,Qa);He(this,An);He(this,Ac);this.mutationId=t.mutationId,Oe(this,An,t.mutationCache),Oe(this,Qa,[]),this.state=t.state||WF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,Qa).includes(t)||(Y(this,Qa).push(t),this.clearGcTimeout(),Y(this,An).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Oe(this,Qa,Y(this,Qa).filter(r=>r!==t)),this.scheduleGc(),Y(this,An).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,Qa).length||(this.state.status==="pending"?this.scheduleGc():Y(this,An).remove(this))}continue(){var t;return((t=Y(this,Ac))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,h,f,m,g,p,x,b,y,w,N,S,k,_,j;const r=()=>{ht(this,Za,Oo).call(this,{type:"continue"})};Oe(this,Ac,zF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{ht(this,Za,Oo).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{ht(this,Za,Oo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,An).canRun(this)}));const n=this.state.status==="pending",a=!Y(this,Ac).canStart();try{if(n)r();else{ht(this,Za,Oo).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=Y(this,An).config).onMutate)==null?void 0:o.call(i,t,this));const I=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));I!==this.state.context&&ht(this,Za,Oo).call(this,{type:"pending",context:I,variables:t,isPaused:a})}const C=await Y(this,Ac).start();return await((d=(u=Y(this,An).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,C,t,this.state.context)),await((g=(m=Y(this,An).config).onSettled)==null?void 0:g.call(m,C,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,C,null,t,this.state.context)),ht(this,Za,Oo).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(b=Y(this,An).config).onError)==null?void 0:y.call(b,C,t,this.state.context,this)),await((N=(w=this.options).onError)==null?void 0:N.call(w,C,t,this.state.context)),await((k=(S=Y(this,An).config).onSettled)==null?void 0:k.call(S,void 0,C,this.state.variables,this.state.context,this)),await((j=(_=this.options).onSettled)==null?void 0:j.call(_,void 0,C,t,this.state.context)),C}finally{ht(this,Za,Oo).call(this,{type:"error",error:C})}}finally{Y(this,An).runNext(this)}}},Qa=new WeakMap,An=new WeakMap,Ac=new WeakMap,Za=new WeakSet,Oo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Yr.batch(()=>{Y(this,Qa).forEach(n=>{n.onMutationUpdate(t)}),Y(this,An).notify({mutation:this,type:"updated",action:t})})},z3);function WF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $i,ba,gg,U3,Ure=(U3=class extends sf{constructor(t={}){super();He(this,$i);He(this,ba);He(this,gg);this.config=t,Oe(this,$i,new Set),Oe(this,ba,new Map),Oe(this,gg,0)}build(t,r,n){const a=new zre({mutationCache:this,mutationId:++pv(this,gg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){Y(this,$i).add(t);const r=Dv(t);if(typeof r=="string"){const n=Y(this,ba).get(r);n?n.push(t):Y(this,ba).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Y(this,$i).delete(t)){const r=Dv(t);if(typeof r=="string"){const n=Y(this,ba).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&Y(this,ba).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Dv(t);if(typeof r=="string"){const n=Y(this,ba).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Dv(t);if(typeof r=="string"){const a=(n=Y(this,ba).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Yr.batch(()=>{Y(this,$i).forEach(t=>{this.notify({type:"removed",mutation:t})}),Y(this,$i).clear(),Y(this,ba).clear()})}getAll(){return Array.from(Y(this,$i))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>u4(r,n))}findAll(t={}){return this.getAll().filter(r=>u4(t,r))}notify(t){Yr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Yr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Rn))))}},$i=new WeakMap,ba=new WeakMap,gg=new WeakMap,U3);function Dv(e){var t;return(t=e.options.scope)==null?void 0:t.id}function f4(e){return{onFetch:(t,r)=>{var d,h,f,m,g;const n=t.options,a=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=DF(t.options,t.fetchOptions),y=async(w,N,S)=>{if(p)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:N,direction:S?"backward":"forward",meta:t.options.meta};return x(M),M})(),j=await b(_),{maxPages:C}=t.options,I=S?Are:Ore;return{pages:I(w.pages,j,C),pageParams:I(w.pageParams,N,C)}};if(a&&i.length){const w=a==="backward",N=w?Vre:m4,S={pages:i,pageParams:o},k=N(n,S);l=await y(S,k,w)}else{const w=e??i.length;do{const N=c===0?o[0]??n.initialPageParam:m4(n,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function m4(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Vre(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var wr,qo,Ho,qd,Hd,Go,Gd,Kd,V3,Wre=(V3=class{constructor(e={}){He(this,wr);He(this,qo);He(this,Ho);He(this,qd);He(this,Hd);He(this,Go);He(this,Gd);He(this,Kd);Oe(this,wr,e.queryCache||new Bre),Oe(this,qo,e.mutationCache||new Ure),Oe(this,Ho,e.defaultOptions||{}),Oe(this,qd,new Map),Oe(this,Hd,new Map),Oe(this,Go,0)}mount(){pv(this,Go)._++,Y(this,Go)===1&&(Oe(this,Gd,sP.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,wr).onFocus())})),Oe(this,Kd,Ny.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,wr).onOnline())})))}unmount(){var e,t;pv(this,Go)._--,Y(this,Go)===0&&((e=Y(this,Gd))==null||e.call(this),Oe(this,Gd,void 0),(t=Y(this,Kd))==null||t.call(this),Oe(this,Kd,void 0))}isFetching(e){return Y(this,wr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Y(this,qo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,wr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Y(this,wr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ml(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Y(this,wr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Y(this,wr).get(n.queryHash),i=a==null?void 0:a.state.data,o=Ere(t,i);if(o!==void 0)return Y(this,wr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Yr.batch(()=>Y(this,wr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,wr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Y(this,wr);Yr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Y(this,wr);return Yr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Yr.batch(()=>Y(this,wr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Rn).catch(Rn)}invalidateQueries(e,t={}){return Yr.batch(()=>(Y(this,wr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Yr.batch(()=>Y(this,wr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Rn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Rn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Y(this,wr).build(this,t);return r.isStaleByTime(ml(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rn).catch(Rn)}fetchInfiniteQuery(e){return e.behavior=f4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rn).catch(Rn)}ensureInfiniteQueryData(e){return e.behavior=f4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ny.isOnline()?Y(this,qo).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,wr)}getMutationCache(){return Y(this,qo)}getDefaultOptions(){return Y(this,Ho)}setDefaultOptions(e){Oe(this,Ho,e)}setQueryDefaults(e,t){Y(this,qd).set(tu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Y(this,qd).values()],r={};return t.forEach(n=>{up(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Y(this,Hd).set(tu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Y(this,Hd).values()],r={};return t.forEach(n=>{up(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Y(this,Ho).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===nP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Y(this,Ho).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Y(this,wr).clear(),Y(this,qo).clear()}},wr=new WeakMap,qo=new WeakMap,Ho=new WeakMap,qd=new WeakMap,Hd=new WeakMap,Go=new WeakMap,Gd=new WeakMap,Kd=new WeakMap,V3),Hn,jt,vg,In,Ic,Xd,Ko,Xo,xg,Yd,Qd,Mc,Rc,Yo,Zd,Dt,hm,UN,VN,WN,qN,HN,GN,KN,qF,W3,qre=(W3=class extends sf{constructor(t,r){super();He(this,Dt);He(this,Hn);He(this,jt);He(this,vg);He(this,In);He(this,Ic);He(this,Xd);He(this,Ko);He(this,Xo);He(this,xg);He(this,Yd);He(this,Qd);He(this,Mc);He(this,Rc);He(this,Yo);He(this,Zd,new Set);this.options=r,Oe(this,Hn,t),Oe(this,Xo,null),Oe(this,Ko,zN()),this.options.experimental_prefetchInRender||Y(this,Ko).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,jt).addObserver(this),p4(Y(this,jt),this.options)?ht(this,Dt,hm).call(this):this.updateResult(),ht(this,Dt,qN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return XN(Y(this,jt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return XN(Y(this,jt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,Dt,HN).call(this),ht(this,Dt,GN).call(this),Y(this,jt).removeObserver(this)}setOptions(t){const r=this.options,n=Y(this,jt);if(this.options=Y(this,Hn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bs(this.options.enabled,Y(this,jt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,Dt,KN).call(this),Y(this,jt).setOptions(this.options),r._defaulted&&!_y(this.options,r)&&Y(this,Hn).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,jt),observer:this});const a=this.hasListeners();a&&g4(Y(this,jt),n,this.options,r)&&ht(this,Dt,hm).call(this),this.updateResult(),a&&(Y(this,jt)!==n||Bs(this.options.enabled,Y(this,jt))!==Bs(r.enabled,Y(this,jt))||ml(this.options.staleTime,Y(this,jt))!==ml(r.staleTime,Y(this,jt)))&&ht(this,Dt,UN).call(this);const i=ht(this,Dt,VN).call(this);a&&(Y(this,jt)!==n||Bs(this.options.enabled,Y(this,jt))!==Bs(r.enabled,Y(this,jt))||i!==Y(this,Yo))&&ht(this,Dt,WN).call(this,i)}getOptimisticResult(t){const r=Y(this,Hn).getQueryCache().build(Y(this,Hn),t),n=this.createResult(r,t);return Gre(this,n)&&(Oe(this,In,n),Oe(this,Xd,this.options),Oe(this,Ic,Y(this,jt).state)),n}getCurrentResult(){return Y(this,In)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){Y(this,Zd).add(t)}getCurrentQuery(){return Y(this,jt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Y(this,Hn).defaultQueryOptions(t),n=Y(this,Hn).getQueryCache().build(Y(this,Hn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ht(this,Dt,hm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,In)))}createResult(t,r){var C;const n=Y(this,jt),a=this.options,i=Y(this,In),o=Y(this,Ic),l=Y(this,Xd),u=t!==n?t.state:Y(this,vg),{state:d}=t;let h={...d},f=!1,m;if(r._optimisticResults){const I=this.hasListeners(),M=!I&&p4(t,r),$=I&&g4(t,n,r,a);(M||$)&&(h={...h,...VF(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=h;m=h.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let I;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(I=i.data,b=!0):I=typeof r.placeholderData=="function"?r.placeholderData((C=Y(this,Qd))==null?void 0:C.state.data,Y(this,Qd)):r.placeholderData,I!==void 0&&(x="success",m=BN(i==null?void 0:i.data,I,r),f=!0)}if(r.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&r.select===Y(this,xg))m=Y(this,Yd);else try{Oe(this,xg,r.select),m=r.select(m),m=BN(i==null?void 0:i.data,m,r),Oe(this,Yd,m),Oe(this,Xo,null)}catch(I){Oe(this,Xo,I)}Y(this,Xo)&&(g=Y(this,Xo),m=Y(this,Yd),p=Date.now(),x="error");const y=h.fetchStatus==="fetching",w=x==="pending",N=x==="error",S=w&&y,k=m!==void 0,j={status:x,fetchStatus:h.fetchStatus,isPending:w,isSuccess:x==="success",isError:N,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:N&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:N&&k,isStale:aP(t,r),refetch:this.refetch,promise:Y(this,Ko),isEnabled:Bs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=W=>{j.status==="error"?W.reject(j.error):j.data!==void 0&&W.resolve(j.data)},M=()=>{const W=Oe(this,Ko,j.promise=zN());I(W)},$=Y(this,Ko);switch($.status){case"pending":t.queryHash===n.queryHash&&I($);break;case"fulfilled":(j.status==="error"||j.data!==$.value)&&M();break;case"rejected":(j.status!=="error"||j.error!==$.reason)&&M();break}}return j}updateResult(){const t=Y(this,In),r=this.createResult(Y(this,jt),this.options);if(Oe(this,Ic,Y(this,jt).state),Oe(this,Xd,this.options),Y(this,Ic).data!==void 0&&Oe(this,Qd,Y(this,jt)),_y(r,t))return;Oe(this,In,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Y(this,Zd).size)return!0;const o=new Set(i??Y(this,Zd));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,In)).some(l=>{const c=l;return Y(this,In)[c]!==t[c]&&o.has(c)})};ht(this,Dt,qF).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,Dt,qN).call(this)}},Hn=new WeakMap,jt=new WeakMap,vg=new WeakMap,In=new WeakMap,Ic=new WeakMap,Xd=new WeakMap,Ko=new WeakMap,Xo=new WeakMap,xg=new WeakMap,Yd=new WeakMap,Qd=new WeakMap,Mc=new WeakMap,Rc=new WeakMap,Yo=new WeakMap,Zd=new WeakMap,Dt=new WeakSet,hm=function(t){ht(this,Dt,KN).call(this);let r=Y(this,jt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Rn)),r},UN=function(){ht(this,Dt,HN).call(this);const t=ml(this.options.staleTime,Y(this,jt));if(eu||Y(this,In).isStale||!LN(t))return;const n=RF(Y(this,In).dataUpdatedAt,t)+1;Oe(this,Mc,setTimeout(()=>{Y(this,In).isStale||this.updateResult()},n))},VN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,jt)):this.options.refetchInterval)??!1},WN=function(t){ht(this,Dt,GN).call(this),Oe(this,Yo,t),!(eu||Bs(this.options.enabled,Y(this,jt))===!1||!LN(Y(this,Yo))||Y(this,Yo)===0)&&Oe(this,Rc,setInterval(()=>{(this.options.refetchIntervalInBackground||sP.isFocused())&&ht(this,Dt,hm).call(this)},Y(this,Yo)))},qN=function(){ht(this,Dt,UN).call(this),ht(this,Dt,WN).call(this,ht(this,Dt,VN).call(this))},HN=function(){Y(this,Mc)&&(clearTimeout(Y(this,Mc)),Oe(this,Mc,void 0))},GN=function(){Y(this,Rc)&&(clearInterval(Y(this,Rc)),Oe(this,Rc,void 0))},KN=function(){const t=Y(this,Hn).getQueryCache().build(Y(this,Hn),this.options);if(t===Y(this,jt))return;const r=Y(this,jt);Oe(this,jt,t),Oe(this,vg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},qF=function(t){Yr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Y(this,In))}),Y(this,Hn).getQueryCache().notify({query:Y(this,jt),type:"observerResultsUpdated"})})},W3);function Hre(e,t){return Bs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function p4(e,t){return Hre(e,t)||e.state.data!==void 0&&XN(e,t,t.refetchOnMount)}function XN(e,t,r){if(Bs(t.enabled,e)!==!1&&ml(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&aP(e,t)}return!1}function g4(e,t,r,n){return(e!==t||Bs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&aP(e,r)}function aP(e,t){return Bs(t.enabled,e)!==!1&&e.isStaleByTime(ml(t.staleTime,e))}function Gre(e,t){return!_y(e.getCurrentResult(),t)}var Qo,Zo,Gn,Di,eo,Dx,YN,q3,Kre=(q3=class extends sf{constructor(r,n){super();He(this,eo);He(this,Qo);He(this,Zo);He(this,Gn);He(this,Di);Oe(this,Qo,r),this.setOptions(n),this.bindMethods(),ht(this,eo,Dx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=Y(this,Qo).defaultMutationOptions(r),_y(this.options,n)||Y(this,Qo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,Gn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&tu(n.mutationKey)!==tu(this.options.mutationKey)?this.reset():((a=Y(this,Gn))==null?void 0:a.state.status)==="pending"&&Y(this,Gn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Y(this,Gn))==null||r.removeObserver(this)}onMutationUpdate(r){ht(this,eo,Dx).call(this),ht(this,eo,YN).call(this,r)}getCurrentResult(){return Y(this,Zo)}reset(){var r;(r=Y(this,Gn))==null||r.removeObserver(this),Oe(this,Gn,void 0),ht(this,eo,Dx).call(this),ht(this,eo,YN).call(this)}mutate(r,n){var a;return Oe(this,Di,n),(a=Y(this,Gn))==null||a.removeObserver(this),Oe(this,Gn,Y(this,Qo).getMutationCache().build(Y(this,Qo),this.options)),Y(this,Gn).addObserver(this),Y(this,Gn).execute(r)}},Qo=new WeakMap,Zo=new WeakMap,Gn=new WeakMap,Di=new WeakMap,eo=new WeakSet,Dx=function(){var n;const r=((n=Y(this,Gn))==null?void 0:n.state)??WF();Oe(this,Zo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},YN=function(r){Yr.batch(()=>{var n,a,i,o,l,c,u,d;if(Y(this,Di)&&this.hasListeners()){const h=Y(this,Zo).variables,f=Y(this,Zo).context;(r==null?void 0:r.type)==="success"?((a=(n=Y(this,Di)).onSuccess)==null||a.call(n,r.data,h,f),(o=(i=Y(this,Di)).onSettled)==null||o.call(i,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(l=Y(this,Di)).onError)==null||c.call(l,r.error,h,f),(d=(u=Y(this,Di)).onSettled)==null||d.call(u,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(Y(this,Zo))})})},q3),HF=v.createContext(void 0),Ll=e=>{const t=v.useContext(HF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Xre=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(HF.Provider,{value:e,children:t})),GF=v.createContext(!1),Yre=()=>v.useContext(GF);GF.Provider;function Qre(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Zre=v.createContext(Qre()),Jre=()=>v.useContext(Zre),ene=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},tne=e=>{v.useEffect(()=>{e.clearReset()},[e])},rne=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||LF(r,[e.error,n])),nne=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},sne=(e,t)=>e.isLoading&&e.isFetching&&!t,ane=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,v4=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ine(e,t,r){var h,f,m,g,p;const n=Yre(),a=Jre(),i=Ll(),o=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",nne(o),ene(o,a),tne(a);const l=!i.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(x=>{const b=d?c.subscribe(Yr.batchCalls(x)):Rn;return c.updateResult(),b},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o)},[o,c]),ane(o,u))throw v4(o,c,a);if(rne({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,u),o.experimental_prefetchInRender&&!eu&&sne(u,n)){const x=l?v4(o,c,a):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;x==null||x.catch(Rn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function fr(e,t){return ine(e,qre)}function Xn(e,t){const r=Ll(),[n]=v.useState(()=>new Kre(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const a=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(Yr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(Rn)},[n]);if(a.error&&LF(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}var tl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(tl||(tl={}));const x4="popstate";function one(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return QN("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Sy(a)}return cne(t,r,null,e)}function Pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lne(){return Math.random().toString(36).substr(2,8)}function y4(e,t){return{usr:e.state,key:e.key,idx:t}}function QN(e,t,r,n){return r===void 0&&(r=null),dp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?af(t):t,{state:r,key:t&&t.key||n||lne()})}function Sy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function af(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cne(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=tl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(dp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=tl.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:b})}function f(x,b){l=tl.Push;let y=QN(p.location,x,b);u=d()+1;let w=y4(y,u),N=p.createHref(y);try{o.pushState(w,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(N)}i&&c&&c({action:l,location:p.location,delta:1})}function m(x,b){l=tl.Replace;let y=QN(p.location,x,b);u=d();let w=y4(y,u),N=p.createHref(y);o.replaceState(w,"",N),i&&c&&c({action:l,location:p.location,delta:0})}function g(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:Sy(x);return y=y.replace(/ $/,"%20"),Pr(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let p={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(x4,h),c=x,()=>{a.removeEventListener(x4,h),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(x){return o.go(x)}};return p}var b4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(b4||(b4={}));function une(e,t,r){return r===void 0&&(r="/"),dne(e,t,r,!1)}function dne(e,t,r,n){let a=typeof t=="string"?af(t):t,i=uh(a.pathname||"/",r);if(i==null)return null;let o=XF(e);hne(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=_ne(i);l=wne(o[c],u,n)}return l}function XF(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Pr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=pl([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Pr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),XF(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:yne(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of YF(i.path))a(i,o,c)}),t}function YF(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=YF(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function hne(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bne(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fne=/^:[\w-]+$/,mne=3,pne=2,gne=1,vne=10,xne=-2,w4=e=>e==="*";function yne(e,t){let r=e.split("/"),n=r.length;return r.some(w4)&&(n+=xne),t&&(n+=pne),r.filter(a=>!w4(a)).reduce((a,i)=>a+(fne.test(i)?mne:i===""?gne:vne),n)}function bne(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function wne(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=ky({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=ky({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:pl([i,h.pathname]),pathnameBase:Cne(pl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=pl([i,h.pathnameBase]))}return o}function ky(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jne(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function jne(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),KF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function _ne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return KF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function uh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Nne(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?af(e):e;return{pathname:r?r.startsWith("/")?r:Sne(r,t):t,search:Pne(n),hash:Ene(a)}}function Sne(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function aj(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kne(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function QF(e,t){let r=kne(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ZF(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=af(e):(a=dp({},e),Pr(!a.pathname||!a.pathname.includes("?"),aj("?","pathname","search",a)),Pr(!a.pathname||!a.pathname.includes("#"),aj("#","pathname","hash",a)),Pr(!a.search||!a.search.includes("#"),aj("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Nne(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const pl=e=>e.join("/").replace(/\/\/+/g,"/"),Cne=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pne=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ene=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tne(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const JF=["post","put","patch","delete"];new Set(JF);const One=["get",...JF];new Set(One);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(this,arguments)}const Tb=v.createContext(null),eB=v.createContext(null),Fl=v.createContext(null),Ob=v.createContext(null),Bl=v.createContext({outlet:null,matches:[],isDataRoute:!1}),tB=v.createContext(null);function Ane(e,t){let{relative:r}=t===void 0?{}:t;Tg()||Pr(!1);let{basename:n,navigator:a}=v.useContext(Fl),{hash:i,pathname:o,search:l}=Ib(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:pl([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Tg(){return v.useContext(Ob)!=null}function Va(){return Tg()||Pr(!1),v.useContext(Ob).location}function rB(e){v.useContext(Fl).static||v.useLayoutEffect(e)}function en(){let{isDataRoute:e}=v.useContext(Bl);return e?qne():Ine()}function Ine(){Tg()||Pr(!1);let e=v.useContext(Tb),{basename:t,future:r,navigator:n}=v.useContext(Fl),{matches:a}=v.useContext(Bl),{pathname:i}=Va(),o=JSON.stringify(QF(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return rB(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=ZF(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:pl([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function Ab(){let{matches:e}=v.useContext(Bl),t=e[e.length-1];return t?t.params:{}}function Ib(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(Fl),{matches:a}=v.useContext(Bl),{pathname:i}=Va(),o=JSON.stringify(QF(a,n.v7_relativeSplatPath));return v.useMemo(()=>ZF(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Mne(e,t){return Rne(e,t)}function Rne(e,t,r,n){Tg()||Pr(!1);let{navigator:a}=v.useContext(Fl),{matches:i}=v.useContext(Bl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Va(),d;if(t){var h;let x=typeof t=="string"?af(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||Pr(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=une(e,{pathname:m}),p=Bne(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:pl([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:pl([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&p?v.createElement(Ob.Provider,{value:{location:hp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:tl.Pop}},p):p}function $ne(){let e=Wne(),t=Tne(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,null)}const Dne=v.createElement($ne,null);class Lne extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Bl.Provider,{value:this.props.routeContext},v.createElement(tB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fne(e){let{routeContext:t,match:r,children:n}=e,a=v.useContext(Tb);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Bl.Provider,{value:t},n)}function Bne(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Pr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,g=!1,p=null,x=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||Dne,c&&(u<0&&f===0?(g=!0,x=null):u===f&&(g=!0,x=h.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,f+1)),y=()=>{let w;return m?w=p:g?w=x:h.route.Component?w=v.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,v.createElement(Fne,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(Lne,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var nB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nB||{}),Cy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cy||{});function zne(e){let t=v.useContext(Tb);return t||Pr(!1),t}function Une(e){let t=v.useContext(eB);return t||Pr(!1),t}function Vne(e){let t=v.useContext(Bl);return t||Pr(!1),t}function sB(e){let t=Vne(),r=t.matches[t.matches.length-1];return r.route.id||Pr(!1),r.route.id}function Wne(){var e;let t=v.useContext(tB),r=Une(Cy.UseRouteError),n=sB(Cy.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qne(){let{router:e}=zne(nB.UseNavigateStable),t=sB(Cy.UseNavigateStable),r=v.useRef(!1);return rB(()=>{r.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,hp({fromRouteId:t},i)))},[e,t])}function Hne(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function dt(e){Pr(!1)}function Gne(e){let{basename:t="/",children:r=null,location:n,navigationType:a=tl.Pop,navigator:i,static:o=!1,future:l}=e;Tg()&&Pr(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:hp({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=af(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=n,p=v.useMemo(()=>{let x=uh(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:g},navigationType:a}},[c,d,h,f,m,g,a]);return p==null?null:v.createElement(Fl.Provider,{value:u},v.createElement(Ob.Provider,{children:r,value:p}))}function Kne(e){let{children:t,location:r}=e;return Mne(ZN(t),r)}new Promise(()=>{});function ZN(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let i=[...t,a];if(n.type===v.Fragment){r.push.apply(r,ZN(n.props.children,i));return}n.type!==dt&&Pr(!1),!n.props.index||!n.props.children||Pr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ZN(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(this,arguments)}function aB(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Xne(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Yne(e,t){return e.button===0&&(!t||t==="_self")&&!Xne(e)}function JN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Qne(e,t){let r=JN(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Zne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jne=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ese="6";try{window.__reactRouterVersion=ese}catch{}const tse=v.createContext({isTransitioning:!1}),rse="startTransition",j4=L2[rse];function nse(e){let{basename:t,children:r,future:n,window:a}=e,i=v.useRef();i.current==null&&(i.current=one({window:a,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(h=>{u&&j4?j4(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>Hne(n),[n]),v.createElement(Gne,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const sse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ase=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=v.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=aB(t,Zne),{basename:m}=v.useContext(Fl),g,p=!1;if(typeof u=="string"&&ase.test(u)&&(g=u,sse))try{let w=new URL(window.location.href),N=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=uh(N.pathname,m);N.origin===w.origin&&S!=null?u=S+N.search+N.hash:p=!0}catch{}let x=Ane(u,{relative:a}),b=lse(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function y(w){n&&n(w),w.defaultPrevented||b(w)}return v.createElement("a",Py({},f,{href:g||x,onClick:p||i?n:y,ref:r,target:c}))}),ise=v.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=aB(t,Jne),f=Ib(c,{relative:h.relative}),m=Va(),g=v.useContext(eB),{navigator:p,basename:x}=v.useContext(Fl),b=g!=null&&use(f)&&u===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=m.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),N=N?N.toLowerCase():null,y=y.toLowerCase()),N&&x&&(N=uh(N,x)||N);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=w===y||!o&&w.startsWith(y)&&w.charAt(S)==="/",_=N!=null&&(N===y||!o&&N.startsWith(y)&&N.charAt(y.length)==="/"),j={isActive:k,isPending:_,isTransitioning:b},C=k?n:void 0,I;typeof i=="function"?I=i(j):I=[i,k?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(j):l;return v.createElement(Ke,Py({},h,{"aria-current":C,className:I,ref:r,style:M,to:c,viewTransition:u}),typeof d=="function"?d(j):d)});var eS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eS||(eS={}));var _4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_4||(_4={}));function ose(e){let t=v.useContext(Tb);return t||Pr(!1),t}function lse(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=en(),u=Va(),d=Ib(e,{relative:o});return v.useCallback(h=>{if(Yne(h,r)){h.preventDefault();let f=n!==void 0?n:Sy(u)===Sy(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function cse(e){let t=v.useRef(JN(e)),r=v.useRef(!1),n=Va(),a=v.useMemo(()=>Qne(n.search,r.current?null:t.current),[n.search]),i=en(),o=v.useCallback((l,c)=>{const u=JN(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function use(e,t){t===void 0&&(t={});let r=v.useContext(tse);r==null&&Pr(!1);let{basename:n}=ose(eS.useViewTransitionState),a=Ib(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=uh(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=uh(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ky(a.pathname,o)!=null||ky(a.pathname,i)!=null}function fn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dse=typeof Symbol=="function"&&Symbol.observable||"@@observable",N4=dse,ij=()=>Math.random().toString(36).substring(7).split("").join("."),hse={INIT:`@@redux/INIT${ij()}`,REPLACE:`@@redux/REPLACE${ij()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ij()}`},Ey=hse;function iP(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function iB(e,t,r){if(typeof e!="function")throw new Error(fn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(fn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(fn(1));return r(iB)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((x,b)=>{o.set(b,x)}))}function d(){if(c)throw new Error(fn(3));return a}function h(x){if(typeof x!="function")throw new Error(fn(4));if(c)throw new Error(fn(5));let b=!0;u();const y=l++;return o.set(y,x),function(){if(b){if(c)throw new Error(fn(6));b=!1,u(),o.delete(y),i=null}}}function f(x){if(!iP(x))throw new Error(fn(7));if(typeof x.type>"u")throw new Error(fn(8));if(typeof x.type!="string")throw new Error(fn(17));if(c)throw new Error(fn(9));try{c=!0,a=n(a,x)}finally{c=!1}return(i=o).forEach(y=>{y()}),x}function m(x){if(typeof x!="function")throw new Error(fn(10));n=x,f({type:Ey.REPLACE})}function g(){const x=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(fn(11));function y(){const N=b;N.next&&N.next(d())}return y(),{unsubscribe:x(y)}},[N4](){return this}}}return f({type:Ey.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[N4]:g}}function fse(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ey.INIT})>"u")throw new Error(fn(12));if(typeof r(void 0,{type:Ey.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fn(13))})}function mse(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{fse(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const h=n[d],f=r[h],m=o[h],g=f(m,l);if(typeof g>"u")throw l&&l.type,new Error(fn(14));u[h]=g,c=c||g!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Ty(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function pse(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(fn(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=Ty(...l)(a.dispatch),{...a,dispatch:i}}}function gse(e){return iP(e)&&"type"in e&&typeof e.type=="string"}var oB=Symbol.for("immer-nothing"),S4=Symbol.for("immer-draftable"),zn=Symbol.for("immer-state");function Ca(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var js=Object,dh=js.getPrototypeOf,Oy="constructor",Mb="prototype",tS="configurable",Ay="enumerable",Lx="writable",fp="value",ho=e=>!!e&&!!e[zn];function La(e){var t;return e?lB(e)||Rb(e)||!!e[S4]||!!((t=e[Oy])!=null&&t[S4])||$b(e)||Db(e):!1}var vse=js[Mb][Oy].toString(),k4=new WeakMap;function lB(e){if(!e||!oP(e))return!1;const t=dh(e);if(t===null||t===js[Mb])return!0;const r=js.hasOwnProperty.call(t,Oy)&&t[Oy];if(r===Object)return!0;if(!Qu(r))return!1;let n=k4.get(r);return n===void 0&&(n=Function.toString.call(r),k4.set(r,n)),n===vse}function Og(e,t,r=!0){Ag(e)===0?(r?Reflect.ownKeys(e):js.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Ag(e){const t=e[zn];return t?t.type_:Rb(e)?1:$b(e)?2:Db(e)?3:0}var C4=(e,t,r=Ag(e))=>r===2?e.has(t):js[Mb].hasOwnProperty.call(e,t),rS=(e,t,r=Ag(e))=>r===2?e.get(t):e[t],Iy=(e,t,r,n=Ag(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function xse(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Rb=Array.isArray,$b=e=>e instanceof Map,Db=e=>e instanceof Set,oP=e=>typeof e=="object",Qu=e=>typeof e=="function",oj=e=>typeof e=="boolean";function yse(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ri=e=>e.copy_||e.base_,lP=e=>e.modified_?e.copy_:e.base_;function nS(e,t){if($b(e))return new Map(e);if(Db(e))return new Set(e);if(Rb(e))return Array[Mb].slice.call(e);const r=lB(e);if(t===!0||t==="class_only"&&!r){const n=js.getOwnPropertyDescriptors(e);delete n[zn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[Lx]===!1&&(l[Lx]=!0,l[tS]=!0),(l.get||l.set)&&(n[o]={[tS]:!0,[Lx]:!0,[Ay]:l[Ay],[fp]:e[o]})}return js.create(dh(e),n)}else{const n=dh(e);if(n!==null&&r)return{...e};const a=js.create(n);return js.assign(a,e)}}function cP(e,t=!1){return Lb(e)||ho(e)||!La(e)||(Ag(e)>1&&js.defineProperties(e,{set:Lv,add:Lv,clear:Lv,delete:Lv}),js.freeze(e),t&&Og(e,(r,n)=>{cP(n,!0)},!1)),e}function bse(){Ca(2)}var Lv={[fp]:bse};function Lb(e){return e===null||!oP(e)?!0:js.isFrozen(e)}var My="MapSet",sS="Patches",P4="ArrayMethods",cB={};function ru(e){const t=cB[e];return t||Ca(0,e),t}var E4=e=>!!cB[e],mp,uB=()=>mp,wse=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:E4(My)?ru(My):void 0,arrayMethodsPlugin_:E4(P4)?ru(P4):void 0});function T4(e,t){t&&(e.patchPlugin_=ru(sS),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function aS(e){iS(e),e.drafts_.forEach(jse),e.drafts_=null}function iS(e){e===mp&&(mp=e.parent_)}var O4=e=>mp=wse(mp,e);function jse(e){const t=e[zn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function A4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[zn].modified_&&(aS(t),Ca(4)),La(e)&&(e=I4(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[zn].base_,e,t)}else e=I4(t,r);return _se(t,e,!0),aS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==oB?e:void 0}function I4(e,t){if(Lb(t))return t;const r=t[zn];if(!r)return uP(t,e.handledSet_,e);if(!Fb(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);fB(r,e)}return r.copy_}function _se(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&cP(t,r)}function dB(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Fb=(e,t)=>e.scope_===t,Nse=[];function hB(e,t,r,n){const a=Ri(e),i=e.type_;if(n!==void 0&&rS(a,n,i)===t){Iy(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Og(a,(c,u)=>{if(ho(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??Nse;for(const l of o)Iy(a,l,r,i)}function Sse(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!Fb(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=lP(i);hB(e,i.draft_??i,o,r),fB(i,a)})}function fB(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}dB(e)}}function kse(e,t,r){const{scope_:n}=e;if(ho(r)){const a=r[zn];Fb(a,n)&&a.callbacks_.push(function(){Fx(e);const o=lP(a);hB(e,r,o,t)})}else La(r)&&e.callbacks_.push(function(){const i=Ri(e);rS(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&uP(rS(e.copy_,t,e.type_),n.handledSet_,n)})}function uP(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ho(e)||t.has(e)||!La(e)||Lb(e)||(t.add(e),Og(e,(n,a)=>{if(ho(a)){const i=a[zn];if(Fb(i,r)){const o=lP(i);Iy(e,n,o,e.type_),dB(i)}}else La(a)&&uP(a,t,r)})),e}function Cse(e,t){const r=Rb(e),n={type_:r?1:0,scope_:t?t.scope_:uB(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=dP;r&&(a=[n],i=pp);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var dP={get(e,t){if(t===zn)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=Ri(e);if(!C4(a,t,e.type_))return Pse(e,a,t);const i=a[t];if(e.finalized_||!La(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&yse(t))return i;if(i===lj(e.base_,t)){Fx(e);const o=e.type_===1?+t:t,l=lS(e.scope_,i,e,o);return e.copy_[o]=l}return i},has(e,t){return t in Ri(e)},ownKeys(e){return Reflect.ownKeys(Ri(e))},set(e,t,r){const n=mB(Ri(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=lj(Ri(e),t),i=a==null?void 0:a[zn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(xse(r,a)&&(r!==void 0||C4(e.base_,t,e.type_)))return!0;Fx(e),oS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),kse(e,t,r)),!0},deleteProperty(e,t){return Fx(e),lj(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),oS(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ri(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Lx]:!0,[tS]:e.type_!==1||t!=="length",[Ay]:n[Ay],[fp]:r[t]}},defineProperty(){Ca(11)},getPrototypeOf(e){return dh(e.base_)},setPrototypeOf(){Ca(12)}},pp={};Og(dP,(e,t)=>{pp[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});pp.deleteProperty=function(e,t){return pp.set.call(this,e,t,void 0)};pp.set=function(e,t,r){return dP.set.call(this,e[0],t,r,e[0])};function lj(e,t){const r=e[zn];return(r?Ri(r):e)[t]}function Pse(e,t,r){var a;const n=mB(t,r);return n?fp in n?n[fp]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function mB(e,t){if(!(t in e))return;let r=dh(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=dh(r)}}function oS(e){e.modified_||(e.modified_=!0,e.parent_&&oS(e.parent_))}function Fx(e){e.copy_||(e.assigned_=new Map,e.copy_=nS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ese=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,n)=>{if(Qu(t)&&!Qu(r)){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}Qu(r)||Ca(6),n!==void 0&&!Qu(n)&&Ca(7);let a;if(La(t)){const i=O4(this),o=lS(i,t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?aS(i):iS(i)}return T4(i,n),A4(a,i)}else if(!t||!oP(t)){if(a=r(t),a===void 0&&(a=t),a===oB&&(a=void 0),this.autoFreeze_&&cP(a,!0),n){const i=[],o=[];ru(sS).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),n(i,o)}return a}else Ca(1,t)},this.produceWithPatches=(t,r)=>{if(Qu(t))return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},oj(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),oj(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),oj(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){La(e)||Ca(8),ho(e)&&(e=Tse(e));const t=O4(this),r=lS(t,e,void 0);return r[zn].isManual_=!0,iS(t),r}finishDraft(e,t){const r=e&&e[zn];(!r||!r.isManual_)&&Ca(9);const{scope_:n}=r;return T4(n,t),A4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ru(sS).applyPatches_;return ho(e)?n(e,t):this.produce(e,a=>n(a,t))}};function lS(e,t,r,n){const[a,i]=$b(t)?ru(My).proxyMap_(t,r):Db(t)?ru(My).proxySet_(t,r):Cse(t,r);return((r==null?void 0:r.scope_)??uB()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?Sse(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function Tse(e){return ho(e)||Ca(10,e),pB(e)}function pB(e){if(!La(e)||Lb(e))return e;const t=e[zn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=nS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=nS(e,!0);return Og(r,(a,i)=>{Iy(r,a,pB(i))},n),t&&(t.finalized_=!1),r}var Ose=new Ese,gB=Ose.produce;function vB(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Ase=vB(),Ise=vB,Mse=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ty:Ty.apply(null,arguments)};function M4(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Ki(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>gse(n)&&n.type===e,r}var xB=class fm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fm.prototype)}static get[Symbol.species](){return fm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fm(...t[0].concat(this)):new fm(...t.concat(this))}};function R4(e){return La(e)?gB(e,()=>{}):e}function Fv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Rse(e){return typeof e=="boolean"}var $se=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new xB;return r&&(Rse(r)?o.push(Ase):o.push(Ise(r.extraArgument))),o},Dse="RTK_autoBatch",$4=e=>t=>{setTimeout(t,e)},Lse=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$4(10):e.type==="callback"?e.queueNotification:$4(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>a&&d(),f=n.subscribe(h);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var h;try{return a=!((h=d==null?void 0:d.meta)!=null&&h[Dse]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},Fse=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new xB(e);return n&&a.push(Lse(typeof n=="object"?n:void 0)),a};function Bse(e){const t=$se(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(iP(r))c=mse(r);else throw new Error(Ki(1));let u;typeof n=="function"?u=n(t):u=t();let d=Ty;a&&(d=Mse({trace:!1,...typeof a=="object"&&a}));const h=pse(...u),f=Fse(h);let m=typeof l=="function"?l(f):f();const g=d(...m);return iB(c,o,g)}function yB(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Ki(28));if(l in t)throw new Error(Ki(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function zse(e){return typeof e=="function"}function Use(e,t){let[r,n,a]=yB(t),i;if(zse(e))i=()=>R4(e());else{const l=R4(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,h)=>{if(h)if(ho(d)){const m=h(d,c);return m===void 0?d:m}else{if(La(d))return gB(d,f=>h(f,c));{const f=h(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return o.getInitialState=i,o}var Vse=Symbol.for("rtk-slice-createasyncthunk");function Wse(e,t){return`${e}/${t}`}function qse({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Vse];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(Ki(11));typeof process<"u";const l=(typeof a.reducers=="function"?a.reducers(Gse()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,S){const k=typeof N=="string"?N:N.type;if(!k)throw new Error(Ki(12));if(k in u.sliceCaseReducersByType)throw new Error(Ki(13));return u.sliceCaseReducersByType[k]=S,d},addMatcher(N,S){return u.sliceMatchers.push({matcher:N,reducer:S}),d},exposeAction(N,S){return u.actionCreators[N]=S,d},exposeCaseReducer(N,S){return u.sliceCaseReducersByName[N]=S,d}};c.forEach(N=>{const S=l[N],k={reducerName:N,type:Wse(i,N),createNotation:typeof a.reducers=="function"};Xse(S)?Qse(k,S,d,t):Kse(k,S,d)});function h(){const[N={},S=[],k=void 0]=typeof a.extraReducers=="function"?yB(a.extraReducers):[a.extraReducers],_={...N,...u.sliceCaseReducersByType};return Use(a.initialState,j=>{for(let C in _)j.addCase(C,_[C]);for(let C of u.sliceMatchers)j.addMatcher(C.matcher,C.reducer);for(let C of S)j.addMatcher(C.matcher,C.reducer);k&&j.addDefaultCase(k)})}const f=N=>N,m=new Map,g=new WeakMap;let p;function x(N,S){return p||(p=h()),p(N,S)}function b(){return p||(p=h()),p.getInitialState()}function y(N,S=!1){function k(j){let C=j[N];return typeof C>"u"&&S&&(C=Fv(g,k,b)),C}function _(j=f){const C=Fv(m,S,()=>new WeakMap);return Fv(C,j,()=>{const I={};for(const[M,$]of Object.entries(a.selectors??{}))I[M]=Hse($,j,()=>Fv(g,j,b),S);return I})}return{reducerPath:N,getSelectors:_,get selectors(){return _(k)},selectSlice:k}}const w={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...y(o),injectInto(N,{reducerPath:S,...k}={}){const _=S??o;return N.inject({reducerPath:_,reducer:x},k),{...w,...y(_,!0)}}};return w}}function Hse(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Bb=qse();function Gse(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Kse({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!Yse(n))throw new Error(Ki(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?M4(e,o):M4(e))}function Xse(e){return e._reducerDefinitionType==="asyncThunk"}function Yse(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Qse({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Ki(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,h=a(e,i,d);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),l&&n.addCase(h.pending,l),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Bv,pending:l||Bv,rejected:c||Bv,settled:u||Bv})}function Bv(){}function Ki(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Zse=()=>{if(typeof window<"u"){const e=localStorage.getItem("cart");return e?JSON.parse(e):[]}return[]},Lf=e=>{typeof window<"u"&&localStorage.setItem("cart",JSON.stringify(e))},da=(e,t)=>t?`${e}-${t}`:e,Jse={items:Zse(),isOpen:!1},bB=Bb({name:"cart",initialState:Jse,reducers:{addToCart:(e,t)=>{const{product:r,quantity:n=1,variation:a}=t.payload,i=da(r.id,a==null?void 0:a.id),o=e.items.find(l=>{var c;return da(l.product.id,(c=l.variation)==null?void 0:c.id)===i});o?o.quantity+=n:e.items.push({product:r,quantity:n,variation:a}),Lf(e.items)},removeFromCart:(e,t)=>{const{productId:r,variationId:n}=t.payload,a=da(r,n);e.items=e.items.filter(i=>{var o;return da(i.product.id,(o=i.variation)==null?void 0:o.id)!==a}),Lf(e.items)},updateQuantity:(e,t)=>{const{productId:r,variationId:n,quantity:a}=t.payload,i=da(r,n),o=e.items.find(l=>{var c;return da(l.product.id,(c=l.variation)==null?void 0:c.id)===i});o&&(o.quantity=Math.max(1,a)),Lf(e.items)},setCartItemVariation:(e,t)=>{const{productId:r,fromVariationId:n,variation:a}=t.payload,i=da(r,n),o=e.items.find(u=>{var d;return da(u.product.id,(d=u.variation)==null?void 0:d.id)===i});if(!o)return;e.items=e.items.filter(u=>{var d;return da(u.product.id,(d=u.variation)==null?void 0:d.id)!==i});const l=da(r,a==null?void 0:a.id),c=e.items.find(u=>{var d;return da(u.product.id,(d=u.variation)==null?void 0:d.id)===l});c?c.quantity+=o.quantity:e.items.push({...o,variation:a}),Lf(e.items)},clearCart:e=>{e.items=[],Lf(e.items)},toggleCart:e=>{e.isOpen=!e.isOpen},openCart:e=>{e.isOpen=!0},closeCart:e=>{e.isOpen=!1}}}),{addToCart:hh,removeFromCart:wB,updateQuantity:Ry,setCartItemVariation:eae,clearCart:jB,toggleCart:_B,openCart:zb,closeCart:Ff}=bB.actions,hP=e=>e.cart.items,fP=e=>e.cart.items.reduce((t,r)=>{var a;const n=((a=r.variation)==null?void 0:a.price)??r.product.price;return t+n*r.quantity},0),NB=e=>e.cart.items.reduce((t,r)=>t+r.quantity,0),tae=e=>e.cart.isOpen,rae=bB.reducer,nae=()=>{if(typeof window<"u"){const e=localStorage.getItem("wishlist");return e?JSON.parse(e):[]}return[]},zv=e=>{typeof window<"u"&&localStorage.setItem("wishlist",JSON.stringify(e))},sae={items:nae()},SB=Bb({name:"wishlist",initialState:sae,reducers:{addToWishlist:(e,t)=>{e.items.find(n=>n.id===t.payload.id)||(e.items.push(t.payload),zv(e.items))},removeFromWishlist:(e,t)=>{e.items=e.items.filter(r=>r.id!==t.payload),zv(e.items)},toggleWishlist:(e,t)=>{e.items.find(n=>n.id===t.payload.id)?e.items=e.items.filter(n=>n.id!==t.payload.id):e.items.push(t.payload),zv(e.items)},clearWishlist:e=>{e.items=[],zv(e.items)}}}),{addToWishlist:THe,removeFromWishlist:aae,toggleWishlist:mP,clearWishlist:OHe}=SB.actions,Ig=e=>e.wishlist.items,iae=SB.reducer,oae={user:null,isAuthenticated:!1,isLoading:!1,error:null},lae=Bb({name:"auth",initialState:oae,reducers:{setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0,e.isLoading=!1,e.error=null},logout:e=>{e.user=null,e.isAuthenticated=!1,e.isLoading=!1,e.error=null},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1}}}),cae=lae.reducer,uae={products:[],featuredProducts:[],selectedProduct:null,filters:{sortBy:"newest"},isLoading:!1,error:null},dae=Bb({name:"products",initialState:uae,reducers:{setProducts:(e,t)=>{e.products=t.payload,e.isLoading=!1},setFeaturedProducts:(e,t)=>{e.featuredProducts=t.payload},setSelectedProduct:(e,t)=>{e.selectedProduct=t.payload},setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},resetFilters:e=>{e.filters={sortBy:"newest"}},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1}}}),hae=dae.reducer,fae=Bse({reducer:{cart:rae,wishlist:iae,auth:cae,products:hae}});var ei=function(){return ei=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ei.apply(this,arguments)};function of(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function mae(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function pae(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const gae=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class pP extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class vae extends pP{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class D4 extends pP{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class L4 extends pP{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cS||(cS={}));class xae{constructor(t,{headers:r={},customFetch:n,region:a=cS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=gae(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return mae(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(f["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(f["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:p,signal:x}).catch(S=>{throw new vae(S)}),y=b.headers.get("x-relay-error");if(y&&y==="true")throw new D4(b);if(!b.ok)throw new L4(b);let w=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),N;return w==="application/json"?N=yield b.json():w==="application/octet-stream"||w==="application/pdf"?N=yield b.blob():w==="text/event-stream"?N=b:w==="multipart/form-data"?N=yield b.formData():N=yield b.text(),{data:N,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof L4||l instanceof D4?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var yae=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},bae=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new yae(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,f;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},wae=class extends bae{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const F4=new RegExp("[,()]");var Zu=class extends wae{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&F4.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&F4.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},jae=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Zu({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Zu({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Zu({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Zu({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Zu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},_ae=class kB{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new jae(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new kB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Zu({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Nae{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Sae="2.89.0",kae=`realtime-js/${Sae}`,CB="1.0.0",Cae="2.0.0",B4=CB,uS=1e4,Pae=1e3,Eae=100;var $o;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($o||($o={}));var Gr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Gr||(Gr={}));var ja;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ja||(ja={}));var dS;(function(e){e.websocket="websocket"})(dS||(dS={}));var fc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fc||(fc={}));class Tae{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,h.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(h,b=>g.setUint8(p++,b.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class PB{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const z4=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Oae(o,e,t,a),i),{}):{}},Oae=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?EB(i,o):hS(o)},EB=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Rae(t,r)}switch(e){case Yt.bool:return Aae(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return Iae(t);case Yt.json:case Yt.jsonb:return Mae(t);case Yt.timestamp:return $ae(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return hS(t);default:return hS(t)}},hS=e=>e,Aae=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Iae=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Mae=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Rae=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>EB(t,l))}return e},$ae=e=>typeof e=="string"?e.replace(" ","T"):e,TB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class cj{constructor(t,r,n={},a=uS){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var U4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(U4||(U4={}));class Tm{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tm.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Tm.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Tm.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0),p=h.filter(x=>f.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var V4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(V4||(V4={}));var Om;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Om||(Om={}));var Ii;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ii||(Ii={}));class pd{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Gr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cj(this,ja.join,this.params,this.timeout),this.rejoinTimer=new PB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ja.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Tm(this),this.broadcastEndpointURL=TB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Gr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Om.PRESENCE]&&this.bindings[Om.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ii.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ii.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Ii.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let y=0;y<x;y++){const w=p[y],{filter:{event:N,schema:S,table:k,filter:_}}=w,j=m&&m[y];if(j&&j.event===N&&pd.isFilterValueEqual(j.schema,S)&&pd.isFilterValueEqual(j.table,k)&&pd.isFilterValueEqual(j.filter,_))b.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=Gr.errored,t==null||t(Ii.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ii.SUBSCRIBED);return}}).receive("error",m=>{this.state=Gr.errored,t==null||t(Ii.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ii.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Gr.joined&&t===Om.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Gr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ja.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new cj(this,ja.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new cj(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Eae){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ja;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,x,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const N=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return N&&((p=r.ids)===null||p===void 0?void 0:p.includes(N))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const N=(y=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return N==="*"||N===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:p,table:x,commit_timestamp:b,type:y,errors:w}=g;f=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(f,n)})}_isClosed(){return this.state===Gr.closed}_isJoined(){return this.state===Gr.joined}_isJoining(){return this.state===Gr.joining}_isLeaving(){return this.state===Gr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pd.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ja.close,{},t)}_onError(t){this._on(ja.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=z4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=z4(t.columns,t.old_record)),r}}const uj=()=>{},Uv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Dae=[1e3,2e3,5e3,1e4],Lae=1e4,Fae=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bae{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uS,this.transport=null,this.heartbeatIntervalMs=Uv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uj,this.ref=0,this.reconnectTimer=null,this.vsn=B4,this.logger=uj,this.conn=null,this.sendBuffer=[],this.serializer=new Tae,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${dS.websocket}`,this.httpEndpoint=TB(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nae.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $o.connecting:return fc.Connecting;case $o.open:return fc.Open;case $o.closing:return fc.Closing;default:return fc.Closed}}isConnected(){return this.connectionState()===fc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new pd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Pae,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Uv.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===$o.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$o.open||this.conn.readyState===$o.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ja.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Fae],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:kae};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ja.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new PB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Uv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,h,f,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:uS,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Uv.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:uj,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:B4,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>Dae[g-1]||Lae,this.vsn){case CB:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(g,p)=>p(JSON.parse(g));break;case Cae:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var gp=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zae(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function Uae(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Vae(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=zae(e.baseUrl,n,a),c=await Uae(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,g=m==null?void 0:m.error;throw new gp((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Vv(e){return e.join("")}var Wae=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Vv(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vv(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vv(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vv(e.namespace)}`}),!0}catch(t){if(t instanceof gp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof gp&&r.status===409)return;throw r}}};function Mu(e){return e.join("")}var qae=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof gp&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof gp&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Hae=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Vae({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Wae(this.client,t),this.tableOps=new qae(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ub=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function gr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Gae=class extends Ub{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fS=class extends Ub{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const gP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Kae=()=>Response,mS=e=>{if(Array.isArray(e))return e.map(r=>mS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=mS(n)}),t},Xae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yae=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function Qae(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zae(e){var t=Qae(e,"string");return vp(t)=="symbol"?t:t+""}function Jae(e,t,r){return(t=Zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(r),!0).forEach(function(n){Jae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const dj=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},eie=async(e,t,r)=>{e instanceof await Kae()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new Gae(dj(n),a,i))}).catch(n=>{t(new fS(dj(n),n))}):t(new fS(dj(e),e))},tie=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(Xae(n)?(a.headers=Qe({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Qe(Qe({},a),r))};async function Mg(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,tie(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>eie(c,l,n))})}async function xp(e,t,r,n){return Mg(e,"GET",t,r,n)}async function xa(e,t,r,n,a){return Mg(e,"POST",t,n,a,r)}async function pS(e,t,r,n,a){return Mg(e,"PUT",t,n,a,r)}async function rie(e,t,r,n){return Mg(e,"HEAD",t,Qe(Qe({},r),{},{noResolveJson:!0}),n)}async function vP(e,t,r,n,a){return Mg(e,"DELETE",t,n,a,r)}var nie=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gr(t))return{data:null,error:t};throw t}}};let OB;OB=Symbol.toStringTag;var sie=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[OB]="BlobDownloadBuilder",this.promise=null}asStream(){return new nie(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gr(t))return{data:null,error:t};throw t}}};const aie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var iie=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=gP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const o=Qe(Qe({},q4),n);let l=Qe(Qe({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Qe(Qe({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),h=await(e=="PUT"?pS:xa)(a.fetch,`${a.url}/object/${d}`,i,Qe({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Qe({upsert:q4.upsert},n),d=Qe(Qe({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await pS(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(gr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=Qe({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await xa(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ub("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await xa(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await xa(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await xa(n.fetch,`${n.url}/object/sign/${a}`,Qe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await xa(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Qe(Qe({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>xp(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new sie(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:mS(await xp(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await rie(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gr(n)&&n instanceof fS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await vP(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=Qe(Qe(Qe({},aie),t),{},{prefix:e||""});return{data:await xa(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gr(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=Qe({},e);return{data:await xa(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const AB="2.89.0",IB={"X-Client-Info":`storage-js/${AB}`};var oie=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Qe(Qe({},IB),t),this.fetch=gP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await xp(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await xp(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await xa(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await pS(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await xa(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await vP(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},lie=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Qe(Qe({},IB),t),this.fetch=gP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await xa(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await xp(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await vP(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Yae(e))throw new Ub("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Hae({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const xP={"X-Client-Info":`storage-js/${AB}`,"Content-Type":"application/json"};var MB=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function gs(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var hj=class extends MB{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cie=class extends MB{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const yP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uie=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},H4=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),die=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new hj(H4(i),n,o))}).catch(()=>{const i=n+"";t(new hj(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new hj(a.statusText||`HTTP ${n} error`,n,i))}}else t(new cie(H4(e),e))},hie=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(uie(n)?(a.headers=Qe({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Qe(Qe({},a),r)):a};async function fie(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,hie(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>die(c,l,n))})}async function vs(e,t,r,n,a){return fie(e,"POST",t,n,a,r)}var mie=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Qe(Qe({},xP),t),this.fetch=yP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await vs(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gs(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await vs(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gs(n))return{data:null,error:n};throw n}}},pie=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Qe(Qe({},xP),t),this.fetch=yP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await vs(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await vs(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await vs(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}},gie=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Qe(Qe({},xP),t),this.fetch=yP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await vs(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}},vie=class extends gie{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new xie(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},xie=class extends mie{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new yie(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},yie=class extends pie{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},bie=class extends oie{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new iie(this.url,this.headers,e,this.fetch)}get vectors(){return new vie(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lie(this.url+"/iceberg",this.headers,this.fetch)}};const RB="2.89.0",Ju=30*1e3,gS=3,fj=gS*Ju,wie="http://localhost:9999",jie="supabase.auth.token",_ie={"X-Client-Info":`gotrue-js/${RB}`},vS="X-Supabase-Api-Version",$B={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sie=10*60*1e3;class yp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kie extends yp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Cie(e){return Ve(e)&&e.name==="AuthApiError"}class mc extends yp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class bo extends yp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class us extends bo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pie(e){return Ve(e)&&e.name==="AuthSessionMissingError"}class Ru extends bo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wv extends bo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qv extends bo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Eie(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class G4 extends bo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tie extends bo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class xS extends bo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mj(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}class K4 extends bo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yS extends bo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X4=` 	
\r=`.split(""),Oie=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<X4.length;t+=1)e[X4[t].charCodeAt(0)]=-2;for(let t=0;t<$y.length;t+=1)e[$y[t].charCodeAt(0)]=t;return e})();function Y4(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($y[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($y[n]),t.queuedBits-=6}}function DB(e,t,r){const n=Oie[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Q4(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Mie(o,n,r)};for(let o=0;o<e.length;o+=1)DB(e.charCodeAt(o),a,i);return t.join("")}function Aie(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Iie(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Aie(n,t)}}function Mie(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ad(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)DB(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Rie(e){const t=[];return Iie(e,r=>t.push(r)),new Uint8Array(t)}function yc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Y4(a,r,n)),Y4(null,r,n),t.join("")}function $ie(e){return Math.round(Date.now()/1e3)+e}function Die(){return Symbol("auth-callback")}const hn=()=>typeof window<"u"&&typeof document<"u",ec={tested:!1,writable:!1},LB=()=>{if(!hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ec.tested)return ec.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ec.tested=!0,ec.writable=!0}catch{ec.tested=!0,ec.writable=!1}return ec.writable};function Lie(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const FB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Fie=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ed=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},tc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dn=async(e,t)=>{await e.removeItem(t)};class Vb{constructor(){this.promise=new Vb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vb.promiseConstructor=Promise;function pj(e){const t=e.split(".");if(t.length!==3)throw new yS("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Nie.test(t[n]))throw new yS("JWT not in base64url format");return{header:JSON.parse(Q4(t[0])),payload:JSON.parse(Q4(t[1])),signature:Ad(t[2]),raw:{header:t[0],payload:t[1]}}}async function Bie(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zie(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Uie(e){return("0"+e.toString(16)).substr(-2)}function Vie(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Uie).join("")}async function Wie(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function qie(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Wie(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $u(e,t,r=!1){const n=Vie();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ed(e,`${t}-code-verifier`,a);const i=await qie(n);return[i,n===i?"plain":"s256"]}const Hie=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gie(e){const t=e.headers.get(vS);if(!t||!t.match(Hie))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kie(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Xie(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Yie=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Du(e){if(!Yie.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gj(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qie(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Z4(e){return JSON.parse(JSON.stringify(e))}const oc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zie=[502,503,504];async function J4(e){var t;if(!Fie(e))throw new xS(oc(e),0);if(Zie.includes(e.status))throw new xS(oc(e),e.status);let r;try{r=await e.json()}catch(i){throw new mc(oc(i),i)}let n;const a=Gie(e);if(a&&a.getTime()>=$B["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new K4(oc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new us}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new K4(oc(r),e.status,r.weak_password.reasons);throw new kie(oc(r),e.status||500,n)}const Jie=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ye(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[vS]||(i[vS]=$B["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await eoe(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function eoe(e,t,r,n,a,i){const o=Jie(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new xS(oc(c),0)}if(l.ok||await J4(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await J4(c)}}function ma(e){var t;let r=null;noe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$ie(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function eI(e){const t=ma(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function toe(e){return{data:e,error:null}}function roe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=of(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function tI(e){return e}function noe(e){return e.access_token&&e.refresh_token&&e.expires_in}const vj=["global","local","others"];class soe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=FB(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=vj[0]){if(vj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vj.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zo})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=of(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:roe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zo})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tI});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Du(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zo})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Du(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zo})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Du(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zo})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Du(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Du(t.userId),Du(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tI});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Ve(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}}function rI(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Lu={debug:!!(globalThis&&LB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class BB extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aoe extends BB{}async function ioe(e,t,r){Lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Lu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aoe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ooe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function loe(e){return parseInt(e,16)}function coe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function uoe(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=zB(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${x}
${b}`}class Dr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Dy extends Dr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function doe({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Dr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Dr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Dr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Dr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Dr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Dr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Dr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(UB(o)){if(i.rp.id!==o)return new Dr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Dr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Dr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hoe({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Dr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(UB(n)){if(r.rpId!==n)return new Dr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Dr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class foe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const moe=new foe;function poe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=of(e,["challenge","user","excludeCredentials"]),i=Ad(t).buffer,o=Object.assign(Object.assign({},r),{id:Ad(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ad(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function goe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=of(e,["challenge","allowCredentials"]),a=Ad(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ad(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function voe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:yc(new Uint8Array(e.response.attestationObject)),clientDataJSON:yc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xoe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:yc(new Uint8Array(a.authenticatorData)),clientDataJSON:yc(new Uint8Array(a.clientDataJSON)),signature:yc(new Uint8Array(a.signature)),userHandle:a.userHandle?yc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function UB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function nI(){var e,t;return!!(hn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function yoe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dy("Browser returned unexpected credential type",t)}:{data:null,error:new Dy("Empty credential response",t)}}catch(t){return{data:null,error:doe({error:t,options:e})}}}async function boe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dy("Browser returned unexpected credential type",t)}:{data:null,error:new Dy("Empty credential response",t)}}catch(t){return{data:null,error:hoe({error:t,options:e})}}}const woe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},joe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ly(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Ly(l,o):n[i]=Ly(o)}else n[i]=o}return n}function _oe(e,t){return Ly(woe,e,t||{})}function Noe(e,t){return Ly(joe,e,t||{})}class Soe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??moe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=_oe(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await yoe({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Noe(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await boe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new mc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new yp("rpId is required for WebAuthn authentication")};try{if(!nI())return{data:null,error:new mc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new mc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new yp("rpId is required for WebAuthn registration")};try{if(!nI())return{data:null,error:new mc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new mc("Unexpected error in register",o)}}}}ooe();const koe={url:wie,storageKey:jie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_ie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sI(e,t,r){return await r()}const Fu={};class bp{get jwks(){var t,r;return(r=(t=Fu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Fu[this.storageKey]=Object.assign(Object.assign({},Fu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Fu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fu[this.storageKey]=Object.assign(Object.assign({},Fu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},koe),t);if(this.storageKey=i.storageKey,this.instanceID=(r=bp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,bp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&hn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new soe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=FB(i.fetch),this.lock=i.lock||sI,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&hn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ioe:this.lock=sI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Soe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:LB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rI(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=rI(this.memoryStorage)),hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${RB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(hn()&&(r=Lie(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),hn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Eie(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ve(r)?this._returnResult({error:r}):this._returnResult({error:new mc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ma}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await $u(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:ma})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ma})}else throw new Wv("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await dn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:eI})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:eI})}else throw new Wv("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Ru;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,h,f;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:x,statement:b,options:y}=t;let w;if(hn())if(typeof x=="object")w=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=zB(S[0]);let _=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const C=await w.request({method:"eth_chainId"});_=loe(C)}const j={domain:N.host,address:k,statement:b,uri:N.href,version:"1",chainId:_,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=uoe(j),g=await w.request({method:"personal_sign",params:[coe(m),k]})}try{const{data:p,error:x}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ma});if(x)throw x;if(!p||!p.session||!p.user){const b=new Ru;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(Ve(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,h,f,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:x,wallet:b,statement:y,options:w}=t;let N;if(hn())if(typeof b=="object")N=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))N=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const k=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let _;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")_=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)_=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)g=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),p=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const k=await N.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=k}}try{const{data:x,error:b}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:yc(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ma});if(b)throw b;if(!x||!x.session||!x.user){const y=new Ru;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Ve(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await tc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Tie;const{data:i,error:o}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ma});if(await dn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Ru;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ve(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ma}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ru;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $u(this.storage,this.storageKey));const{error:h}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Wv("You must provide either an email or phone number.")}catch(l){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ve(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ma});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await $u(this.storage,this.storageKey));const u=await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:toe});return!((i=u.data)===null||i===void 0)&&i.url&&hn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ve(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new us;const{error:a}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ve(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Wv("You must provide either an email or phone number and a type")}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await tc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<fj:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await tc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=gj()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Qie(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zo}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new us}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:zo})})}catch(r){if(Ve(r))return Pie(r)&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new us;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $u(this.storage,this.storageKey));const{data:u,error:d}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:zo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ve(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new us;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=pj(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ve(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new us;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!hn())throw new qv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new G4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new G4("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new qv("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Ju&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Ve(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await tc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Cie(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Die(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await $u(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ve(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return hn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ve(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ma}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Ru}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(a){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zie(async a=>(a>0&&await Bie(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ma})),(a,i)=>{const o=200*Math.pow(2,a);return i&&mj(i)&&Date.now()+o-n<Ju})}catch(n){if(this._debug(r,"error",n),Ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),hn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await tc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await tc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ed(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:gj()}else if(a&&!a.user&&!a.user){const o=await tc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await dn(this.storage,this.storageKey+"-user"),await ed(this.storage,this.storageKey,a)):a.user=gj()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fj;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${fj}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),mj(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new us;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Vb;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new us;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ve(i)){const o={data:null,error:i};return mj(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await dn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ed(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Z4(a);await ed(this.storage,this.storageKey,i)}else{const a=Z4(r);await ed(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dn(this.storage,this.storageKey),await dn(this.storage,this.storageKey+"-code-verifier"),await dn(this.storage,this.storageKey+"-user"),this.userStorage&&await dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ju);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ju);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ju}ms, refresh threshold is ${gS} ticks`),a<=gS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof BB)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await $u(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?voe(t.webauthn.credential_response):xoe(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:poe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:goe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=pj(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new us})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new us});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&hn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new us});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&hn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new us})})}catch(t){if(Ve(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new us})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Sie>a)return n;const{data:i,error:o}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=pj(n);r!=null&&r.allowExpired||Kie(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=Xie(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Rie(`${l}.${c}`)))throw new yS("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}}bp.nextInstanceID={};const Coe=bp,Poe="2.89.0";let mm="";typeof Deno<"u"?mm="deno":typeof document<"u"?mm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mm="react-native":mm="node";const Eoe={"X-Client-Info":`supabase-js-${mm}/${Poe}`},Toe={headers:Eoe},Ooe={schema:"public"},Aoe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ioe={};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function Moe(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Roe(e){var t=Moe(e,"string");return wp(t)=="symbol"?t:t+""}function $oe(e,t,r){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){$oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Doe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Loe=()=>Headers,Foe=(e,t,r)=>{const n=Doe(r),a=Loe();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,jr(jr({},o),{},{headers:u}))}};function Boe(e){return e.endsWith("/")?e:e+"/"}function zoe(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:jr(jr({},c),a),auth:jr(jr({},u),i),realtime:jr(jr({},d),o),storage:{},global:jr(jr(jr({},h),l),{},{headers:jr(jr({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Uoe(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Boe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Voe=class extends Coe{constructor(e){super(e)}},Woe=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=Uoe(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:Ooe,realtime:Ioe,auth:jr(jr({},Aoe),{},{storageKey:o}),global:Toe},c=zoe(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Foe(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(jr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new _ae(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new bie(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new xae(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Voe({url:this.authUrl.href,headers:jr(jr({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Bae(this.realtimeUrl.href,jr(jr({},e),{},{params:jr(jr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const qoe=(e,t,r)=>new Woe(e,t,r);function Hoe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Hoe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Goe="https://dnnaxuinkimpluaanqvm.supabase.co",Koe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRubmF4dWlua2ltcGx1YWFucXZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4NTYzNzgsImV4cCI6MjA4NTQzMjM3OH0.9SdKs1pfesNFSYPgl-4VAYh5laSTxgbDQMpbhdv0fpo",Q=qoe(Goe,Koe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),VB=v.createContext(void 0),Xoe=({children:e})=>{const[t,r]=v.useState(null),[n,a]=v.useState(null),[i,o]=v.useState(!0),[l,c]=v.useState(!1);v.useEffect(()=>{const{data:{subscription:m}}=Q.auth.onAuthStateChange((g,p)=>{a(p),r((p==null?void 0:p.user)??null),o(!1),p!=null&&p.user?setTimeout(()=>{u(p.user.id)},0):c(!1)});return Q.auth.getSession().then(({data:{session:g}})=>{a(g),r((g==null?void 0:g.user)??null),o(!1),g!=null&&g.user&&u(g.user.id)}),()=>m.unsubscribe()},[]);const u=async m=>{const{data:g}=await Q.from("user_roles").select("role").eq("user_id",m).eq("role","admin").maybeSingle();c(!!g)},d=async(m,g,p,x)=>{const b=`${window.location.origin}/`,{error:y}=await Q.auth.signUp({email:m,password:g,options:{emailRedirectTo:b,data:{full_name:p,phone:x||null}}});return{error:y}},h=async(m,g)=>{const{error:p}=await Q.auth.signInWithPassword({email:m,password:g});return{error:p}},f=async()=>{await Q.auth.signOut(),r(null),a(null),c(!1)};return s.jsx(VB.Provider,{value:{user:t,session:n,isLoading:i,isAdmin:l,signUp:d,signIn:h,signOut:f},children:e})},zl=()=>{const e=v.useContext(VB);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};let iI=null,Bf=!1,zf=!1;const WB=()=>{try{const t=new URLSearchParams(window.location.search).get("fbclid");return t?(sessionStorage.setItem("_fbclid",t),console.log("Meta ClickID captured:",t.substring(0,20)+"..."),t):sessionStorage.getItem("_fbclid")}catch(e){return console.error("Error capturing fbclid:",e),null}},qB=()=>{try{let e=localStorage.getItem("_fb_external_id");return e||(e="user_"+Date.now()+"_"+Math.random().toString(36).substring(2,15),localStorage.setItem("_fb_external_id",e)),e}catch{return"user_"+Date.now()}},Yoe=(e,t)=>zf&&window.fbq?(console.log("Meta Pixel already initialized, skipping..."),Promise.resolve()):Bf?new Promise(r=>{const n=setInterval(()=>{zf&&window.fbq&&(clearInterval(n),r())},100);setTimeout(()=>{clearInterval(n),r()},1e4)}):(Bf=!0,WB(),new Promise(r=>{console.log("Loading Meta Pixel script with Advanced Matching...");const n={external_id:qB()},a=document.querySelector('script[src*="fbevents.js"]');if(window.fbq&&typeof window.fbq=="function"){window.fbq("init",e,n),window.fbq("track","PageView"),console.log("Meta Pixel initialized (existing fbq) with Advanced Matching:",Object.keys(n)),Bf=!1,zf=!0,r();return}if(a){const o=()=>{window.fbq&&typeof window.fbq=="function"?(window.fbq("init",e,n),window.fbq("track","PageView"),console.log("Meta Pixel initialized (waited for fbq) with Advanced Matching:",Object.keys(n)),Bf=!1,zf=!0,r()):setTimeout(o,100)};o();return}(function(o,l,c,u,d,h,f){o.fbq||(d=o.fbq=function(){d.callMethod?d.callMethod.apply(d,arguments):d.queue.push(arguments)},o._fbq||(o._fbq=d),d.push=d,d.loaded=!0,d.version="2.0",d.queue=[],h=l.createElement(c),h.async=!0,h.src=u,f=l.getElementsByTagName(c)[0],f&&f.parentNode?f.parentNode.insertBefore(h,f):l.head.appendChild(h))})(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");const i=()=>{window.fbq&&typeof window.fbq=="function"?(window.fbq("init",e,n),window.fbq("track","PageView"),console.log("Meta Pixel initialized (new script) with Advanced Matching:",Object.keys(n)),Bf=!1,zf=!0,r()):setTimeout(i,100)};if(setTimeout(i,300),!document.querySelector('noscript img[src*="facebook.com/tr"]')){const o=document.createElement("noscript"),l=document.createElement("img");l.height=1,l.width=1,l.style.display="none",l.src=`https://www.facebook.com/tr?id=${e}&ev=PageView&noscript=1`,o.appendChild(l),document.body.appendChild(o)}})),_u=()=>{const[e,t]=v.useState(iI),[r,n]=v.useState(!1);v.useEffect(()=>{WB(),(async()=>{try{const{data:x,error:b}=await Q.from("admin_settings").select("key, value").in("key",["fb_pixel_id","fb_pixel_enabled"]);if(b){console.error("Failed to fetch pixel settings:",b);return}let y="",w=!1;x==null||x.forEach(S=>{S.key==="fb_pixel_id"&&(y=S.value),S.key==="fb_pixel_enabled"&&(w=S.value==="true")});const N={pixelId:y,enabled:w&&!!y};iI=N,t(N),console.log("Meta Pixel config loaded:",{enabled:N.enabled,hasPixelId:!!y}),N.enabled?(await Yoe(N.pixelId),n(!0)):n(!1)}catch(x){console.error("Failed to load Meta Pixel config:",x)}})()},[]);const a=v.useCallback(p=>{if(e!=null&&e.enabled&&window.fbq){const x={external_id:p.externalId||qB()};p.email&&(x.em=p.email.toLowerCase().trim()),p.phone&&(x.ph=p.phone.replace(/\D/g,"")),p.firstName&&(x.fn=p.firstName.toLowerCase().trim()),p.lastName&&(x.ln=p.lastName.toLowerCase().trim()),console.log("Updating Meta Pixel user data:",Object.keys(x)),window.fbq("init",e.pixelId,x)}},[e]),i=v.useCallback(p=>`${p}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,[]),o=v.useCallback(p=>{if(e!=null&&e.enabled&&window.fbq){const x=p||i("PageView");return console.log("Tracking PageView with event_id:",x),window.fbq("track","PageView",{},{eventID:x}),x}return null},[e,i]),l=v.useCallback((p,x)=>{if(e!=null&&e.enabled&&window.fbq){const b=x||i("ViewContent");return console.log("Tracking ViewContent with event_id:",b,p),window.fbq("track","ViewContent",p,{eventID:b}),b}return null},[e,i]),c=v.useCallback((p,x)=>{if(e!=null&&e.enabled&&window.fbq){const b=x||i("AddToCart");return console.log("Tracking AddToCart with event_id:",b,p),window.fbq("track","AddToCart",p,{eventID:b}),b}return null},[e,i]),u=v.useCallback((p,x)=>{if(e!=null&&e.enabled&&window.fbq){const b=x||i("InitiateCheckout");return console.log("Tracking InitiateCheckout with event_id:",b,p),window.fbq("track","InitiateCheckout",p,{eventID:b}),b}return null},[e,i]),d=v.useCallback((p,x)=>{if(e!=null&&e.enabled&&window.fbq){(p.email||p.phone)&&a({email:p.email,phone:p.phone});const{email:b,phone:y,...w}=p,N=x||i("Purchase");return console.log("Tracking Purchase with event_id:",N,w),window.fbq("track","Purchase",w,{eventID:N}),N}return null},[e,a,i]),h=v.useCallback(p=>{l(p)},[l]),f=v.useCallback(p=>{c(p)},[c]),m=v.useCallback(p=>{u(p)},[u]),g=v.useCallback(p=>{d(p)},[d]);return{isEnabled:(e==null?void 0:e.enabled)??!1,isReady:r,generateEventId:i,trackPageView:o,trackViewContent:h,trackViewContentWithEventId:l,trackAddToCart:f,trackAddToCartWithEventId:c,trackInitiateCheckout:m,trackInitiateCheckoutWithEventId:u,trackPurchase:g,trackPurchaseWithEventId:d,setUserData:a}},Qoe=()=>{try{return sessionStorage.getItem("_ttclid")}catch{return null}},Zoe=()=>{try{return localStorage.getItem("_tt_external_id")||""}catch{return""}},Joe=()=>{try{return sessionStorage.getItem("_fbclid")}catch{return null}},ele=()=>{try{const e=document.cookie.match(/_fbp=([^;]+)/);return e?e[1]:null}catch{return null}},tle=()=>{try{const e=document.cookie.match(/_fbc=([^;]+)/);if(e)return e[1];const t=Joe();return t?`fb.1.${Math.floor(Date.now()/1e3)}.${t}`:null}catch{return null}},rle=()=>{try{return localStorage.getItem("_fb_external_id")||""}catch{return""}},nle=()=>{try{const e=document.cookie.match(/_ga=([^;]+)/);if(e){const t=e[1].split(".");if(t.length>=4)return`${t[2]}.${t[3]}`}return null}catch{return null}},sle=()=>{try{const e=document.cookie.split(";");for(const t of e){const r=t.trim();if(r.startsWith("_ga_")){const n=r.split("=")[1];if(n){const a=n.split(".");if(a.length>=3)return a[2]}}}return null}catch{return null}},Nu=()=>{const e=v.useCallback(async({eventName:f,userData:m={},customData:g={},eventId:p})=>{try{console.log(`[CAPI] Sending ${f} event to server...`,p?`(event_id: ${p})`:"");const x={event_name:f,event_id:p,user_data:{email:m.email,phone:m.phone,first_name:m.firstName,last_name:m.lastName,city:m.city,state:m.state,zip:m.zip,country:m.country||"bd",external_id:rle(),fbc:tle(),fbp:ele()},custom_data:g,event_source_url:window.location.href},{data:b,error:y}=await Q.functions.invoke("facebook-capi",{body:x});return y?(console.error("[CAPI] Error:",y),{success:!1,error:y.message}):(console.log("[CAPI] Response:",b),{success:(b==null?void 0:b.success)??!1,error:b==null?void 0:b.error})}catch(x){return console.error("[CAPI] Exception:",x),{success:!1,error:x instanceof Error?x.message:"Unknown error"}}},[]),t=v.useCallback(async f=>{try{console.log(`[GA Server] Sending ${f.eventName} event...`);const m={event_name:f.eventName,client_id:nle(),session_id:sle(),params:{...f.eventParams,currency:"BDT",value:f.value,transaction_id:f.transactionId,items:f.items,page_location:window.location.href,page_title:document.title}},{data:g,error:p}=await Q.functions.invoke("google-analytics",{body:m});return p?(console.error("[GA Server] Error:",p),{success:!1,error:p.message}):(console.log("[GA Server] Response:",g),{success:(g==null?void 0:g.success)??!1,error:g==null?void 0:g.error})}catch(m){return console.error("[GA Server] Exception:",m),{success:!1,error:m instanceof Error?m.message:"Unknown error"}}},[]),r=v.useCallback(async({eventName:f,userData:m={},customData:g={}})=>{try{console.log(`[TikTok Server] Sending ${f} event...`);const p={event_name:f,user_data:{email:m.email,phone:m.phone,external_id:Zoe(),ttclid:Qoe()},custom_data:g,event_source_url:window.location.href},{data:x,error:b}=await Q.functions.invoke("tiktok-events-api",{body:p});return b?(console.error("[TikTok Server] Error:",b),{success:!1,error:b.message}):(console.log("[TikTok Server] Response:",x),{success:(x==null?void 0:x.success)??!1,error:x==null?void 0:x.error})}catch(p){return console.error("[TikTok Server] Exception:",p),{success:!1,error:p instanceof Error?p.message:"Unknown error"}}},[]),n=v.useCallback(async({eventName:f,userData:m={},customData:g={},eventId:p})=>{var S;const x={PageView:"page_view",ViewContent:"view_item",AddToCart:"add_to_cart",InitiateCheckout:"begin_checkout",AddPaymentInfo:"add_payment_info",Purchase:"purchase",Lead:"generate_lead"},b=((S=g.content_ids)==null?void 0:S.map(k=>({item_id:k,item_name:k,price:g.value,quantity:1})))||[],[y,w,N]=await Promise.all([e({eventName:f,userData:m,customData:g,eventId:p}),t({eventName:x[f]||f.toLowerCase(),value:g.value,transactionId:g.order_id,items:b}),r({eventName:f,userData:m,customData:g})]);return{facebook:y,google:w,tiktok:N}},[e,t,r]),a=v.useCallback(async(f,m)=>n({eventName:"PageView",userData:f,eventId:m}),[n]),i=v.useCallback(async f=>n({eventName:"ViewContent",userData:f.userData,customData:{content_ids:[f.contentId],content_type:"product",value:f.value,currency:f.currency||"BDT"}}),[n]),o=v.useCallback(async f=>n({eventName:"AddToCart",userData:f.userData,customData:{content_ids:[f.contentId],content_type:"product",value:f.value,num_items:f.quantity||1,currency:f.currency||"BDT"}}),[n]),l=v.useCallback(async f=>n({eventName:"InitiateCheckout",userData:f.userData,customData:{content_ids:f.contentIds,content_type:"product",value:f.value,num_items:f.numItems,currency:f.currency||"BDT"},eventId:f.eventId}),[n]),c=v.useCallback(async f=>n({eventName:"AddPaymentInfo",userData:f.userData,customData:{content_ids:f.contentIds,content_type:"product",value:f.value,currency:f.currency||"BDT"}}),[n]),u=v.useCallback(async f=>{var m;return n({eventName:"Purchase",userData:f.userData,customData:{order_id:f.orderId,content_ids:f.contentIds,content_type:"product",content_name:((m=f.contentNames)==null?void 0:m.join(", "))||void 0,contents:f.contents,value:f.value,num_items:f.numItems,currency:f.currency||"BDT"},eventId:f.eventId})},[n]),d=v.useCallback(async f=>n({eventName:"Lead",userData:f.userData,customData:f.value?{value:f.value,currency:f.currency||"BDT"}:void 0}),[n]),h=v.useCallback(async f=>n(f),[n]);return{trackServerEvent:n,trackFacebookEvent:e,trackGoogleEvent:t,trackTikTokEvent:r,trackPageView:a,trackViewContent:i,trackAddToCart:o,trackInitiateCheckout:l,trackAddPaymentInfo:c,trackPurchase:u,trackLead:d,trackCustomEvent:h}};function ale(){const e=Va(),{trackPageView:t,isEnabled:r,isReady:n,generateEventId:a}=_u(),{trackPageView:i}=Nu(),o=v.useRef(""),l=v.useRef(!1);return v.useEffect(()=>{if(!e.pathname.startsWith("/admin")&&r&&n&&(e.pathname!==o.current||!l.current)){console.log("FacebookPixelTracker: Tracking page view for",e.pathname,"(initial:",!l.current,")");const u=a("PageView");t(u),i(void 0,u||void 0).then(d=>{console.log("FacebookPixelTracker: Server-side CAPI result:",d.facebook)}).catch(d=>{console.error("FacebookPixelTracker: Server-side CAPI error:",d)}),o.current=e.pathname,l.current=!0}},[e.pathname,r,n,t,i,a]),null}const ile=()=>{const e=v.useRef(null),t=v.useRef(!1);v.useEffect(()=>{(async()=>{try{const{data:g}=await Q.from("admin_settings").select("key, value").in("key",["ga_measurement_id","gtm_id","ga_enabled","gtm_enabled"]);if(g){const p={measurementId:"",gtmId:"",gaEnabled:!1,gtmEnabled:!1};g.forEach(x=>{switch(x.key){case"ga_measurement_id":p.measurementId=x.value;break;case"gtm_id":p.gtmId=x.value;break;case"ga_enabled":p.gaEnabled=x.value==="true";break;case"gtm_enabled":p.gtmEnabled=x.value==="true";break}}),e.current=p,r(p)}}catch(g){console.error("[GA] Failed to load settings:",g)}})()},[]);const r=m=>{t.current||(m.gtmEnabled&&m.gtmId&&n(m.gtmId),m.gaEnabled&&m.measurementId&&!m.gtmEnabled&&a(m.measurementId),t.current=!0)},n=m=>{if(typeof window>"u"||document.querySelector(`script[src*="gtm.js?id=${m}"]`))return;console.log("[GTM] Initializing:",m),window.dataLayer=window.dataLayer||[];const g=document.createElement("script");g.async=!0,g.src=`https://www.googletagmanager.com/gtm.js?id=${m}`,document.head.appendChild(g);const p=document.createElement("noscript"),x=document.createElement("iframe");x.src=`https://www.googletagmanager.com/ns.html?id=${m}`,x.height="0",x.width="0",x.style.display="none",x.style.visibility="hidden",p.appendChild(x),document.body.insertBefore(p,document.body.firstChild),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"})},a=m=>{if(typeof window>"u"||document.querySelector(`script[src*="gtag/js?id=${m}"]`))return;console.log("[GA4] Initializing:",m);const g=document.createElement("script");g.async=!0,g.src=`https://www.googletagmanager.com/gtag/js?id=${m}`,document.head.appendChild(g),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",m,{send_page_view:!0})},i=v.useCallback(()=>{try{const m=document.cookie.match(/_ga=([^;]+)/);if(m){const g=m[1].split(".");if(g.length>=4)return`${g[2]}.${g[3]}`}return null}catch{return null}},[]),o=v.useCallback(()=>{try{const m=e.current;if(!(m!=null&&m.measurementId))return null;const g=m.measurementId.replace("G-",""),p=document.cookie.match(new RegExp(`_ga_${g}=([^;]+)`));if(p){const x=p[1].split(".");if(x.length>=3)return x[2]}return null}catch{return null}},[]),l=v.useCallback((m,g)=>{var x;if(typeof window>"u")return;const p=e.current;!(p!=null&&p.gaEnabled)&&!(p!=null&&p.gtmEnabled)||(p.gtmEnabled?(x=window.dataLayer)==null||x.push({event:"page_view",page_path:m||window.location.pathname,page_title:g||document.title}):window.gtag&&window.gtag("event","page_view",{page_path:m||window.location.pathname,page_title:g||document.title}))},[]),c=v.useCallback(m=>{var x;if(typeof window>"u")return;const g=e.current;if(!(g!=null&&g.gaEnabled)&&!(g!=null&&g.gtmEnabled))return;const p={currency:"BDT",value:m.price,items:[m]};g.gtmEnabled?(x=window.dataLayer)==null||x.push({event:"view_item",ecommerce:p}):window.gtag&&window.gtag("event","view_item",p)},[]),u=v.useCallback(m=>{var x;if(typeof window>"u")return;const g=e.current;if(!(g!=null&&g.gaEnabled)&&!(g!=null&&g.gtmEnabled))return;const p={currency:"BDT",value:m.price*(m.quantity||1),items:[{...m,quantity:m.quantity||1}]};g.gtmEnabled?(x=window.dataLayer)==null||x.push({event:"add_to_cart",ecommerce:p}):window.gtag&&window.gtag("event","add_to_cart",p)},[]),d=v.useCallback((m,g)=>{var b;if(typeof window>"u")return;const p=e.current;if(!(p!=null&&p.gaEnabled)&&!(p!=null&&p.gtmEnabled))return;const x={currency:"BDT",value:g,items:m};p.gtmEnabled?(b=window.dataLayer)==null||b.push({event:"begin_checkout",ecommerce:x}):window.gtag&&window.gtag("event","begin_checkout",x)},[]),h=v.useCallback(m=>{var x;if(typeof window>"u")return;const g=e.current;if(!(g!=null&&g.gaEnabled)&&!(g!=null&&g.gtmEnabled))return;const p={transaction_id:m.transactionId,currency:"BDT",value:m.value,shipping:m.shipping||0,tax:m.tax||0,items:m.items};g.gtmEnabled?(x=window.dataLayer)==null||x.push({event:"purchase",ecommerce:p}):window.gtag&&window.gtag("event","purchase",p)},[]),f=v.useCallback((m,g)=>{var x;if(typeof window>"u")return;const p=e.current;!(p!=null&&p.gaEnabled)&&!(p!=null&&p.gtmEnabled)||(p.gtmEnabled?(x=window.dataLayer)==null||x.push({event:m,...g}):window.gtag&&window.gtag("event",m,g))},[]);return{trackPageView:l,trackViewItem:c,trackAddToCart:u,trackBeginCheckout:d,trackPurchase:h,trackEvent:f,getClientId:i,getSessionId:o}},ole=()=>{const e=Va(),{trackPageView:t}=ile();return v.useEffect(()=>{e.pathname.startsWith("/admin")||t(e.pathname)},[e.pathname,t]),null};let oI=null,Hv=null;const HB=()=>{try{const t=new URLSearchParams(window.location.search).get("ttclid");return t?(sessionStorage.setItem("_ttclid",t),console.log("TikTok ClickID captured:",t.substring(0,20)+"..."),t):sessionStorage.getItem("_ttclid")}catch(e){return console.error("Error capturing ttclid:",e),null}},lle=()=>{try{let e=localStorage.getItem("_tt_external_id");return e||(e="user_"+Date.now()+"_"+Math.random().toString(36).substring(2,15),localStorage.setItem("_tt_external_id",e)),e}catch{return"user_"+Date.now()}},cle=e=>Hv||(HB(),Hv=new Promise(t=>{if(console.log("Loading TikTok Pixel script..."),window.ttq){window.ttq.load(e),window.ttq.page(),console.log("TikTok Pixel initialized"),t();return}(function(n,a,i){n.TiktokAnalyticsObject=i;const o=n[i]=n[i]||[];o.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],o.setAndDefer=function(l,c){l[c]=function(){l.push([c].concat(Array.prototype.slice.call(arguments,0)))}};for(let l=0;l<o.methods.length;l++)o.setAndDefer(o,o.methods[l]);o.instance=function(l){const c=o._i[l]||[];for(let u=0;u<o.methods.length;u++)o.setAndDefer(c,o.methods[u]);return c},o.load=function(l,c){var f;const u="https://analytics.tiktok.com/i18n/pixel/events.js";o._i=o._i||{},o._i[l]=[],o._i[l]._u=u,o._t=o._t||{},o._t[l]=+new Date,o._o=o._o||{},o._o[l]=c||{};const d=a.createElement("script");d.type="text/javascript",d.async=!0,d.src=u+"?sdkid="+l+"&lib="+i;const h=a.getElementsByTagName("script")[0];(f=h.parentNode)==null||f.insertBefore(d,h)}})(window,document,"ttq");const r=()=>{window.ttq&&typeof window.ttq.load=="function"?(window.ttq.load(e),window.ttq.page(),console.log("TikTok Pixel initialized"),t()):setTimeout(r,100)};setTimeout(r,300)}),Hv),ule=()=>{const[e,t]=v.useState(oI),[r,n]=v.useState(!1);v.useEffect(()=>{HB(),(async()=>{try{const{data:f,error:m}=await Q.from("admin_settings").select("key, value").in("key",["tiktok_pixel_id","tiktok_pixel_enabled"]);if(m){console.error("Failed to fetch TikTok pixel settings:",m);return}let g="",p=!1;f==null||f.forEach(b=>{b.key==="tiktok_pixel_id"&&(g=b.value),b.key==="tiktok_pixel_enabled"&&(p=b.value==="true")});const x={pixelId:g,enabled:p&&!!g};oI=x,t(x),console.log("TikTok Pixel config loaded:",{enabled:x.enabled,hasPixelId:!!g}),x.enabled?(await cle(x.pixelId),n(!0)):n(!1)}catch(f){console.error("Failed to load TikTok Pixel config:",f)}})()},[]);const a=v.useCallback(h=>{if(e!=null&&e.enabled&&window.ttq){const f={};h.email&&(f.email=h.email.toLowerCase().trim()),h.phone&&(f.phone_number=h.phone.replace(/\D/g,"")),h.externalId&&(f.external_id=h.externalId),console.log("Updating TikTok Pixel user data"),window.ttq.identify(f)}},[e]),i=v.useCallback(()=>{e!=null&&e.enabled&&window.ttq&&(console.log("TikTok: Tracking PageView"),window.ttq.page())},[e]),o=v.useCallback(h=>{e!=null&&e.enabled&&window.ttq&&(console.log("TikTok: Tracking ViewContent",h),window.ttq.track("ViewContent",{contents:[{content_id:h.content_id,content_name:h.content_name}],content_type:h.content_type||"product",value:h.value,currency:h.currency}))},[e]),l=v.useCallback(h=>{e!=null&&e.enabled&&window.ttq&&(console.log("TikTok: Tracking AddToCart",h),window.ttq.track("AddToCart",{contents:[{content_id:h.content_id,content_name:h.content_name,quantity:h.quantity||1}],content_type:"product",value:h.value,currency:h.currency}))},[e]),c=v.useCallback(h=>{e!=null&&e.enabled&&window.ttq&&(console.log("TikTok: Tracking InitiateCheckout",h),window.ttq.track("InitiateCheckout",{contents:h.content_ids.map(f=>({content_id:f})),content_type:"product",value:h.value,currency:h.currency}))},[e]),u=v.useCallback(h=>{e!=null&&e.enabled&&window.ttq&&((h.email||h.phone)&&a({email:h.email,phone:h.phone}),console.log("TikTok: Tracking CompletePayment",h),window.ttq.track("CompletePayment",{contents:h.content_ids.map(f=>({content_id:f})),content_type:"product",value:h.value,currency:h.currency,quantity:h.quantity||h.content_ids.length}))},[e,a]),d=v.useCallback(h=>{e!=null&&e.enabled&&window.ttq&&(console.log("TikTok: Tracking PlaceAnOrder",h),window.ttq.track("PlaceAnOrder",{contents:h.content_ids.map(f=>({content_id:f})),content_type:"product",value:h.value,currency:h.currency,quantity:h.quantity||h.content_ids.length}))},[e]);return{isEnabled:(e==null?void 0:e.enabled)??!1,isReady:r,trackPageView:i,trackViewContent:o,trackAddToCart:l,trackInitiateCheckout:c,trackCompletePayment:u,trackPlaceAnOrder:d,setUserData:a,getExternalId:lle,getTtclid:()=>sessionStorage.getItem("_ttclid")}};function dle(){const e=Va(),{trackPageView:t,isEnabled:r,isReady:n}=ule(),a=v.useRef(""),i=v.useRef(!1);return v.useEffect(()=>{e.pathname.startsWith("/admin")||r&&n&&(e.pathname!==a.current||!i.current)&&(console.log("TikTokPixelTracker: Tracking page view for",e.pathname,"(initial:",!i.current,")"),t(),a.current=e.pathname,i.current=!0)},[e.pathname,r,n,t]),null}const bP=v.createContext({});function wP(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const jP=typeof window<"u",GB=jP?v.useLayoutEffect:v.useEffect,Wb=v.createContext(null);function _P(e,t){e.indexOf(t)===-1&&e.push(t)}function NP(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const fo=(e,t,r)=>r>t?t:r<e?e:r;let Fy=()=>{};const mo={},KB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function XB(e){return typeof e=="object"&&e!==null}const YB=e=>/^0[^.\s]+$/u.test(e);function SP(e){let t;return()=>(t===void 0&&(t=e()),t)}const Xs=e=>e,hle=(e,t)=>r=>t(e(r)),Rg=(...e)=>e.reduce(hle),jp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class kP{constructor(){this.subscriptions=[]}add(t){return _P(this.subscriptions,t),()=>NP(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hi=e=>e*1e3,qs=e=>e/1e3;function QB(e,t){return t?e*(1e3/t):0}const ZB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,fle=1e-7,mle=12;function ple(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=ZB(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>fle&&++l<mle);return o}function $g(e,t,r,n){if(e===t&&r===n)return Xs;const a=i=>ple(i,0,1,e,r);return i=>i===0||i===1?i:ZB(a(i),t,n)}const JB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,e9=e=>t=>1-e(1-t),t9=$g(.33,1.53,.69,.99),CP=e9(t9),r9=JB(CP),n9=e=>(e*=2)<1?.5*CP(e):.5*(2-Math.pow(2,-10*(e-1))),PP=e=>1-Math.sin(Math.acos(e)),s9=e9(PP),a9=JB(PP),gle=$g(.42,0,1,1),vle=$g(0,0,.58,1),i9=$g(.42,0,.58,1),xle=e=>Array.isArray(e)&&typeof e[0]!="number",o9=e=>Array.isArray(e)&&typeof e[0]=="number",lI={linear:Xs,easeIn:gle,easeInOut:i9,easeOut:vle,circIn:PP,circInOut:a9,circOut:s9,backIn:CP,backInOut:r9,backOut:t9,anticipate:n9},yle=e=>typeof e=="string",cI=e=>{if(o9(e)){Fy(e.length===4);const[t,r,n,a]=e;return $g(t,r,n,a)}else if(yle(e))return Fy(lI[e]!==void 0),lI[e];return e},Gv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],uI={value:null,addProjectionMetrics:null};function ble(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,m=!1)=>{const p=m&&a?r:n;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(u),t&&uI.value&&uI.value.frameloop[t].push(c),c=0,r.clear(),a=!1,i&&(i=!1,d.process(h))}};return d}const wle=40;function l9(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Gv.reduce((w,N)=>(w[N]=ble(i,t?N:void 0),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:g}=o,p=()=>{const w=mo.useManualTiming?a.timestamp:performance.now();r=!1,mo.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,wle),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),h.process(a),f.process(a),m.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(p))},x=()=>{r=!0,n=!0,a.isProcessing||e(p)};return{schedule:Gv.reduce((w,N)=>{const S=o[N];return w[N]=(k,_=!1,j=!1)=>(r||x(),S.schedule(k,_,j)),w},{}),cancel:w=>{for(let N=0;N<Gv.length;N++)o[Gv[N]].cancel(w)},state:a,steps:o}}const{schedule:mr,cancel:Pl,state:gn,steps:xj}=l9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xs,!0);let Bx;function jle(){Bx=void 0}const Jn={now:()=>(Bx===void 0&&Jn.set(gn.isProcessing||mo.useManualTiming?gn.timestamp:performance.now()),Bx),set:e=>{Bx=e,queueMicrotask(jle)}},c9=e=>t=>typeof t=="string"&&t.startsWith(e),u9=c9("--"),_le=c9("var(--"),EP=e=>_le(e)?Nle.test(e.split("/*")[0].trim()):!1,Nle=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_p={...lf,transform:e=>fo(0,1,e)},Kv={...lf,default:1},Am=e=>Math.round(e*1e5)/1e5,TP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Sle(e){return e==null}const kle=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,OP=(e,t)=>r=>!!(typeof r=="string"&&kle.test(r)&&r.startsWith(e)||t&&!Sle(r)&&Object.prototype.hasOwnProperty.call(r,t)),d9=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(TP);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Cle=e=>fo(0,255,e),yj={...lf,transform:e=>Math.round(Cle(e))},bc={test:OP("rgb","red"),parse:d9("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+yj.transform(e)+", "+yj.transform(t)+", "+yj.transform(r)+", "+Am(_p.transform(n))+")"};function Ple(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const bS={test:OP("#"),parse:Ple,transform:bc.transform},Dg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ao=Dg("deg"),fi=Dg("%"),Ze=Dg("px"),Ele=Dg("vh"),Tle=Dg("vw"),dI={...fi,parse:e=>fi.parse(e)/100,transform:e=>fi.transform(e*100)},gd={test:OP("hsl","hue"),parse:d9("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+fi.transform(Am(t))+", "+fi.transform(Am(r))+", "+Am(_p.transform(n))+")"},Lr={test:e=>bc.test(e)||bS.test(e)||gd.test(e),parse:e=>bc.test(e)?bc.parse(e):gd.test(e)?gd.parse(e):bS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?bc.transform(e):gd.transform(e),getAnimatableNone:e=>{const t=Lr.parse(e);return t.alpha=0,Lr.transform(t)}},Ole=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ale(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(TP))==null?void 0:t.length)||0)+(((r=e.match(Ole))==null?void 0:r.length)||0)>0}const h9="number",f9="color",Ile="var",Mle="var(",hI="${}",Rle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Np(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Rle,c=>(Lr.test(c)?(n.color.push(i),a.push(f9),r.push(Lr.parse(c))):c.startsWith(Mle)?(n.var.push(i),a.push(Ile),r.push(c)):(n.number.push(i),a.push(h9),r.push(parseFloat(c))),++i,hI)).split(hI);return{values:r,split:l,indexes:n,types:a}}function m9(e){return Np(e).values}function p9(e){const{split:t,types:r}=Np(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===h9?i+=Am(a[o]):l===f9?i+=Lr.transform(a[o]):i+=a[o]}return i}}const $le=e=>typeof e=="number"?0:Lr.test(e)?Lr.getAnimatableNone(e):e;function Dle(e){const t=m9(e);return p9(e)(t.map($le))}const El={test:Ale,parse:m9,createTransformer:p9,getAnimatableNone:Dle};function bj(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Lle({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=bj(c,l,e+1/3),i=bj(c,l,e),o=bj(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function By(e,t){return r=>r>0?t:e}const xr=(e,t,r)=>e+(t-e)*r,wj=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Fle=[bS,bc,gd],Ble=e=>Fle.find(t=>t.test(e));function fI(e){const t=Ble(e);if(!t)return!1;let r=t.parse(e);return t===gd&&(r=Lle(r)),r}const mI=(e,t)=>{const r=fI(e),n=fI(t);if(!r||!n)return By(e,t);const a={...r};return i=>(a.red=wj(r.red,n.red,i),a.green=wj(r.green,n.green,i),a.blue=wj(r.blue,n.blue,i),a.alpha=xr(r.alpha,n.alpha,i),bc.transform(a))},wS=new Set(["none","hidden"]);function zle(e,t){return wS.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Ule(e,t){return r=>xr(e,t,r)}function AP(e){return typeof e=="number"?Ule:typeof e=="string"?EP(e)?By:Lr.test(e)?mI:qle:Array.isArray(e)?g9:typeof e=="object"?Lr.test(e)?mI:Vle:By}function g9(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>AP(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function Vle(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=AP(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Wle(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const qle=(e,t)=>{const r=El.createTransformer(t),n=Np(e),a=Np(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?wS.has(e)&&!a.values.length||wS.has(t)&&!n.values.length?zle(e,t):Rg(g9(Wle(n,a),a.values),r):By(e,t)};function v9(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?xr(e,t,r):AP(e)(e,t)}const Hle=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>mr.update(t,r),stop:()=>Pl(t),now:()=>gn.isProcessing?gn.timestamp:Jn.now()}},x9=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},zy=2e4;function IP(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<zy;)t+=r,n=e.next(t);return t>=zy?1/0:t}function Gle(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(IP(n),zy);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:qs(a)}}const Kle=5;function y9(e,t,r){const n=Math.max(t-Kle,0);return QB(r-e(n),t-n)}const Nr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jj=.001;function Xle({duration:e=Nr.duration,bounce:t=Nr.bounce,velocity:r=Nr.velocity,mass:n=Nr.mass}){let a,i,o=1-t;o=fo(Nr.minDamping,Nr.maxDamping,o),e=fo(Nr.minDuration,Nr.maxDuration,qs(e)),o<1?(a=u=>{const d=u*o,h=d*e,f=d-r,m=jS(u,o),g=Math.exp(-h);return jj-f/m*g},i=u=>{const h=u*o*e,f=h*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-h),p=jS(Math.pow(u,2),o);return(-a(u)+jj>0?-1:1)*((f-m)*g)/p}):(a=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-jj+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=Qle(a,i,l);if(e=hi(e),isNaN(c))return{stiffness:Nr.stiffness,damping:Nr.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const Yle=12;function Qle(e,t,r){let n=r;for(let a=1;a<Yle;a++)n=n-e(n)/t(n);return n}function jS(e,t){return e*Math.sqrt(1-t*t)}const Zle=["duration","bounce"],Jle=["stiffness","damping","mass"];function pI(e,t){return t.some(r=>e[r]!==void 0)}function ece(e){let t={velocity:Nr.velocity,stiffness:Nr.stiffness,damping:Nr.damping,mass:Nr.mass,isResolvedFromDuration:!1,...e};if(!pI(e,Jle)&&pI(e,Zle))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*fo(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Nr.mass,stiffness:a,damping:i}}else{const r=Xle(e);t={...t,...r,mass:Nr.mass},t.isResolvedFromDuration=!0}return t}function Uy(e=Nr.visualDuration,t=Nr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=ece({...r,velocity:-qs(r.velocity||0)}),g=f||0,p=u/(2*Math.sqrt(c*d)),x=o-i,b=qs(Math.sqrt(c/d)),y=Math.abs(x)<5;n||(n=y?Nr.restSpeed.granular:Nr.restSpeed.default),a||(a=y?Nr.restDelta.granular:Nr.restDelta.default);let w;if(p<1){const S=jS(b,p);w=k=>{const _=Math.exp(-p*b*k);return o-_*((g+p*b*x)/S*Math.sin(S*k)+x*Math.cos(S*k))}}else if(p===1)w=S=>o-Math.exp(-b*S)*(x+(g+b*x)*S);else{const S=b*Math.sqrt(p*p-1);w=k=>{const _=Math.exp(-p*b*k),j=Math.min(S*k,300);return o-_*((g+p*b*x)*Math.sinh(j)+S*x*Math.cosh(j))/S}}const N={calculatedDuration:m&&h||null,next:S=>{const k=w(S);if(m)l.done=S>=h;else{let _=S===0?g:0;p<1&&(_=S===0?hi(g):y9(w,S,k));const j=Math.abs(_)<=n,C=Math.abs(o-k)<=a;l.done=j&&C}return l.value=l.done?o:k,l},toString:()=>{const S=Math.min(IP(N),zy),k=x9(_=>N.next(S*_).value,S,30);return S+"ms "+k},toTransition:()=>{}};return N}Uy.applyToOptions=e=>{const t=Gle(e,100,Uy);return e.ease=t.ease,e.duration=hi(t.duration),e.type="keyframes",e};function _S({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=j=>l!==void 0&&j<l||c!==void 0&&j>c,g=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let p=r*t;const x=h+p,b=o===void 0?x:o(x);b!==x&&(p=b-h);const y=j=>-p*Math.exp(-j/n),w=j=>b+y(j),N=j=>{const C=y(j),I=w(j);f.done=Math.abs(C)<=u,f.value=f.done?b:I};let S,k;const _=j=>{m(f.value)&&(S=j,k=Uy({keyframes:[f.value,g(f.value)],velocity:y9(w,j,f.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:j=>{let C=!1;return!k&&S===void 0&&(C=!0,N(j),_(j)),S!==void 0&&j>=S?k.next(j-S):(!C&&N(j),f)}}}function tce(e,t,r){const n=[],a=r||mo.mix||v9,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Xs:t;l=Rg(c,l)}n.push(l)}return n}function rce(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(Fy(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=tce(t,n,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=jp(e[h],e[h+1],d);return l[h](f)};return r?d=>u(fo(e[0],e[i-1],d)):u}function nce(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=jp(0,t,n);e.push(xr(r,1,a))}}function sce(e){const t=[0];return nce(t,e.length-1),t}function ace(e,t){return e.map(r=>r*t)}function ice(e,t){return e.map(()=>t||i9).splice(0,e.length-1)}function Im({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=xle(n)?n.map(cI):cI(n),i={done:!1,value:t[0]},o=ace(r&&r.length===t.length?r:sce(t),e),l=rce(o,t,{ease:Array.isArray(a)?a:ice(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const oce=e=>e!==null;function MP(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(oce),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const lce={decay:_S,inertia:_S,tween:Im,keyframes:Im,spring:Uy};function b9(e){typeof e.type=="string"&&(e.type=lce[e.type])}class RP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const cce=e=>e/100;class $P extends RP{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Jn.now()&&this.tick(Jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;b9(t);const{type:r=Im,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||Im;c!==Im&&typeof l[0]!="number"&&(this.mixKeyframes=Rg(cce,v9(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=IP(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:g,onUpdate:p,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,N=n;if(h){const j=Math.min(this.currentTime,a)/l;let C=Math.floor(j),I=j%1;!I&&j>=1&&(I=1),I===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(f==="reverse"?(I=1-I,m&&(I-=m/l)):f==="mirror"&&(N=o)),w=fo(0,1,I)*l}const S=y?{done:!1,value:d[0]}:N.next(w);i&&(S.value=i(S.value));let{done:k}=S;!y&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return _&&g!==_S&&(S.value=MP(d,this.options,x,this.speed)),p&&p(S.value),_&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return qs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+qs(t)}get time(){return qs(this.currentTime)}set time(t){var r;t=hi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Jn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=qs(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=Hle,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function uce(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const wc=e=>e*180/Math.PI,NS=e=>{const t=wc(Math.atan2(e[1],e[0]));return SS(t)},dce={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:NS,rotateZ:NS,skewX:e=>wc(Math.atan(e[1])),skewY:e=>wc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},SS=e=>(e=e%360,e<0&&(e+=360),e),gI=NS,vI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),hce={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vI,scaleY:xI,scale:e=>(vI(e)+xI(e))/2,rotateX:e=>SS(wc(Math.atan2(e[6],e[5]))),rotateY:e=>SS(wc(Math.atan2(-e[2],e[0]))),rotateZ:gI,rotate:gI,skewX:e=>wc(Math.atan(e[4])),skewY:e=>wc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function kS(e){return e.includes("scale")?1:0}function CS(e,t){if(!e||e==="none")return kS(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=hce,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=dce,a=l}if(!a)return kS(t);const i=n[t],o=a[1].split(",").map(mce);return typeof i=="function"?i(o):o[i]}const fce=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return CS(r,t)};function mce(e){return parseFloat(e.trim())}const cf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uf=new Set(cf),yI=e=>e===lf||e===Ze,pce=new Set(["x","y","z"]),gce=cf.filter(e=>!pce.has(e));function vce(e){const t=[];return gce.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Fc={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>CS(t,"x"),y:(e,{transform:t})=>CS(t,"y")};Fc.translateX=Fc.x;Fc.translateY=Fc.y;const Bc=new Set;let PS=!1,ES=!1,TS=!1;function w9(){if(ES){const e=Array.from(Bc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=vce(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}ES=!1,PS=!1,Bc.forEach(e=>e.complete(TS)),Bc.clear()}function j9(){Bc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ES=!0)})}function xce(){TS=!0,j9(),w9(),TS=!1}class DP{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Bc.add(this),PS||(PS=!0,mr.read(j9),mr.resolveKeyframes(w9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}uce(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Bc.delete(this)}cancel(){this.state==="scheduled"&&(Bc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yce=e=>e.startsWith("--");function bce(e,t,r){yce(t)?e.style.setProperty(t,r):e.style[t]=r}const wce=SP(()=>window.ScrollTimeline!==void 0),jce={};function _ce(e,t){const r=SP(e);return()=>jce[t]??r()}const _9=_ce(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pm=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,bI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pm([0,.65,.55,1]),circOut:pm([.55,0,1,.45]),backIn:pm([.31,.01,.66,-.59]),backOut:pm([.33,1.53,.69,.99])};function N9(e,t){if(e)return typeof e=="function"?_9()?x9(e,t):"ease-out":o9(e)?pm(e):Array.isArray(e)?e.map(r=>N9(r,t)||bI.easeOut):bI[e]}function Nce(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const h=N9(l,a);Array.isArray(h)&&(d.easing=h);const f={delay:n,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function S9(e){return typeof e=="function"&&"applyToOptions"in e}function Sce({type:e,...t}){return S9(e)&&_9()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class kce extends RP{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Fy(typeof t.type!="string");const u=Sce(t);this.animation=Nce(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=MP(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):bce(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return qs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+qs(t)}get time(){return qs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=hi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&wce()?(this.animation.timeline=t,Xs):r(this)}}const k9={anticipate:n9,backInOut:r9,circInOut:a9};function Cce(e){return e in k9}function Pce(e){typeof e.ease=="string"&&Cce(e.ease)&&(e.ease=k9[e.ease])}const wI=10;class Ece extends kce{constructor(t){Pce(t),b9(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new $P({...o,autoplay:!1}),c=hi(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-wI).value,l.sample(c).value,wI),l.stop()}}const jI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(El.test(e)||e==="0")&&!e.startsWith("url("));function Tce(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Oce(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=jI(a,t),l=jI(i,t);return!o||!l?!1:Tce(e)||(r==="spring"||S9(r))&&n}function OS(e){e.duration=0,e.type="keyframes"}const Ace=new Set(["opacity","clipPath","filter","transform"]),Ice=SP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Mce(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Ice()&&r&&Ace.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const Rce=40;class $ce extends RP{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var g;super(),this.stop=()=>{var p,x;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Jn.now();const f={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||DP;this.keyframeResolver=new m(l,(p,x,b)=>this.onKeyframesResolved(p,x,f,!b),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Jn.now(),Oce(t,i,o,l)||((mo.instantAnimations||!c)&&(d==null||d(MP(t,n,r))),t[0]=t[t.length-1],OS(n),n.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Rce?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&Mce(f)?new Ece({...f,element:f.motionValue.owner.current}):new $P(f);m.finished.then(()=>this.notifyFinished()).catch(Xs),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),xce()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Dce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Lce(e){const t=Dce.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function C9(e,t,r=1){const[n,a]=Lce(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return KB(o)?parseFloat(o):o}return EP(a)?C9(a,t,r+1):a}function LP(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const P9=new Set(["width","height","top","left","right","bottom",...cf]),Fce={test:e=>e==="auto",parse:e=>e},E9=e=>t=>t.test(e),T9=[lf,Ze,fi,Ao,Tle,Ele,Fce],_I=e=>T9.find(E9(e));function Bce(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||YB(e):!0}const zce=new Set(["brightness","contrast","saturate","opacity"]);function Uce(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(TP)||[];if(!n)return e;const a=r.replace(n,"");let i=zce.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Vce=/\b([a-z-]*)\(.*?\)/gu,AS={...El,getAnimatableNone:e=>{const t=e.match(Vce);return t?t.map(Uce).join(" "):e}},NI={...lf,transform:Math.round},Wce={rotate:Ao,rotateX:Ao,rotateY:Ao,rotateZ:Ao,scale:Kv,scaleX:Kv,scaleY:Kv,scaleZ:Kv,skew:Ao,skewX:Ao,skewY:Ao,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:_p,originX:dI,originY:dI,originZ:Ze},FP={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...Wce,zIndex:NI,fillOpacity:_p,strokeOpacity:_p,numOctaves:NI},qce={...FP,color:Lr,backgroundColor:Lr,outlineColor:Lr,fill:Lr,stroke:Lr,borderColor:Lr,borderTopColor:Lr,borderRightColor:Lr,borderBottomColor:Lr,borderLeftColor:Lr,filter:AS,WebkitFilter:AS},O9=e=>qce[e];function A9(e,t){let r=O9(e);return r!==AS&&(r=El),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Hce=new Set(["auto","none","0"]);function Gce(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Hce.has(i)&&Np(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=A9(r,a)}class Kce extends DP{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),EP(u))){const d=C9(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!P9.has(n)||t.length!==2)return;const[a,i]=t,o=_I(a),l=_I(i);if(o!==l)if(yI(o)&&yI(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Fc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Bce(t[a]))&&n.push(a);n.length&&Gce(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Fc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function I9(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const M9=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function R9(e){return XB(e)&&"offsetHeight"in e}const SI=30,Xce=e=>!isNaN(parseFloat(e));class Yce{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=Jn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Jn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Xce(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new kP);const n=this.events[t].add(r);return t==="change"?()=>{n(),mr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>SI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,SI);return QB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fh(e,t){return new Yce(e,t)}const{schedule:BP,cancel:AHe}=l9(queueMicrotask,!1),pa={x:!1,y:!1};function $9(){return pa.x||pa.y}function Qce(e){return e==="x"||e==="y"?pa[e]?null:(pa[e]=!0,()=>{pa[e]=!1}):pa.x||pa.y?null:(pa.x=pa.y=!0,()=>{pa.x=pa.y=!1})}function D9(e,t){const r=I9(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function kI(e){return!(e.pointerType==="touch"||$9())}function Zce(e,t,r={}){const[n,a,i]=D9(e,r),o=l=>{if(!kI(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{kI(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const L9=(e,t)=>t?e===t?!0:L9(e,t.parentElement):!1,zP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Jce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eue(e){return Jce.has(e.tagName)||e.tabIndex!==-1}const zx=new WeakSet;function CI(e){return t=>{t.key==="Enter"&&e(t)}}function _j(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const tue=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=CI(()=>{if(zx.has(r))return;_j(r,"down");const a=CI(()=>{_j(r,"up")}),i=()=>_j(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function PI(e){return zP(e)&&!$9()}function rue(e,t,r={}){const[n,a,i]=D9(e,r),o=l=>{const c=l.currentTarget;if(!PI(l))return;zx.add(c);const u=t(c,l),d=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),zx.has(c)&&zx.delete(c),PI(m)&&typeof u=="function"&&u(m,{success:g})},h=m=>{d(m,c===window||c===document||r.useGlobalTarget||L9(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",f,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),R9(l)&&(l.addEventListener("focus",u=>tue(u,a)),!eue(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function F9(e){return XB(e)&&"ownerSVGElement"in e}function nue(e){return F9(e)&&e.tagName==="svg"}const Pn=e=>!!(e&&e.getVelocity),sue=[...T9,Lr,El],aue=e=>sue.find(E9(e)),UP=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function EI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iue(...e){return t=>{let r=!1;const n=e.map(a=>{const i=EI(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():EI(e[a],null)}}}}function oue(...e){return v.useCallback(iue(...e),e)}class lue extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=R9(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cue({children:e,isPresent:t,anchorX:r,root:n}){const a=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=v.useContext(UP),c=oue(i,e==null?void 0:e.ref);return v.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=o.current;if(t||!i.current||!u||!d)return;const g=r==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=a;const p=document.createElement("style");l&&(p.nonce=l);const x=n??document.head;return x.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${g}px !important;
            top: ${h}px !important;
          }
        `),()=>{x.contains(p)&&x.removeChild(p)}},[t]),s.jsx(lue,{isPresent:t,childRef:i,sizeRef:o,children:v.cloneElement(e,{ref:c})})}const uue=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=wP(due),d=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:m=>{u.set(m,!0);for(const g of u.values())if(!g)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return i&&h&&(f={...f}),v.useMemo(()=>{u.forEach((m,g)=>u.set(g,!1))},[r]),v.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(cue,{isPresent:r,anchorX:l,root:c,children:e})),s.jsx(Wb.Provider,{value:f,children:e})};function due(){return new Map}function B9(e=!0){const t=v.useContext(Wb);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=v.useId();v.useEffect(()=>{if(e)return a(i)},[e]);const o=v.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const Xv=e=>e.key||"";function TI(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const nu=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=B9(o),h=v.useMemo(()=>TI(e),[e]),f=o&&!u?[]:h.map(Xv),m=v.useRef(!0),g=v.useRef(h),p=wP(()=>new Map),[x,b]=v.useState(h),[y,w]=v.useState(h);GB(()=>{m.current=!1,g.current=h;for(let k=0;k<y.length;k++){const _=Xv(y[k]);f.includes(_)?p.delete(_):p.get(_)!==!0&&p.set(_,!1)}},[y,f.length,f.join("-")]);const N=[];if(h!==x){let k=[...h];for(let _=0;_<y.length;_++){const j=y[_],C=Xv(j);f.includes(C)||(k.splice(_,0,j),N.push(j))}return i==="wait"&&N.length&&(k=N),w(TI(k)),b(h),null}const{forceRender:S}=v.useContext(bP);return s.jsx(s.Fragment,{children:y.map(k=>{const _=Xv(k),j=o&&!u?!1:h===y||f.includes(_),C=()=>{if(p.has(_))p.set(_,!0);else return;let I=!0;p.forEach(M=>{M||(I=!1)}),I&&(S==null||S(),w(g.current),o&&(d==null||d()),n&&n())};return s.jsx(uue,{isPresent:j,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:j?void 0:C,anchorX:l,children:k},_)})})},z9=v.createContext({strict:!1}),OI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mh={};for(const e in OI)mh[e]={isEnabled:t=>OI[e].some(r=>!!t[r])};function hue(e){for(const t in e)mh[t]={...mh[t],...e[t]}}const fue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fue.has(e)}let U9=e=>!Vy(e);function mue(e){typeof e=="function"&&(U9=t=>t.startsWith("on")?!Vy(t):e(t))}try{mue(require("@emotion/is-prop-valid").default)}catch{}function pue(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(U9(a)||r===!0&&Vy(a)||!t&&!Vy(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const qb=v.createContext({});function Hb(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Sp(e){return typeof e=="string"||Array.isArray(e)}const VP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WP=["initial",...VP];function Gb(e){return Hb(e.animate)||WP.some(t=>Sp(e[t]))}function V9(e){return!!(Gb(e)||e.variants)}function gue(e,t){if(Gb(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Sp(r)?r:void 0,animate:Sp(n)?n:void 0}}return e.inherit!==!1?t:{}}function vue(e){const{initial:t,animate:r}=gue(e,v.useContext(qb));return v.useMemo(()=>({initial:t,animate:r}),[AI(t),AI(r)])}function AI(e){return Array.isArray(e)?e.join(" "):e}function II(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Uf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ze.test(e))e=parseFloat(e);else return e;const r=II(e,t.target.x),n=II(e,t.target.y);return`${r}% ${n}%`}},xue={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=El.parse(e);if(a.length>5)return n;const i=El.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=xr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}},IS={borderRadius:{...Uf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uf,borderTopRightRadius:Uf,borderBottomLeftRadius:Uf,borderBottomRightRadius:Uf,boxShadow:xue};function W9(e,{layout:t,layoutId:r}){return uf.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!IS[e]||e==="opacity")}const yue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bue=cf.length;function wue(e,t,r){let n="",a=!0;for(let i=0;i<bue;i++){const o=cf[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=M9(l,FP[o]);if(!c){a=!1;const d=yue[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function qP(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(uf.has(c)){o=!0;continue}else if(u9(c)){a[c]=u;continue}else{const d=M9(u,FP[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=wue(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const HP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function q9(e,t,r){for(const n in t)!Pn(t[n])&&!W9(n,r)&&(e[n]=t[n])}function jue({transformTemplate:e},t){return v.useMemo(()=>{const r=HP();return qP(r,t,e),Object.assign({},r.vars,r.style)},[t])}function _ue(e,t){const r=e.style||{},n={};return q9(n,r,e),Object.assign(n,jue(e,t)),n}function Nue(e,t){const r={},n=_ue(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Sue={offset:"stroke-dashoffset",array:"stroke-dasharray"},kue={offset:"strokeDashoffset",array:"strokeDasharray"};function Cue(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Sue:kue;e[i.offset]=Ze.transform(-n);const o=Ze.transform(t),l=Ze.transform(r);e[i.array]=`${o} ${l}`}function H9(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(qP(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&Cue(h,a,i,o,!1)}const G9=()=>({...HP(),attrs:{}}),K9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Pue(e,t,r,n){const a=v.useMemo(()=>{const i=G9();return H9(i,t,K9(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};q9(i,e.style,e),a.style={...i,...a.style}}return a}const Eue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GP(e){return typeof e!="string"||e.includes("-")?!1:!!(Eue.indexOf(e)>-1||/[A-Z]/u.test(e))}function Tue(e,t,r,{latestValues:n},a,i=!1){const l=(GP(e)?Pue:Nue)(t,n,a,e),c=pue(t,typeof e=="string",i),u=e!==v.Fragment?{...c,...l,ref:r}:{},{children:d}=t,h=v.useMemo(()=>Pn(d)?d.get():d,[d]);return v.createElement(e,{...u,children:h})}function MI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function KP(e,t,r,n){if(typeof t=="function"){const[a,i]=MI(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=MI(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function Ux(e){return Pn(e)?e.get():e}function Oue({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Aue(r,n,a,e),renderState:t()}}function Aue(e,t,r,n){const a={},i=n(e,{});for(const f in i)a[f]=Ux(i[f]);let{initial:o,animate:l}=e;const c=Gb(e),u=V9(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Hb(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const g=KP(e,f[m]);if(g){const{transitionEnd:p,transition:x,...b}=g;for(const y in b){let w=b[y];if(Array.isArray(w)){const N=d?w.length-1:0;w=w[N]}w!==null&&(a[y]=w)}for(const y in p)a[y]=p[y]}}}return a}const X9=e=>(t,r)=>{const n=v.useContext(qb),a=v.useContext(Wb),i=()=>Oue(e,t,n,a);return r?i():wP(i)};function XP(e,t,r){var i;const{style:n}=e,a={};for(const o in n)(Pn(n[o])||t.style&&Pn(t.style[o])||W9(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const Iue=X9({scrapeMotionValuesFromProps:XP,createRenderState:HP});function Y9(e,t,r){const n=XP(e,t,r);for(const a in e)if(Pn(e[a])||Pn(t[a])){const i=cf.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const Mue=X9({scrapeMotionValuesFromProps:Y9,createRenderState:G9}),Rue=Symbol.for("motionComponentSymbol");function vd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $ue(e,t,r){return v.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):vd(r)&&(r.current=n))},[t])}const YP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Due="framerAppearId",Q9="data-"+YP(Due),Z9=v.createContext({});function Lue(e,t,r,n,a){var p,x;const{visualElement:i}=v.useContext(qb),o=v.useContext(z9),l=v.useContext(Wb),c=v.useContext(UP).reducedMotion,u=v.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=v.useContext(Z9);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&Fue(u.current,r,a,h);const f=v.useRef(!1);v.useInsertionEffect(()=>{d&&f.current&&d.update(r,l)});const m=r[Q9],g=v.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return GB(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),v.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,m)}),g.current=!1),d.enteringChildren=void 0)}),d}function Fue(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:J9(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&vd(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function J9(e){if(e)return e.options.allowProjection!==!1?e.projection:J9(e.parent)}function Nj(e,{forwardMotionProps:t=!1}={},r,n){r&&hue(r);const a=GP(e)?Mue:Iue;function i(l,c){let u;const d={...v.useContext(UP),...l,layoutId:Bue(l)},{isStatic:h}=d,f=vue(l),m=a(l,h);if(!h&&jP){zue();const g=Uue(d);u=g.MeasureLayout,f.visualElement=Lue(e,m,d,n,g.ProjectionNode)}return s.jsxs(qb.Provider,{value:f,children:[u&&f.visualElement?s.jsx(u,{visualElement:f.visualElement,...d}):null,Tue(e,l,$ue(m,f.visualElement,c),m,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=v.forwardRef(i);return o[Rue]=e,o}function Bue({layoutId:e}){const t=v.useContext(bP).id;return t&&e!==void 0?t+"-"+e:e}function zue(e,t){v.useContext(z9).strict}function Uue(e){const{drag:t,layout:r}=mh;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Vue(e,t){if(typeof Proxy>"u")return Nj;const r=new Map,n=(i,o)=>Nj(i,o,e,t),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,Nj(o,void 0,e,t)),r.get(o))})}function ez({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Wue({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function que(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Sj(e){return e===void 0||e===1}function MS({scale:e,scaleX:t,scaleY:r}){return!Sj(e)||!Sj(t)||!Sj(r)}function lc(e){return MS(e)||tz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tz(e){return RI(e.x)||RI(e.y)}function RI(e){return e&&e!=="0%"}function Wy(e,t,r){const n=e-r,a=t*n;return r+a}function $I(e,t,r,n,a){return a!==void 0&&(e=Wy(e,a,n)),Wy(e,r,n)+t}function RS(e,t=0,r=1,n,a){e.min=$I(e.min,t,r,n,a),e.max=$I(e.max,t,r,n,a)}function rz(e,{x:t,y:r}){RS(e.x,t.translate,t.scale,t.originPoint),RS(e.y,r.translate,r.scale,r.originPoint)}const DI=.999999999999,LI=1.0000000000001;function Hue(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&yd(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,rz(e,o)),n&&lc(i.latestValues)&&yd(e,i.latestValues))}t.x<LI&&t.x>DI&&(t.x=1),t.y<LI&&t.y>DI&&(t.y=1)}function xd(e,t){e.min=e.min+t,e.max=e.max+t}function FI(e,t,r,n,a=.5){const i=xr(e.min,e.max,a);RS(e,t,r,i,n)}function yd(e,t){FI(e.x,t.x,t.scaleX,t.scale,t.originX),FI(e.y,t.y,t.scaleY,t.scale,t.originY)}function nz(e,t){return ez(que(e.getBoundingClientRect(),t))}function Gue(e,t,r){const n=nz(e,r),{scroll:a}=t;return a&&(xd(n.x,a.offset.x),xd(n.y,a.offset.y)),n}const BI=()=>({translate:0,scale:1,origin:0,originPoint:0}),bd=()=>({x:BI(),y:BI()}),zI=()=>({min:0,max:0}),Kr=()=>({x:zI(),y:zI()}),$S={current:null},sz={current:!1};function Kue(){if(sz.current=!0,!!jP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$S.current=e.matches;e.addEventListener("change",t),t()}else $S.current=!1}const Xue=new WeakMap;function Yue(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Pn(a))e.addValue(n,a);else if(Pn(i))e.addValue(n,fh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,fh(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const UI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Que{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=DP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Jn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,mr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Gb(r),this.isVariantNode=V9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Pn(m)&&m.set(c[f])}}mount(t){var r;this.current=t,Xue.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),sz.current||Kue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$S.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Pl(this.notifyUpdate),Pl(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=uf.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&mr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mh){const r=mh[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<UI.length;n++){const a=UI[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Yue(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=fh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(KB(n)||YB(n))?n=parseFloat(n):!aue(n)&&El.test(r)&&(n=A9(t,r)),this.setBaseTarget(t,Pn(n)?n.get():n)),Pn(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=KP(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Pn(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new kP),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){BP.render(this.render)}}class az extends Que{constructor(){super(...arguments),this.KeyframeResolver=Kce}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function iz(e,{style:t,vars:r},n,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function Zue(e){return window.getComputedStyle(e)}class Jue extends az{constructor(){super(...arguments),this.type="html",this.renderInstance=iz}readValueFromInstance(t,r){var n;if(uf.has(r))return(n=this.projection)!=null&&n.isProjecting?kS(r):fce(t,r);{const a=Zue(t),i=(u9(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return nz(t,r)}build(t,r,n){qP(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return XP(t,r,n)}}const oz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ede(e,t,r,n){iz(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(oz.has(a)?a:YP(a),t.attrs[a])}class tde extends az{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(uf.has(r)){const n=O9(r);return n&&n.default||0}return r=oz.has(r)?r:YP(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Y9(t,r,n)}build(t,r,n){H9(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){ede(t,r,n,a)}mount(t){this.isSVGTag=K9(t.tagName),super.mount(t)}}const rde=(e,t)=>GP(e)?new tde(t):new Jue(t,{allowProjection:e!==v.Fragment});function Id(e,t,r){const n=e.getProps();return KP(n,t,r!==void 0?r:n.custom,e)}const DS=e=>Array.isArray(e);function nde(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,fh(r))}function sde(e){return DS(e)?e[e.length-1]||0:e}function ade(e,t){const r=Id(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=sde(i[o]);nde(e,o,l)}}function ide(e){return!!(Pn(e)&&e.add)}function LS(e,t){const r=e.getValue("willChange");if(ide(r))return r.add(t);if(!r&&mo.WillChange){const n=new mo.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function lz(e){return e.props[Q9]}const ode=e=>e!==null;function lde(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(ode),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const cde={type:"spring",stiffness:500,damping:25,restSpeed:10},ude=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dde={type:"keyframes",duration:.8},hde={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fde=(e,{keyframes:t})=>t.length>2?dde:uf.has(e)?e.startsWith("scale")?ude(t[1]):cde:hde;function mde({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const QP=(e,t,r,n={},a,i)=>o=>{const l=LP(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-hi(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};mde(l)||Object.assign(d,fde(e,d)),d.duration&&(d.duration=hi(d.duration)),d.repeatDelay&&(d.repeatDelay=hi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(OS(d),d.delay===0&&(h=!0)),(mo.instantAnimations||mo.skipAnimations)&&(h=!0,OS(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=lde(d.keyframes,l);if(f!==void 0){mr.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new $P(d):new $ce(d)};function pde({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function cz(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&pde(u,d))continue;const m={delay:r,...LP(i||{},d)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const b=lz(e);if(b){const y=window.MotionHandoffAnimation(b,d,mr);y!==null&&(m.startTime=y,p=!0)}}LS(e,d),h.start(QP(d,h,f,e.shouldReduceMotion&&P9.has(d)?{type:!1}:m,e,p));const x=h.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{mr.update(()=>{o&&ade(e,o)})}),c}function uz(e,t,r,n=0,a=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function FS(e,t,r={}){var c;const n=Id(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(cz(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return gde(e,t,u,d,h,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function gde(e,t,r=0,n=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(FS(c,t,{...o,delay:r+(typeof n=="function"?0:n)+uz(e.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function vde(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>FS(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=FS(e,t,r);else{const a=typeof t=="function"?Id(e,t,r.custom):t;n=Promise.all(cz(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function dz(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const xde=WP.length;function hz(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?hz(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<xde;r++){const n=WP[r],a=e.props[n];(Sp(a)||a===!1)&&(t[n]=a)}return t}const yde=[...VP].reverse(),bde=VP.length;function wde(e){return t=>Promise.all(t.map(({animation:r,options:n})=>vde(e,r,n)))}function jde(e){let t=wde(e),r=VI(),n=!0;const a=c=>(u,d)=>{var f;const h=Id(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...p}=h;u={...u,...p,...g}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=hz(e.parent)||{},h=[],f=new Set;let m={},g=1/0;for(let x=0;x<bde;x++){const b=yde[x],y=r[b],w=u[b]!==void 0?u[b]:d[b],N=Sp(w),S=b===c?y.isActive:null;S===!1&&(g=x);let k=w===d[b]&&w!==u[b]&&N;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...m},!y.isActive&&S===null||!w&&!y.prevProp||Hb(w)||typeof w=="boolean")continue;const _=_de(y.prevProp,w);let j=_||b===c&&y.isActive&&!k&&N||x>g&&N,C=!1;const I=Array.isArray(w)?w:[w];let M=I.reduce(a(b),{});S===!1&&(M={});const{prevResolvedValues:$={}}=y,W={...$,...M},V=R=>{j=!0,f.has(R)&&(C=!0,f.delete(R)),y.needsAnimating[R]=!0;const O=e.getValue(R);O&&(O.liveStyle=!1)};for(const R in W){const O=M[R],T=$[R];if(m.hasOwnProperty(R))continue;let D=!1;DS(O)&&DS(T)?D=!dz(O,T):D=O!==T,D?O!=null?V(R):f.add(R):O!==void 0&&f.has(R)?V(R):y.protectedKeys[R]=!0}y.prevProp=w,y.prevResolvedValues=M,y.isActive&&(m={...m,...M}),n&&e.blockInitialAnimation&&(j=!1);const E=k&&_;j&&(!E||C)&&h.push(...I.map(R=>{const O={type:b};if(typeof R=="string"&&n&&!E&&e.manuallyAnimateOnMount&&e.parent){const{parent:T}=e,D=Id(T,R);if(T.enteringChildren&&D){const{delayChildren:X}=D.transition||{};O.delay=uz(T.enteringChildren,e,X)}}return{animation:R,options:O}}))}if(f.size){const x={};if(typeof u.initial!="boolean"){const b=Id(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(x.transition=b.transition)}f.forEach(b=>{const y=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),x[b]=y??null}),h.push({animation:x})}let p=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(h):Promise.resolve()}function l(c,u){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=o(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=VI()}}}function _de(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dz(t,e):!1}function rc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VI(){return{animate:rc(!0),whileInView:rc(),whileHover:rc(),whileTap:rc(),whileDrag:rc(),whileFocus:rc(),exit:rc()}}class Ul{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Nde extends Ul{constructor(t){super(t),t.animationState||(t.animationState=jde(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hb(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Sde=0;class kde extends Ul{constructor(){super(...arguments),this.id=Sde++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Cde={animation:{Feature:Nde},exit:{Feature:kde}};function kp(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Lg(e){return{point:{x:e.pageX,y:e.pageY}}}const Pde=e=>t=>zP(t)&&e(t,Lg(t));function Mm(e,t,r,n){return kp(e,t,Pde(r),n)}const fz=1e-4,Ede=1-fz,Tde=1+fz,mz=.01,Ode=0-mz,Ade=0+mz;function Dn(e){return e.max-e.min}function Ide(e,t,r){return Math.abs(e-t)<=r}function WI(e,t,r,n=.5){e.origin=n,e.originPoint=xr(t.min,t.max,e.origin),e.scale=Dn(r)/Dn(t),e.translate=xr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Ede&&e.scale<=Tde||isNaN(e.scale))&&(e.scale=1),(e.translate>=Ode&&e.translate<=Ade||isNaN(e.translate))&&(e.translate=0)}function Rm(e,t,r,n){WI(e.x,t.x,r.x,n?n.originX:void 0),WI(e.y,t.y,r.y,n?n.originY:void 0)}function qI(e,t,r){e.min=r.min+t.min,e.max=e.min+Dn(t)}function Mde(e,t,r){qI(e.x,t.x,r.x),qI(e.y,t.y,r.y)}function HI(e,t,r){e.min=t.min-r.min,e.max=e.min+Dn(t)}function qy(e,t,r){HI(e.x,t.x,r.x),HI(e.y,t.y,r.y)}function Ls(e){return[e("x"),e("y")]}const pz=({current:e})=>e?e.ownerDocument.defaultView:null,GI=(e,t)=>Math.abs(e-t);function Rde(e,t){const r=GI(e.x,t.x),n=GI(e.y,t.y);return Math.sqrt(r**2+n**2)}class gz{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Cj(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=Rde(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:p}=f,{timestamp:x}=gn;this.history.push({...p,timestamp:x});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=kj(m,this.transformPagePoint),mr.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Cj(f.type==="pointercancel"?this.lastMoveEventInfo:kj(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,b),p&&p(f,b)},!zP(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Lg(t),c=kj(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=gn;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=r;h&&h(t,Cj(c,this.history)),this.removeListeners=Rg(Mm(this.contextWindow,"pointermove",this.handlePointerMove),Mm(this.contextWindow,"pointerup",this.handlePointerUp),Mm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pl(this.updatePoint)}}function kj(e,t){return t?{point:t(e.point)}:e}function KI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cj({point:e},t){return{point:e,delta:KI(e,vz(t)),offset:KI(e,$de(t)),velocity:Dde(t,.1)}}function $de(e){return e[0]}function vz(e){return e[e.length-1]}function Dde(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=vz(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>hi(t)));)r--;if(!n)return{x:0,y:0};const i=qs(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Lde(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?xr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?xr(r,e,n.max):Math.min(e,r)),e}function XI(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Fde(e,{top:t,left:r,bottom:n,right:a}){return{x:XI(e.x,r,a),y:XI(e.y,t,n)}}function YI(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Bde(e,t){return{x:YI(e.x,t.x),y:YI(e.y,t.y)}}function zde(e,t){let r=.5;const n=Dn(e),a=Dn(t);return a>n?r=jp(t.min,t.max-n,e.min):n>a&&(r=jp(e.min,e.max-a,t.min)),fo(0,1,r)}function Ude(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const BS=.35;function Vde(e=BS){return e===!1?e=0:e===!0&&(e=BS),{x:QI(e,"left","right"),y:QI(e,"top","bottom")}}function QI(e,t,r){return{min:ZI(e,t),max:ZI(e,r)}}function ZI(e,t){return typeof e=="number"?e:e[t]||0}const Wde=new WeakMap;class qde{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Lg(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:g,onDragStart:p}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Qce(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ls(b=>{let y=this.getAxisMotionValue(b).get()||0;if(fi.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[b];N&&(y=Dn(N)*(parseFloat(y)/100))}}this.originPoint[b]=y}),p&&mr.postRender(()=>p(h,f)),LS(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:p,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=f;if(g&&this.currentDirection===null){this.currentDirection=Hde(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),x&&x(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ls(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new gz(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:pz(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&mr.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Yv(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Lde(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&vd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Fde(n.layoutBox,t):this.constraints=!1,this.elastic=Vde(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ls(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ude(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!vd(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Gue(n,a.root,this.visualElement.getTransformPagePoint());let o=Bde(a.layout.layoutBox,i);if(r){const l=r(Wue(o));this.hasMutatedConstraints=!!l,l&&(o=ez(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ls(d=>{if(!Yv(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=a?200:1e6,m=a?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return LS(this.visualElement,t),n.start(QP(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ls(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ls(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ls(r=>{const{drag:n}=this.getProps();if(!Yv(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-xr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!vd(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ls(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=zde({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ls(o=>{if(!Yv(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(xr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Wde.set(this.visualElement,this);const t=this.visualElement.current,r=Mm(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();vd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),mr.read(n);const o=kp(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ls(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=BS,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Yv(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Hde(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Gde extends Ul{constructor(t){super(t),this.removeGroupControls=Xs,this.removeListeners=Xs,this.controls=new qde(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xs}unmount(){this.removeGroupControls(),this.removeListeners()}}const JI=e=>(t,r)=>{e&&mr.postRender(()=>e(t,r))};class Kde extends Ul{constructor(){super(...arguments),this.removePointerDownListener=Xs}onPointerDown(t){this.session=new gz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pz(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:JI(t),onStart:JI(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&mr.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Mm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Pj=!1;class Xde extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),Pj&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Vx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,Pj=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||mr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),BP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;Pj=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xz(e){const[t,r]=B9(),n=v.useContext(bP);return s.jsx(Xde,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(Z9),isPresent:t,safeToRemove:r})}function Yde(e,t,r){const n=Pn(e)?e:fh(e);return n.start(QP("",n,t,r)),n.animation}const Qde=(e,t)=>e.depth-t.depth;class Zde{constructor(){this.children=[],this.isDirty=!1}add(t){_P(this.children,t),this.isDirty=!0}remove(t){NP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Qde),this.isDirty=!1,this.children.forEach(t)}}function Jde(e,t){const r=Jn.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Pl(n),e(i-t))};return mr.setup(n,!0),()=>Pl(n)}const yz=["TopLeft","TopRight","BottomLeft","BottomRight"],ehe=yz.length,eM=e=>typeof e=="string"?parseFloat(e):e,tM=e=>typeof e=="number"||Ze.test(e);function the(e,t,r,n,a,i){a?(e.opacity=xr(0,r.opacity??1,rhe(n)),e.opacityExit=xr(t.opacity??1,0,nhe(n))):i&&(e.opacity=xr(t.opacity??1,r.opacity??1,n));for(let o=0;o<ehe;o++){const l=`border${yz[o]}Radius`;let c=rM(t,l),u=rM(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||tM(c)===tM(u)?(e[l]=Math.max(xr(eM(c),eM(u),n),0),(fi.test(u)||fi.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=xr(t.rotate||0,r.rotate||0,n))}function rM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rhe=bz(0,.5,s9),nhe=bz(.5,.95,Xs);function bz(e,t,r){return n=>n<e?0:n>t?1:r(jp(e,t,n))}function nM(e,t){e.min=t.min,e.max=t.max}function ha(e,t){nM(e.x,t.x),nM(e.y,t.y)}function sM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function aM(e,t,r,n,a){return e-=t,e=Wy(e,1/r,n),a!==void 0&&(e=Wy(e,1/a,n)),e}function she(e,t=0,r=1,n=.5,a,i=e,o=e){if(fi.test(t)&&(t=parseFloat(t),t=xr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=xr(i.min,i.max,n);e===i&&(l-=t),e.min=aM(e.min,t,r,l,a),e.max=aM(e.max,t,r,l,a)}function iM(e,t,[r,n,a],i,o){she(e,t[r],t[n],t[a],t.scale,i,o)}const ahe=["x","scaleX","originX"],ihe=["y","scaleY","originY"];function oM(e,t,r,n){iM(e.x,t,ahe,r?r.x:void 0,n?n.x:void 0),iM(e.y,t,ihe,r?r.y:void 0,n?n.y:void 0)}function lM(e){return e.translate===0&&e.scale===1}function wz(e){return lM(e.x)&&lM(e.y)}function cM(e,t){return e.min===t.min&&e.max===t.max}function ohe(e,t){return cM(e.x,t.x)&&cM(e.y,t.y)}function uM(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jz(e,t){return uM(e.x,t.x)&&uM(e.y,t.y)}function dM(e){return Dn(e.x)/Dn(e.y)}function hM(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class lhe{constructor(){this.members=[]}add(t){_P(this.members,t),t.scheduleRender()}remove(t){if(NP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function che(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Ej=["","X","Y","Z"],uhe=1e3;let dhe=0;function Tj(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function _z(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=lz(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",mr,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&_z(n)}function Nz({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=dhe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mhe),this.nodes.forEach(xhe),this.nodes.forEach(yhe),this.nodes.forEach(phe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zde)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new kP),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=F9(o)&&!nue(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;mr.read(()=>{h=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=Jde(f,250),Vx.hasAnimatedSinceResize&&(Vx.hasAnimatedSinceResize=!1,this.nodes.forEach(pM)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||Nhe,{onLayoutAnimationStart:p,onLayoutAnimationComplete:x}=u.getProps(),b=!this.targetLayout||!jz(this.targetLayout,m),y=!h&&f;if(this.options.layoutRoot||this.resumeFrom||y||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...LP(g,"layout"),onPlay:p,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,y)}else h||pM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bhe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_z(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vhe),this.nodes.forEach(hhe),this.nodes.forEach(fhe)):this.nodes.forEach(mM),this.clearAllSnapshots();const l=Jn.now();gn.delta=fo(0,1e3/60,l-gn.timestamp),gn.timestamp=l,gn.isProcessing=!0,xj.update.process(gn),xj.preRender.process(gn),xj.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,BP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ghe),this.sharedNodes.forEach(whe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Kr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!wz(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||lc(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),She(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Kr();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(khe))){const{scroll:d}=this.root;d&&(xd(l.x,d.offset.x),xd(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Kr();if(ha(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ha(l,o),xd(l.x,h.offset.x),xd(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Kr();ha(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&yd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),lc(d.latestValues)&&yd(c,d.latestValues)}return lc(this.latestValues)&&yd(c,this.latestValues),c}removeTransform(o){const l=Kr();ha(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!lc(u.latestValues))continue;MS(u.latestValues)&&u.updateSnapshot();const d=Kr(),h=u.measurePageBox();ha(d,h),oM(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return lc(this.latestValues)&&oM(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=gn.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kr(),this.targetWithTransforms=Kr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Mde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ha(this.target,this.layout.layoutBox),rz(this.target,this.targetDelta)):ha(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||MS(this.parent.latestValues)||tz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kr(),this.relativeTargetOrigin=Kr(),qy(this.relativeTargetOrigin,l,c),ha(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ha(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Hue(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Kr());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sM(this.prevProjectionDelta.x,this.projectionDelta.x),sM(this.prevProjectionDelta.y,this.projectionDelta.y)),Rm(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!hM(this.projectionDelta.x,this.prevProjectionDelta.x)||!hM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bd(),this.projectionDelta=bd(),this.projectionDeltaWithTransform=bd()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=bd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Kr(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=m!==g,x=this.getStack(),b=!x||x.members.length<=1,y=!!(p&&!b&&this.options.crossfade===!0&&!this.path.some(_he));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const S=N/1e3;gM(h.x,o.x,S),gM(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qy(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jhe(this.relativeTarget,this.relativeTargetOrigin,f,S),w&&ohe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Kr()),ha(w,this.relativeTarget)),p&&(this.animationValues=d,the(d,u,this.latestValues,S,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Pl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mr.update(()=>{Vx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fh(0)),this.currentAnimation=Yde(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uhe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Sz(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Kr();const h=Dn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Dn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ha(l,c),yd(l,d),Rm(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lhe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Tj("z",o,u,this.animationValues);for(let d=0;d<Ej.length;d++)Tj(`rotate${Ej[d]}`,o,u,this.animationValues),Tj(`skew${Ej[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ux(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ux(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!lc(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=che(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in IS){if(d[g]===void 0)continue;const{correct:p,applyTo:x,isCSSVariable:b}=IS[g],y=h==="none"?d[g]:p(d[g],u);if(x){const w=x.length;for(let N=0;N<w;N++)o[x[N]]=y}else b?this.options.visualElement.renderState.vars[g]=y:o[g]=y}this.options.layoutId&&(o.pointerEvents=u===this?Ux(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(fM),this.root.sharedNodes.clear()}}}function hhe(e){e.updateLayout()}function fhe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Ls(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=Dn(f);f.min=n[h].min,f.max=f.min+m}):Sz(i,t.layoutBox,n)&&Ls(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=Dn(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=bd();Rm(l,n,t.layoutBox);const c=bd();o?Rm(c,e.applyTransform(a,!0),t.measuredBox):Rm(c,n,t.layoutBox);const u=!wz(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=Kr();qy(g,t.layoutBox,f.layoutBox);const p=Kr();qy(p,n,m.layoutBox),jz(g,p)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function mhe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function phe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ghe(e){e.clearSnapshot()}function fM(e){e.clearMeasurements()}function mM(e){e.isLayoutDirty=!1}function vhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xhe(e){e.resolveTargetDelta()}function yhe(e){e.calcProjection()}function bhe(e){e.resetSkewAndRotation()}function whe(e){e.removeLeadSnapshot()}function gM(e,t,r){e.translate=xr(t.translate,0,r),e.scale=xr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function vM(e,t,r,n){e.min=xr(t.min,r.min,n),e.max=xr(t.max,r.max,n)}function jhe(e,t,r,n){vM(e.x,t.x,r.x,n),vM(e.y,t.y,r.y,n)}function _he(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Nhe={duration:.45,ease:[.4,0,.1,1]},xM=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yM=xM("applewebkit/")&&!xM("chrome/")?Math.round:Xs;function bM(e){e.min=yM(e.min),e.max=yM(e.max)}function She(e){bM(e.x),bM(e.y)}function Sz(e,t,r){return e==="position"||e==="preserve-aspect"&&!Ide(dM(t),dM(r),.2)}function khe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Che=Nz({attachResizeListener:(e,t)=>kp(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Oj={current:void 0},kz=Nz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Oj.current){const e=new Che({});e.mount(window),e.setOptions({layoutScroll:!0}),Oj.current=e}return Oj.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Phe={pan:{Feature:Kde},drag:{Feature:Gde,ProjectionNode:kz,MeasureLayout:xz}};function wM(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&mr.postRender(()=>i(t,Lg(t)))}class Ehe extends Ul{mount(){const{current:t}=this.node;t&&(this.unmount=Zce(t,(r,n)=>(wM(this.node,n,"Start"),a=>wM(this.node,a,"End"))))}unmount(){}}class The extends Ul{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rg(kp(this.node.current,"focus",()=>this.onFocus()),kp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jM(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&mr.postRender(()=>i(t,Lg(t)))}class Ohe extends Ul{mount(){const{current:t}=this.node;t&&(this.unmount=rue(t,(r,n)=>(jM(this.node,n,"Start"),(a,{success:i})=>jM(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zS=new WeakMap,Aj=new WeakMap,Ahe=e=>{const t=zS.get(e.target);t&&t(e)},Ihe=e=>{e.forEach(Ahe)};function Mhe({root:e,...t}){const r=e||document;Aj.has(r)||Aj.set(r,{});const n=Aj.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Ihe,{root:e,...t})),n[a]}function Rhe(e,t,r){const n=Mhe(t);return zS.set(e,r),n.observe(e),()=>{zS.delete(e),n.unobserve(e)}}const $he={some:0,all:1};class Dhe extends Ul{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:$he[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return Rhe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Lhe(t,r))&&this.startObserver()}unmount(){}}function Lhe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Fhe={inView:{Feature:Dhe},tap:{Feature:Ohe},focus:{Feature:The},hover:{Feature:Ehe}},Bhe={layout:{ProjectionNode:kz,MeasureLayout:xz}},zhe={...Cde,...Fhe,...Phe,...Bhe},Ue=Vue(zhe,rde),Uhe={some:0,all:1};function Vhe(e,t,{root:r,margin:n,amount:a="some"}={}){const i=I9(e),o=new WeakMap,l=u=>{u.forEach(d=>{const h=o.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=t(d.target,d);typeof f=="function"?o.set(d.target,f):c.unobserve(d.target)}else typeof h=="function"&&(h(d),o.delete(d.target))})},c=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof a=="number"?a:Uhe[a]});return i.forEach(u=>c.observe(u)),()=>c.disconnect()}function Whe(e,{root:t,margin:r,amount:n,once:a=!1,initial:i=!1}={}){const[o,l]=v.useState(i);return v.useEffect(()=>{if(!e.current||a&&o)return;const c=()=>(l(!0),a?void 0:()=>l(!1)),u={root:t&&t.current||void 0,margin:r,amount:n};return Vhe(e.current,c,u)},[t,e,r,a,n]),o}const Cp=Qh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:shadow-lg hover:bg-primary/90 active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground shadow-md hover:bg-destructive/90",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline",cta:"gradient-cta text-primary-foreground shadow-cta hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]",hero:"bg-primary-foreground/10 text-primary-foreground border border-primary-foreground/20 backdrop-blur-sm hover:bg-primary-foreground/20",icon:"bg-transparent hover:bg-muted text-muted-foreground hover:text-foreground"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-md px-4",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Xh:"button";return s.jsx(o,{className:de(Cp({variant:t,size:r,className:e})),ref:i,...a})});U.displayName="Button";const Vl=()=>nZ(),is=iZ,qhe=()=>{const e=is(hP),t=is(fP),r=is(tae),n=Vl(),a=i=>`${i.toLocaleString("en-BD")}`;return s.jsx(nu,{children:r&&s.jsxs(s.Fragment,{children:[s.jsx(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-foreground/50 z-50",onClick:()=>n(Ff())}),s.jsxs(Ue.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-full max-w-md bg-background shadow-2xl z-50 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ln,{className:"h-6 w-6 text-primary"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Your Cart"}),s.jsx("span",{className:"bg-primary text-primary-foreground text-sm px-2 py-0.5 rounded-full",children:e.length})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(Ff()),children:s.jsx(er,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx(ln,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Start shopping to add items to your cart"}),s.jsx(U,{onClick:()=>n(Ff()),asChild:!0,children:s.jsx(Ke,{to:"/products",children:"Browse Products"})})]}):s.jsx("div",{className:"space-y-4",children:e.map(i=>{var c,u;const o=(c=i.variation)!=null&&c.id?`${i.product.id}-${i.variation.id}`:i.product.id,l=((u=i.variation)==null?void 0:u.price)??i.product.price;return s.jsxs(Ue.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"flex gap-4 p-4 bg-muted/50 rounded-lg",children:[s.jsx("img",{src:i.product.images[0],alt:i.product.name,className:"w-20 h-20 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-foreground truncate",children:i.product.name}),i.variation&&s.jsx("p",{className:"text-sm text-muted-foreground",children:i.variation.name}),s.jsx("p",{className:"text-primary font-semibold mt-1",children:a(l)}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(U,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>{var d;return n(Ry({productId:i.product.id,variationId:(d=i.variation)==null?void 0:d.id,quantity:i.quantity-1}))},disabled:i.quantity<=1,children:s.jsx(Cg,{className:"h-4 w-4"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:i.quantity}),s.jsx(U,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>{var d;return n(Ry({productId:i.product.id,variationId:(d=i.variation)==null?void 0:d.id,quantity:i.quantity+1}))},children:s.jsx(qt,{className:"h-4 w-4"})})]})]}),s.jsx(U,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>{var d;return n(wB({productId:i.product.id,variationId:(d=i.variation)==null?void 0:d.id}))},children:s.jsx(er,{className:"h-5 w-5"})})]},o)})})}),e.length>0&&s.jsxs("div",{className:"p-6 border-t border-border space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-lg",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsx("span",{className:"font-bold text-foreground",children:a(t)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping and taxes calculated at checkout"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(U,{variant:"cta",size:"lg",className:"w-full",onClick:()=>n(Ff()),asChild:!0,children:s.jsxs(Ke,{to:"/checkout",children:["Proceed to Checkout",s.jsx(Lc,{className:"h-5 w-5 ml-2"})]})}),s.jsx(U,{variant:"outline",size:"lg",className:"w-full",onClick:()=>n(Ff()),asChild:!0,children:s.jsx(Ke,{to:"/cart",children:"View Cart"})})]})]})]})]})})};function Hhe(){return v.useEffect(()=>{let e;const t=async()=>{try{const{data:n,error:a}=await Q.from("admin_settings").select("key, value").in("key",["favicon_url","site_name","shop_name"]);if(a){console.error("Failed to load site settings:",a);return}if(n){const i=n.reduce((l,c)=>(l[c.key]=c.value,l),{});if(i.favicon_url){let l=document.querySelector("link[rel~='icon']");l||(l=document.createElement("link"),l.rel="icon",document.head.appendChild(l)),l.href=i.favicon_url}const o=i.site_name||i.shop_name;o&&document.title!==o&&(document.title=o)}}catch(n){console.error("Failed to load site settings:",n)}};t();const r=()=>{document.visibilityState==="visible"&&t()};return document.addEventListener("visibilitychange",r),e=window.setInterval(t,3e4),()=>{document.removeEventListener("visibilitychange",r),e&&window.clearInterval(e)}},[]),null}const jc="/assets/site-logo-C0Vz_9r8.png",F=v.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));F.displayName="Input";const Ghe=Qh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-primary/10 text-primary",warning:"border-transparent bg-accent/20 text-accent-foreground",sale:"border-transparent bg-secondary text-secondary-foreground font-bold",new:"border-transparent bg-primary text-primary-foreground"}},defaultVariants:{variant:"default"}});function Ge({className:e,variant:t,...r}){return s.jsx("div",{className:de(Ghe({variant:t}),e),...r})}const Vf=[{id:"1",name:"-",slug:"t-shirt",image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&q=80"},{id:"2",name:"",slug:"jeans",image:"https://images.unsplash.com/photo-1542272454315-4c01d7abdf4a?w=400&q=80"},{id:"3",name:" ",slug:"polo",image:"https://images.unsplash.com/photo-1625910513413-5fc6e2bc6b12?w=400&q=80"},{id:"4",name:" ",slug:"formal-shirt",image:"https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?w=400&q=80"},{id:"5",name:"",slug:"pants",image:"https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?w=400&q=80"},{id:"6",name:"",slug:"jacket",image:"https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400&q=80"}],Wf=[{id:"1",name:"  - -  ",price:650,original_price:850,images:["https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&q=80"],slug:"premium-cotton-tshirt-navy",is_new:!0},{id:"2",name:"   ",price:1450,original_price:1850,images:["https://images.unsplash.com/photo-1542272454315-4c01d7abdf4a?w=400&q=80"],slug:"slim-fit-denim-jeans",is_featured:!0},{id:"3",name:"   - ",price:850,original_price:1100,images:["https://images.unsplash.com/photo-1625910513413-5fc6e2bc6b12?w=400&q=80"],slug:"classic-polo-white",is_new:!0},{id:"4",name:"   -  ",price:950,original_price:1200,images:["https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?w=400&q=80"],slug:"formal-office-shirt-blue"},{id:"5",name:"   ",price:1250,original_price:1500,images:["https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?w=400&q=80"],slug:"comfort-fit-chino"},{id:"6",name:"  ",price:3500,original_price:4500,images:["https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400&q=80"],slug:"winter-leather-jacket",is_featured:!0},{id:"7",name:"  ",price:750,original_price:950,images:["https://images.unsplash.com/photo-1556906781-9a412961c28c?w=400&q=80"],slug:"sports-track-pants",is_new:!0},{id:"8",name:"  -",price:550,original_price:750,images:["https://images.unsplash.com/photo-1576566588028-4147f3842f27?w=400&q=80"],slug:"graphic-print-tshirt"}],Khe=[{id:"1",title:"  ",subtitle:"-,     %  ",image:"https://images.unsplash.com/photo-1490114538077-0a7f8cb49891?w=1920&q=80",badge:"% ",link:"/products?category=t-shirt"},{id:"2",title:"  ",subtitle:" ,   -  ",image:"https://images.unsplash.com/photo-1507680434567-5739c80be1ac?w=1920&q=80",badge:"",link:"/products?category=jeans"},{id:"3",title:" ",subtitle:"    ",image:"https://images.unsplash.com/photo-1617137968427-85924c800a22?w=1920&q=80",badge:"",link:"/products?category=formal-shirt"}];function _M(){const e=en(),t=Vl(),[r,n]=v.useState(null),[a,i]=v.useState(!1),[o,l]=v.useState([]),[c,u]=v.useState([]),[d,h]=v.useState([]),[f,m]=v.useState([]),[g,p]=v.useState(!0),[x,b]=v.useState(0),[y,w]=v.useState(!1);v.useState(0);const N=is(NB),S=is(Ig),{data:k}=fr({queryKey:["header-settings"],queryFn:async()=>{const{data:T,error:D}=await Q.from("admin_settings").select("key, value").in("key",["site_name","site_logo","shop_logo_url"]);if(D)throw D;const X={};return T==null||T.forEach(A=>{X[A.key]=A.value}),X},staleTime:0}),_=(k==null?void 0:k.site_name)||"Fashion Hub",j=(k==null?void 0:k.site_logo)||(k==null?void 0:k.shop_logo_url)||jc;v.useEffect(()=>{(async()=>{try{const{data:D}=await Q.from("banners").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});D&&D.length>0&&m(D);const{data:X}=await Q.from("categories").select("*").order("sort_order",{ascending:!0});X&&X.length>0&&l(X);const{data:A}=await Q.from("products").select("*").eq("is_featured",!0).eq("is_active",!0).limit(8);A&&A.length>0&&u(A);const{data:q}=await Q.from("products").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(8);q&&q.length>0&&h(q);const{data:{user:L}}=await Q.auth.getUser();if(n(L),L){const{data:J}=await Q.from("user_roles").select("role").eq("user_id",L.id).eq("role","admin").maybeSingle();i(!!J)}}catch(D){console.error("Error fetching data:",D)}finally{p(!1)}})()},[]);const C=o.length>0?o.map(T=>{var D;return{...T,image:T.image_url||((D=Vf.find(X=>X.slug===T.slug))==null?void 0:D.image)||Vf[0].image}}):Vf,I=c.length>0?c:Wf,M=d.length>0?d:Wf.filter(T=>T.is_new),$=f.length>0?f.map(T=>({id:T.id,title:T.title,subtitle:T.subtitle||"",image:T.image_url,link:T.link_url||"/products",badge:""})):Khe;v.useEffect(()=>{if($.length<=1)return;const T=setInterval(()=>{b(D=>(D+1)%$.length)},5e3);return()=>clearInterval(T)},[$.length]),v.useCallback(()=>{b(T=>(T+1)%$.length)},[$.length]),v.useCallback(()=>{b(T=>(T-1+$.length)%$.length)},[$.length]);const W=T=>`${T.toLocaleString("bn-BD")}`,V=(T,D)=>!D||D<=T?null:Math.round((D-T)/D*100),E=(T,D)=>{D.stopPropagation();const X={id:T.id,name:T.name,slug:T.slug,description:"",price:T.price,originalPrice:T.original_price||void 0,images:T.images||[],category:"",rating:T.rating||0,reviewCount:T.review_count||0,stock:100};t(hh({product:X,quantity:1})),t(zb()),G.success("   ")},P=(T,D)=>{D.stopPropagation();const X={id:T.id,name:T.name,slug:T.slug,description:"",price:T.price,originalPrice:T.original_price||void 0,images:T.images||[],category:"",rating:T.rating||0,reviewCount:T.review_count||0,stock:100};t(mP(X))},R=T=>S.some(D=>D.id===T),O=[{icon:Tr,title:"  ",desc:"Easy Exchange"},{icon:ur,title:"   ",desc:"COD Available"},{icon:ic,title:"  ",desc:"Secure Payment"},{icon:hJ,title:"  ",desc:"24/7 Support"}];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("header",{className:"sticky top-0 z-50 bg-background shadow-sm",children:[s.jsx("div",{className:"container-custom py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-6",children:[s.jsx(Ke,{to:"/",className:"flex items-center gap-2 flex-shrink-0",children:s.jsx("img",{src:j,alt:_,className:"h-8 md:h-10 w-auto object-contain",loading:"eager",onError:T=>{const D=T.target;D.src!==jc&&(D.src=jc)}})}),s.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{className:"flex items-center gap-1 px-4 py-2 text-sm font-medium text-foreground hover:text-primary transition-colors",children:["",s.jsx(Yc,{className:"w-4 h-4"})]}),s.jsx("div",{className:"absolute top-full left-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsx("div",{className:"bg-card rounded-lg shadow-xl border border-border py-2 min-w-[180px]",children:C.slice(0,6).map(T=>s.jsx(Ke,{to:`/products?category=${T.slug}`,className:"block px-4 py-2 text-sm text-foreground hover:text-primary hover:bg-muted transition-colors",children:T.name},T.id))})})]}),s.jsx(Ke,{to:"/products?sale=true",className:"px-4 py-2 text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:" "}),s.jsx(Ke,{to:"/products",className:"px-4 py-2 text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:" "})]}),s.jsx("div",{className:"hidden lg:flex flex-1 max-w-lg",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(F,{type:"text",placeholder:"    ",className:"pr-14 h-11 rounded-lg border border-border bg-background focus:border-primary placeholder:text-muted-foreground/70"}),s.jsx(U,{size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-9 w-10 rounded-md bg-orange-500 hover:bg-orange-600",children:s.jsx(as,{className:"h-4 w-4 text-white"})})]})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(U,{variant:"ghost",size:"icon",className:"lg:hidden",children:s.jsx(as,{className:"h-5 w-5"})}),s.jsxs(U,{variant:"ghost",size:"icon",className:"relative",onClick:()=>t(_B()),children:[s.jsx(ln,{className:"h-5 w-5"}),N>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-orange-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:N})]}),s.jsx("div",{className:"hidden md:flex items-center gap-1",children:s.jsx(Ke,{to:r?a?"/admin":"/my-account":"/auth",children:s.jsx(U,{variant:"ghost",size:"icon",children:r&&a?s.jsx(H8,{className:"h-5 w-5"}):s.jsx(Ra,{className:"h-5 w-5"})})})}),s.jsx(U,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>w(!y),children:y?s.jsx(er,{className:"h-5 w-5"}):s.jsx(RC,{className:"h-5 w-5"})})]})]})}),s.jsx(nu,{children:y&&s.jsx(Ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-border bg-background",children:s.jsxs("nav",{className:"container-custom py-4",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(F,{type:"text",placeholder:" ...",className:"pr-12"}),s.jsx(U,{size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 bg-orange-500 hover:bg-orange-600 rounded-md",children:s.jsx(as,{className:"h-4 w-4 text-white"})})]})}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:s.jsx(Ke,{to:"/",className:"block py-2.5 px-3 rounded-lg text-foreground hover:bg-muted font-medium",onClick:()=>w(!1),children:""})}),s.jsx("li",{children:s.jsx(Ke,{to:"/products?sale=true",className:"block py-2.5 px-3 rounded-lg text-foreground hover:bg-muted font-medium",onClick:()=>w(!1),children:" "})}),s.jsx("li",{children:s.jsx(Ke,{to:"/products",className:"block py-2.5 px-3 rounded-lg text-foreground hover:bg-muted font-medium",onClick:()=>w(!1),children:" "})}),s.jsxs("li",{className:"pt-2 border-t border-border mt-2",children:[s.jsx("p",{className:"px-3 py-1 text-xs font-medium text-muted-foreground uppercase",children:""}),C.slice(0,6).map(T=>s.jsx(Ke,{to:`/products?category=${T.slug}`,className:"block py-2 px-3 text-foreground hover:bg-muted rounded-lg",onClick:()=>w(!1),children:T.name},T.id))]})]})]})})})]}),s.jsx("section",{className:"py-6 md:py-8 bg-muted/30",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"relative bg-muted/50 rounded-2xl overflow-hidden shadow-sm",children:[s.jsx(nu,{mode:"wait",children:s.jsx(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"relative aspect-[21/9] md:aspect-[21/8]",children:s.jsx("img",{src:$[x].image,alt:$[x].title,className:"w-full h-full object-cover"})},x)}),$.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-30 flex gap-2",children:$.map((T,D)=>s.jsx("button",{onClick:()=>b(D),className:`h-2 rounded-full transition-all duration-300 ${D===x?"w-6 bg-primary":"w-2 bg-foreground/30 hover:bg-foreground/50"}`},D))})]})})}),s.jsx("section",{className:"py-4 bg-card border-y border-border shadow-sm",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:O.map((T,D)=>{const X=T.icon;return s.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:s.jsx(X,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("p",{className:"font-semibold text-foreground text-sm",children:T.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:T.desc})]})]},D)})})})}),s.jsx("section",{className:"py-10 md:py-14",style:{background:"linear-gradient(180deg, hsl(174, 62%, 47%) 0%, hsl(174, 62%, 55%) 100%)"},children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white",children:" "}),s.jsxs(U,{variant:"ghost",onClick:()=>e("/products"),className:"text-white hover:bg-white/20",children:["  ",s.jsx(Lc,{className:"ml-1 w-4 h-4"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex gap-4 md:gap-8 overflow-x-auto pb-4 scrollbar-hide justify-start md:justify-center",children:C.map((T,D)=>{var X;return s.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:D*.1},className:"flex flex-col items-center cursor-pointer flex-shrink-0",onClick:()=>e(`/products?category=${T.slug}`),children:[s.jsx("div",{className:"w-20 h-20 md:w-28 md:h-28 rounded-full overflow-hidden border-4 border-white shadow-lg hover:scale-105 transition-transform bg-white",children:s.jsx("img",{src:T.image||T.image_url||((X=Vf[D%Vf.length])==null?void 0:X.image),alt:T.name,className:"w-full h-full object-cover"})}),s.jsx("p",{className:"mt-3 text-sm md:text-base font-medium text-white text-center",children:T.name})]},T.id)})}),s.jsx("div",{className:"flex justify-center gap-2 mt-4",children:[0,1,2].map((T,D)=>s.jsx("button",{className:`w-2 h-2 rounded-full transition-all ${D===0?"bg-white w-6":"bg-white/50"}`},D))})]})]})}),s.jsx("section",{className:"py-10 md:py-14 bg-background",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-primary font-medium text-sm tracking-wider uppercase",children:" "}),s.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mt-1",children:[" ",s.jsx("span",{className:"text-primary",children:""})]})]}),s.jsxs(U,{variant:"outline",onClick:()=>e("/products"),className:"rounded-full",children:["  ",s.jsx(Ia,{className:"ml-1 w-4 h-4"})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:I.slice(0,8).map((T,D)=>{var X,A;return s.jsx(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:D*.05},className:"group",children:s.jsxs("div",{className:"bg-card rounded-xl overflow-hidden border border-border hover:border-primary/50 hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>T.slug&&e(`/product/${T.slug}`),children:[s.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden",children:[s.jsx("img",{src:((X=T.images)==null?void 0:X[0])||((A=Wf[D%Wf.length])==null?void 0:A.images[0]),alt:T.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),V(T.price,T.original_price)&&s.jsxs(Ge,{className:"absolute top-3 left-3 bg-destructive text-destructive-foreground",children:["-",V(T.price,T.original_price),"%"]}),T.is_new&&!V(T.price,T.original_price)&&s.jsx(Ge,{className:"absolute top-3 left-3 bg-primary text-primary-foreground",children:""}),s.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(U,{size:"icon",variant:"secondary",className:"w-8 h-8 rounded-full bg-white/90 hover:bg-white shadow-md",onClick:q=>P(T,q),children:s.jsx(Nl,{className:`h-4 w-4 ${R(T.id)?"fill-destructive text-destructive":""}`})}),s.jsx(U,{size:"icon",variant:"secondary",className:"w-8 h-8 rounded-full bg-white/90 hover:bg-white shadow-md",onClick:q=>{q.stopPropagation(),e(`/product/${T.slug}`)},children:s.jsx(_r,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 translate-y-full group-hover:translate-y-0 transition-transform",children:s.jsxs(U,{className:"w-full rounded-full bg-primary text-primary-foreground hover:bg-primary/90",onClick:q=>E(T,q),children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"   "]})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-medium text-foreground mb-2 line-clamp-2 text-sm min-h-[2.5rem]",children:T.name}),s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((q,L)=>s.jsx($C,{className:`w-3 h-3 ${L<4?"fill-amber-400 text-amber-400":"text-muted"}`},L)),s.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",Math.floor(Math.random()*50)+10,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold text-primary",children:W(T.price)}),T.original_price&&T.original_price>T.price&&s.jsx("span",{className:"text-sm text-muted-foreground line-through",children:W(T.original_price)})]})]})]})},T.id)})})]})}),s.jsx("section",{className:"py-10 md:py-14 bg-secondary/30",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(Ue.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 p-8 md:p-10 cursor-pointer group",onClick:()=>e("/products?category=t-shirt"),children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx(Ge,{className:"mb-3 bg-white/20 text-white border-0",children:" "}),s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"- "}),s.jsx("p",{className:"text-white/90 mb-4",children:"%  "}),s.jsxs(U,{className:"bg-white text-blue-600 hover:bg-white/90 rounded-full",children:["  ",s.jsx(Lc,{className:"ml-2 w-4 h-4"})]})]}),s.jsx("div",{className:"absolute -right-10 -bottom-10 w-48 h-48 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"})]}),s.jsxs(Ue.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-slate-700 to-slate-900 p-8 md:p-10 cursor-pointer group",onClick:()=>e("/products?category=jeans"),children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx(Ge,{className:"mb-3 bg-white/20 text-white border-0",children:" "}),s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:" "}),s.jsx("p",{className:"text-white/90 mb-4",children:"  "}),s.jsxs(U,{className:"bg-white text-slate-800 hover:bg-white/90 rounded-full",children:["  ",s.jsx(Lc,{className:"ml-2 w-4 h-4"})]})]}),s.jsx("div",{className:"absolute -right-10 -bottom-10 w-48 h-48 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"})]})]})})}),s.jsx("section",{className:"py-10 md:py-14 bg-background",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-primary font-medium text-sm tracking-wider uppercase",children:" "}),s.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mt-1",children:[" ",s.jsx("span",{className:"text-primary",children:""})]})]}),s.jsxs(U,{variant:"outline",onClick:()=>e("/products"),className:"rounded-full",children:["  ",s.jsx(Ia,{className:"ml-1 w-4 h-4"})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:M.slice(0,4).map((T,D)=>{var X,A;return s.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:D*.1},className:"group cursor-pointer",onClick:()=>T.slug&&e(`/product/${T.slug}`),children:[s.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-card mb-3 border border-border",children:[s.jsx("div",{className:"aspect-[3/4] overflow-hidden",children:s.jsx("img",{src:((X=T.images)==null?void 0:X[0])||((A=Wf[D])==null?void 0:A.images[0]),alt:T.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})}),s.jsx(Ge,{className:"absolute top-3 left-3 bg-accent text-accent-foreground",children:""}),s.jsx(U,{size:"icon",variant:"secondary",className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity rounded-full bg-white/90 hover:bg-white",onClick:q=>P(T,q),children:s.jsx(Nl,{className:`h-4 w-4 ${R(T.id)?"fill-destructive text-destructive":""}`})}),s.jsx("div",{className:"absolute bottom-3 left-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(U,{className:"w-full rounded-full bg-primary/90 backdrop-blur-md text-primary-foreground hover:bg-primary",onClick:q=>E(T,q),children:"  "})})]}),s.jsx("h3",{className:"font-medium text-foreground mb-1 line-clamp-1 text-sm",children:T.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold text-primary",children:W(T.price)}),T.original_price&&T.original_price>T.price&&s.jsx("span",{className:"text-sm text-muted-foreground line-through",children:W(T.original_price)})]})]},T.id)})})]})}),s.jsx("section",{className:"py-12 md:py-16 bg-secondary/50",children:s.jsx("div",{className:"container-custom",children:s.jsx(Ue.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-primary to-accent p-8 md:p-14 text-center",children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-primary-foreground mb-4",children:"%    !"}),s.jsx("p",{className:"text-lg text-primary-foreground/90 mb-8 max-w-2xl mx-auto",children:"      "}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto",children:[s.jsx(F,{type:"text",placeholder:"  ",className:"flex-1 px-6 py-6 rounded-full bg-white/20 backdrop-blur-md border-white/30 text-primary-foreground placeholder:text-primary-foreground/60"}),s.jsx(U,{size:"lg",className:"bg-white text-primary hover:bg-white/90 rounded-full px-8",children:""})]})]})})})}),s.jsx("footer",{className:"bg-foreground text-background py-12 md:py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx("img",{src:j,alt:_,className:"h-10 w-auto object-contain invert",onError:T=>{T.target.src=jc}})}),s.jsx("p",{className:"text-sm text-muted mb-4",children:"      ,  "})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:" "}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted",children:[s.jsx("li",{children:s.jsx(Ke,{to:"/products",className:"hover:text-background transition-colors",children:" "})}),s.jsx("li",{children:s.jsx(Ke,{to:"/products?category=t-shirt",className:"hover:text-background transition-colors",children:"-"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/products?category=jeans",className:"hover:text-background transition-colors",children:""})}),s.jsx("li",{children:s.jsx(Ke,{to:"/about",className:"hover:text-background transition-colors",children:" "})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:""}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted",children:[s.jsx("li",{children:s.jsx(Ke,{to:"/contact",className:"hover:text-background transition-colors",children:""})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-background transition-colors cursor-pointer",children:" "})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-background transition-colors cursor-pointer",children:" "})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-background transition-colors cursor-pointer",children:"FAQ"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:""}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted",children:[s.jsx("li",{children:" 01XXX-XXXXXX"}),s.jsx("li",{children:" info@fashionhub.com"}),s.jsx("li",{children:" , "})]})]})]}),s.jsx("div",{className:"border-t border-muted/20 pt-8 text-center text-sm text-muted",children:s.jsxs("p",{children:["  ",_,"  "]})})]})})]})}const Ij=()=>`purchase_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,Xhe=()=>{const e=Va(),t=en(),r=e.state,n=v.useRef(null),a=v.useRef(!1),i=v.useRef(!1),{isReady:o,setUserData:l}=_u(),{trackPurchase:c}=Nu(),u=(r==null?void 0:r.orderNumber)||"",d=r==null?void 0:r.customerName,h=r==null?void 0:r.phone,f=r==null?void 0:r.total,m=(r==null?void 0:r.items)||[],g=(r==null?void 0:r.numItems)||m.reduce((b,y)=>b+y.quantity,0),p=r==null?void 0:r.city,x=r==null?void 0:r.district;return r==null||r.fromLandingPage,r==null||r.landingPageSlug,v.useEffect(()=>{if(!u||!f||f<=0)return;n.current||(n.current=Ij());const b=(d||"").trim().split(" "),y=b[0]||"",w=b.slice(1).join(" ")||"";(h||y)&&(l==null||l({phone:h,firstName:y,lastName:w}))},[u,f,d,h,l]),v.useEffect(()=>{if(!u||!f||f<=0||a.current)return;a.current=!0;const b=n.current||Ij();n.current=b;const y=m.map(j=>j.productId),w=m.map(j=>j.productName),N=m.map(j=>({id:j.productId,quantity:j.quantity,item_price:j.price})),S=(d||"").trim().split(" "),k=S[0]||"",_=S.slice(1).join(" ")||"";c({orderId:u,contentIds:y.length>0?y:[u],contentNames:w.length>0?w:void 0,contents:N.length>0?N:void 0,value:f,numItems:g||1,currency:"BDT",userData:{phone:h,firstName:k,lastName:_,city:p||x,country:"bd"},eventId:b}).catch(j=>{console.error("[CAPI] Purchase tracking error:",j)})},[u,f,m,g,d,h,p,x,c]),v.useEffect(()=>{if(!u||!f||f<=0||i.current||!o||!window.fbq)return;const b=n.current||Ij();n.current=b;const y=m.map(w=>w.productId);window.fbq("track","Purchase",{content_ids:y.length>0?y:[u],content_type:"product",value:f,currency:"BDT",num_items:g||1},{eventID:b}),i.current=!0},[u,f,m,g,o]),s.jsx("main",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white py-12 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx(Ue.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"text-center mb-8",children:s.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(vi,{className:"h-14 w-14 text-green-600"})})}),s.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"   !"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"     "}),u&&s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 mb-6 border border-green-200",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:" "}),s.jsx("p",{className:"font-mono text-2xl font-bold text-green-700",children:u})]}),(d||h)&&s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 text-left",children:[d&&s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 text-sm",children:""})}),s.jsx("span",{className:"text-gray-700",children:d})]}),h&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(on,{className:"h-4 w-4 text-green-600"})}),s.jsx("span",{className:"text-gray-700",children:h})]})]}),f&&s.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 mb-6 border border-amber-200",children:[s.jsx("p",{className:"text-sm text-amber-700 mb-1",children:" "}),s.jsxs("p",{className:"text-3xl font-bold text-amber-800",children:["",f.toLocaleString()]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mb-8 text-left",children:[s.jsxs("h3",{className:"font-bold text-blue-900 mb-4 flex items-center gap-2",children:[s.jsx(Tr,{className:"h-5 w-5"})," "]}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-blue-800 text-xs font-bold",children:""})}),s.jsx("span",{className:"text-gray-700",children:"         "})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-blue-800 text-xs font-bold",children:""})}),s.jsx("span",{className:"text-gray-700",children:"      "})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-blue-800 text-xs font-bold",children:""})}),s.jsx("span",{className:"text-gray-700",children:"      (  )"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8 p-4 bg-green-50 rounded-xl border border-green-200",children:[s.jsx(ur,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold text-green-800",children:" "}),s.jsx("p",{className:"text-sm text-green-700",children:" -     - "})]})]}),s.jsxs("div",{className:"text-center mb-8 p-4 bg-gray-50 rounded-xl",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"   "}),s.jsx("a",{href:"tel:+8801995909243",className:"text-xl font-bold text-primary hover:underline",children:" +880 1995-909243"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(U,{onClick:()=>t("/"),variant:"outline",size:"lg",className:"gap-2",children:[s.jsx(q8,{className:"h-5 w-5"})," "]}),s.jsxs(U,{onClick:()=>t("/products"),size:"lg",className:"gap-2 bg-green-600 hover:bg-green-700",children:["  ",s.jsx(Lc,{className:"h-5 w-5"})]})]})]}),s.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[s.jsx("span",{className:"text-2xl block mb-1",children:""}),s.jsx("p",{className:"text-xs text-gray-600",children:" "})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[s.jsx("span",{className:"text-2xl block mb-1",children:""}),s.jsx("p",{className:"text-xs text-gray-600",children:" "})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[s.jsx("span",{className:"text-2xl block mb-1",children:""}),s.jsx("p",{className:"text-xs text-gray-600",children:"% "})]})]})]})})};var Yhe=v.createContext(void 0);function Fg(e){const t=v.useContext(Yhe);return e||t||"ltr"}var Mj="rovingFocusGroup.onEntryFocus",Qhe={bubbles:!1,cancelable:!0},Bg="RovingFocusGroup",[US,Cz,Zhe]=yb(Bg),[Jhe,Pz]=On(Bg,[Zhe]),[efe,tfe]=Jhe(Bg),Ez=v.forwardRef((e,t)=>s.jsx(US.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(US.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(rfe,{...e,ref:t})})}));Ez.displayName=Bg;var rfe=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=v.useRef(null),m=lt(t,f),g=Fg(i),[p,x]=Es({prop:o,defaultProp:l??null,onChange:c,caller:Bg}),[b,y]=v.useState(!1),w=Br(u),N=Cz(r),S=v.useRef(!1),[k,_]=v.useState(0);return v.useEffect(()=>{const j=f.current;if(j)return j.addEventListener(Mj,w),()=>j.removeEventListener(Mj,w)},[w]),s.jsx(efe,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:v.useCallback(j=>x(j),[x]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>_(j=>j+1),[]),onFocusableItemRemove:v.useCallback(()=>_(j=>j-1),[]),children:s.jsx(Be.div,{tabIndex:b||k===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{S.current=!0}),onFocus:Ie(e.onFocus,j=>{const C=!S.current;if(j.target===j.currentTarget&&C&&!b){const I=new CustomEvent(Mj,Qhe);if(j.currentTarget.dispatchEvent(I),!I.defaultPrevented){const M=N().filter(P=>P.focusable),$=M.find(P=>P.active),W=M.find(P=>P.id===p),E=[$,W,...M].filter(Boolean).map(P=>P.ref.current);Az(E,d)}}S.current=!1}),onBlur:Ie(e.onBlur,()=>y(!1))})})}),Tz="RovingFocusGroupItem",Oz=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ks(),u=i||c,d=tfe(Tz,r),h=d.currentTabStopId===u,f=Cz(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return v.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),s.jsx(US.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Be.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ie(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:Ie(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ie(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=afe(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=f().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const N=w.indexOf(x.currentTarget);w=d.loop?ife(w,N+1):w.slice(N+1)}setTimeout(()=>Az(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});Oz.displayName=Tz;var nfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sfe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function afe(e,t,r){const n=sfe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return nfe[n]}function Az(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ife(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ofe=Ez,lfe=Oz,Kb="Tabs",[cfe,MHe]=On(Kb,[Pz]),Iz=Pz(),[ufe,ZP]=cfe(Kb),Mz=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Fg(l),[h,f]=Es({prop:n,onChange:a,defaultProp:i??"",caller:Kb});return s.jsx(ufe,{scope:r,baseId:Ks(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(Be.div,{dir:d,"data-orientation":o,...u,ref:t})})});Mz.displayName=Kb;var Rz="TabsList",$z=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=ZP(Rz,r),o=Iz(r);return s.jsx(ofe,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Be.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});$z.displayName=Rz;var Dz="TabsTrigger",Lz=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=ZP(Dz,r),l=Iz(r),c=zz(o.baseId,n),u=Uz(o.baseId,n),d=n===o.value;return s.jsx(lfe,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ie(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ie(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ie(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(n)})})})});Lz.displayName=Dz;var Fz="TabsContent",Bz=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=ZP(Fz,r),c=zz(l.baseId,n),u=Uz(l.baseId,n),d=n===l.value,h=v.useRef(d);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(Wn,{present:a||d,children:({present:f})=>s.jsx(Be.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});Bz.displayName=Fz;function zz(e,t){return`${e}-trigger-${t}`}function Uz(e,t){return`${e}-content-${t}`}var dfe=Mz,Vz=$z,Wz=Lz,qz=Bz;const wi=dfe,Fa=v.forwardRef(({className:e,...t},r)=>s.jsx(Vz,{ref:r,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Fa.displayName=Vz.displayName;const It=v.forwardRef(({className:e,...t},r)=>s.jsx(Wz,{ref:r,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));It.displayName=Wz.displayName;const Ht=v.forwardRef(({className:e,...t},r)=>s.jsx(qz,{ref:r,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ht.displayName=qz.displayName;var Tt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Tt||(Tt={}));var NM;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(NM||(NM={}));const Le=Tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Do=e=>{switch(typeof e){case"undefined":return Le.undefined;case"string":return Le.string;case"number":return Number.isNaN(e)?Le.nan:Le.number;case"boolean":return Le.boolean;case"function":return Le.function;case"bigint":return Le.bigint;case"symbol":return Le.symbol;case"object":return Array.isArray(e)?Le.array:e===null?Le.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Le.promise:typeof Map<"u"&&e instanceof Map?Le.map:typeof Set<"u"&&e instanceof Set?Le.set:typeof Date<"u"&&e instanceof Date?Le.date:Le.object;default:return Le.unknown}},ye=Tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ji extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof ji))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ji.create=e=>new ji(e);const VS=(e,t)=>{let r;switch(e.code){case ye.invalid_type:e.received===Le.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Tt.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${Tt.joinValues(e.keys,", ")}`;break;case ye.invalid_union:r="Invalid input";break;case ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Tt.joinValues(e.options)}`;break;case ye.invalid_enum_value:r=`Invalid enum value. Expected ${Tt.joinValues(e.options)}, received '${e.received}'`;break;case ye.invalid_arguments:r="Invalid function arguments";break;case ye.invalid_return_type:r="Invalid function return type";break;case ye.invalid_date:r="Invalid date";break;case ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Tt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ye.custom:r="Invalid input";break;case ye.invalid_intersection_types:r="Intersection results could not be merged";break;case ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,Tt.assertNever(e)}return{message:r}};let hfe=VS;function ffe(){return hfe}const mfe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Ae(e,t){const r=ffe(),n=mfe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===VS?void 0:VS].filter(a=>!!a)});e.common.issues.push(n)}class Ts{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return st;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Ts.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return st;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const st=Object.freeze({status:"aborted"}),gm=e=>({status:"dirty",value:e}),ra=e=>({status:"valid",value:e}),SM=e=>e.status==="aborted",kM=e=>e.status==="dirty",ph=e=>e.status==="valid",Hy=e=>typeof Promise<"u"&&e instanceof Promise;var ze;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ze||(ze={}));class Tl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const CM=(e,t)=>{if(ph(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ji(e.common.issues);return this._error=r,this._error}}};function vt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Pt{get description(){return this._def.description}_getType(t){return Do(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Do(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ts,ctx:{common:t.parent.common,data:t.data,parsedType:Do(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Hy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Do(t)},a=this._parseSync({data:t,path:n.path,parent:n});return CM(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Do(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return ph(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>ph(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Do(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Hy(a)?a:Promise.resolve(a));return CM(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ye.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new vh({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return gl.create(this,this._def)}nullable(){return xh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mi.create(this)}promise(){return Yy.create(this,this._def)}or(t){return Ky.create([this,t],this._def)}and(t){return Xy.create(this,t,this._def)}transform(t){return new vh({...vt(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new HS({...vt(this._def),innerType:this,defaultValue:r,typeName:at.ZodDefault})}brand(){return new Dfe({typeName:at.ZodBranded,type:this,...vt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new GS({...vt(this._def),innerType:this,catchValue:r,typeName:at.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return JP.create(this,t)}readonly(){return KS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pfe=/^c[^\s-]{8,}$/i,gfe=/^[0-9a-z]+$/,vfe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xfe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yfe=/^[a-z0-9_-]{21}$/i,bfe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,wfe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jfe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_fe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rj;const Nfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Cfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Pfe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Efe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Tfe=new RegExp(`^${Hz}$`);function Gz(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Ofe(e){return new RegExp(`^${Gz(e)}$`)}function Afe(e){let t=`${Hz}T${Gz(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Ife(e,t){return!!((t==="v4"||!t)&&Nfe.test(e)||(t==="v6"||!t)&&kfe.test(e))}function Mfe(e,t){if(!bfe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Rfe(e,t){return!!((t==="v4"||!t)&&Sfe.test(e)||(t==="v6"||!t)&&Cfe.test(e))}class rl extends Pt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Le.string){const i=this._getOrReturnCtx(t);return Ae(i,{code:ye.invalid_type,expected:Le.string,received:i.parsedType}),st}const n=new Ts;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ae(a,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ae(a,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")jfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"email",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Rj||(Rj=new RegExp(_fe,"u")),Rj.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"emoji",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")xfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"uuid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")yfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"nanoid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")pfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cuid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")gfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cuid2",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")vfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"ulid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ae(a,{validation:"url",code:ye.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"regex",code:ye.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:ye.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:ye.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:ye.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Afe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:ye.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Tfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:ye.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Ofe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:ye.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?wfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"duration",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Ife(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"ip",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Mfe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"jwt",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Rfe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cidr",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Pfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"base64",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Efe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"base64url",code:ye.invalid_string,message:i.message}),n.dirty()):Tt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ye.invalid_string,...ze.errToObj(n)})}_addCheck(t){return new rl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ze.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ze.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ze.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ze.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ze.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ze.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ze.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ze.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ze.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ze.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ze.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ze.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ze.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ze.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ze.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ze.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ze.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ze.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ze.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ze.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ze.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ze.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ze.errToObj(r)})}nonempty(t){return this.min(1,ze.errToObj(t))}trim(){return new rl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}rl.create=e=>new rl({checks:[],typeName:at.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...vt(e)});function $fe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Pp extends Pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Le.number){const i=this._getOrReturnCtx(t);return Ae(i,{code:ye.invalid_type,expected:Le.number,received:i.parsedType}),st}let n;const a=new Ts;for(const i of this._def.checks)i.kind==="int"?Tt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?$fe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.not_finite,message:i.message}),a.dirty()):Tt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ze.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ze.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ze.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ze.toString(r))}setLimit(t,r,n,a){return new Pp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ze.toString(a)}]})}_addCheck(t){return new Pp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ze.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ze.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ze.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ze.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ze.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Tt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Pp.create=e=>new Pp({checks:[],typeName:at.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...vt(e)});class Ep extends Pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Le.bigint)return this._getInvalidInput(t);let n;const a=new Ts;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Tt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:ye.invalid_type,expected:Le.bigint,received:r.parsedType}),st}gte(t,r){return this.setLimit("min",t,!0,ze.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ze.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ze.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ze.toString(r))}setLimit(t,r,n,a){return new Ep({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ze.toString(a)}]})}_addCheck(t){return new Ep({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ep.create=e=>new Ep({checks:[],typeName:at.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...vt(e)});class PM extends Pt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Le.boolean){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Le.boolean,received:n.parsedType}),st}return ra(t.data)}}PM.create=e=>new PM({typeName:at.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...vt(e)});class Gy extends Pt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Le.date){const i=this._getOrReturnCtx(t);return Ae(i,{code:ye.invalid_type,expected:Le.date,received:i.parsedType}),st}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ae(i,{code:ye.invalid_date}),st}const n=new Ts;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:ye.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:ye.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Tt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Gy({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ze.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ze.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Gy.create=e=>new Gy({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:at.ZodDate,...vt(e)});class EM extends Pt{_parse(t){if(this._getType(t)!==Le.symbol){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Le.symbol,received:n.parsedType}),st}return ra(t.data)}}EM.create=e=>new EM({typeName:at.ZodSymbol,...vt(e)});class TM extends Pt{_parse(t){if(this._getType(t)!==Le.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Le.undefined,received:n.parsedType}),st}return ra(t.data)}}TM.create=e=>new TM({typeName:at.ZodUndefined,...vt(e)});class OM extends Pt{_parse(t){if(this._getType(t)!==Le.null){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Le.null,received:n.parsedType}),st}return ra(t.data)}}OM.create=e=>new OM({typeName:at.ZodNull,...vt(e)});class AM extends Pt{constructor(){super(...arguments),this._any=!0}_parse(t){return ra(t.data)}}AM.create=e=>new AM({typeName:at.ZodAny,...vt(e)});class IM extends Pt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ra(t.data)}}IM.create=e=>new IM({typeName:at.ZodUnknown,...vt(e)});class Ol extends Pt{_parse(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:ye.invalid_type,expected:Le.never,received:r.parsedType}),st}}Ol.create=e=>new Ol({typeName:at.ZodNever,...vt(e)});class MM extends Pt{_parse(t){if(this._getType(t)!==Le.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Le.void,received:n.parsedType}),st}return ra(t.data)}}MM.create=e=>new MM({typeName:at.ZodVoid,...vt(e)});class mi extends Pt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Le.array)return Ae(r,{code:ye.invalid_type,expected:Le.array,received:r.parsedType}),st;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ae(r,{code:o?ye.too_big:ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ae(r,{code:ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ae(r,{code:ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Tl(r,o,r.path,l)))).then(o=>Ts.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Tl(r,o,r.path,l)));return Ts.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new mi({...this._def,minLength:{value:t,message:ze.toString(r)}})}max(t,r){return new mi({...this._def,maxLength:{value:t,message:ze.toString(r)}})}length(t,r){return new mi({...this._def,exactLength:{value:t,message:ze.toString(r)}})}nonempty(t){return this.min(1,t)}}mi.create=(e,t)=>new mi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...vt(t)});function td(e){if(e instanceof Sr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=gl.create(td(n))}return new Sr({...e._def,shape:()=>t})}else return e instanceof mi?new mi({...e._def,type:td(e.element)}):e instanceof gl?gl.create(td(e.unwrap())):e instanceof xh?xh.create(td(e.unwrap())):e instanceof su?su.create(e.items.map(t=>td(t))):e}class Sr extends Pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Tt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Le.object){const u=this._getOrReturnCtx(t);return Ae(u,{code:ye.invalid_type,expected:Le.object,received:u.parsedType}),st}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ol&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Tl(a,h,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ol){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Ae(a,{code:ye.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Tl(a,h,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Ts.mergeObjectSync(n,u)):Ts.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ze.errToObj,new Sr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ze.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Sr({...this._def,unknownKeys:"strip"})}passthrough(){return new Sr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Sr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Sr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:at.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Sr({...this._def,catchall:t})}pick(t){const r={};for(const n of Tt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Sr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Tt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Sr({...this._def,shape:()=>r})}deepPartial(){return td(this)}partial(t){const r={};for(const n of Tt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Sr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Tt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof gl;)i=i._def.innerType;r[n]=i}return new Sr({...this._def,shape:()=>r})}keyof(){return Kz(Tt.objectKeys(this.shape))}}Sr.create=(e,t)=>new Sr({shape:()=>e,unknownKeys:"strip",catchall:Ol.create(),typeName:at.ZodObject,...vt(t)});Sr.strictCreate=(e,t)=>new Sr({shape:()=>e,unknownKeys:"strict",catchall:Ol.create(),typeName:at.ZodObject,...vt(t)});Sr.lazycreate=(e,t)=>new Sr({shape:e,unknownKeys:"strip",catchall:Ol.create(),typeName:at.ZodObject,...vt(t)});class Ky extends Pt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ji(l.ctx.common.issues));return Ae(r,{code:ye.invalid_union,unionErrors:o}),st}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ji(c));return Ae(r,{code:ye.invalid_union,unionErrors:l}),st}}get options(){return this._def.options}}Ky.create=(e,t)=>new Ky({options:e,typeName:at.ZodUnion,...vt(t)});function WS(e,t){const r=Do(e),n=Do(t);if(e===t)return{valid:!0,data:e};if(r===Le.object&&n===Le.object){const a=Tt.objectKeys(t),i=Tt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=WS(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Le.array&&n===Le.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=WS(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Le.date&&n===Le.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Xy extends Pt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(SM(i)||SM(o))return st;const l=WS(i.value,o.value);return l.valid?((kM(i)||kM(o))&&r.dirty(),{status:r.value,value:l.data}):(Ae(n,{code:ye.invalid_intersection_types}),st)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Xy.create=(e,t,r)=>new Xy({left:e,right:t,typeName:at.ZodIntersection,...vt(r)});class su extends Pt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.array)return Ae(n,{code:ye.invalid_type,expected:Le.array,received:n.parsedType}),st;if(n.data.length<this._def.items.length)return Ae(n,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),st;!this._def.rest&&n.data.length>this._def.items.length&&(Ae(n,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Tl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ts.mergeArray(r,o)):Ts.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new su({...this._def,rest:t})}}su.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new su({items:e,typeName:at.ZodTuple,rest:null,...vt(t)})};class RM extends Pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.map)return Ae(n,{code:ye.invalid_type,expected:Le.map,received:n.parsedType}),st;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Tl(n,l,n.path,[u,"key"])),value:i._parse(new Tl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return st;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return st;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}RM.create=(e,t,r)=>new RM({valueType:t,keyType:e,typeName:at.ZodMap,...vt(r)});class Tp extends Pt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.set)return Ae(n,{code:ye.invalid_type,expected:Le.set,received:n.parsedType}),st;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ae(n,{code:ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ae(n,{code:ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return st;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Tl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Tp({...this._def,minSize:{value:t,message:ze.toString(r)}})}max(t,r){return new Tp({...this._def,maxSize:{value:t,message:ze.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Tp.create=(e,t)=>new Tp({valueType:e,minSize:null,maxSize:null,typeName:at.ZodSet,...vt(t)});class $M extends Pt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}$M.create=(e,t)=>new $M({getter:e,typeName:at.ZodLazy,...vt(t)});class qS extends Pt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ae(r,{received:r.data,code:ye.invalid_literal,expected:this._def.value}),st}return{status:"valid",value:t.data}}get value(){return this._def.value}}qS.create=(e,t)=>new qS({value:e,typeName:at.ZodLiteral,...vt(t)});function Kz(e,t){return new gh({values:e,typeName:at.ZodEnum,...vt(t)})}class gh extends Pt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{expected:Tt.joinValues(n),received:r.parsedType,code:ye.invalid_type}),st}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{received:r.data,code:ye.invalid_enum_value,options:n}),st}return ra(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return gh.create(t,{...this._def,...r})}exclude(t,r=this._def){return gh.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}gh.create=Kz;class DM extends Pt{_parse(t){const r=Tt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Le.string&&n.parsedType!==Le.number){const a=Tt.objectValues(r);return Ae(n,{expected:Tt.joinValues(a),received:n.parsedType,code:ye.invalid_type}),st}if(this._cache||(this._cache=new Set(Tt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Tt.objectValues(r);return Ae(n,{received:n.data,code:ye.invalid_enum_value,options:a}),st}return ra(t.data)}get enum(){return this._def.values}}DM.create=(e,t)=>new DM({values:e,typeName:at.ZodNativeEnum,...vt(t)});class Yy extends Pt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Le.promise&&r.common.async===!1)return Ae(r,{code:ye.invalid_type,expected:Le.promise,received:r.parsedType}),st;const n=r.parsedType===Le.promise?r.data:Promise.resolve(r.data);return ra(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Yy.create=(e,t)=>new Yy({type:e,typeName:at.ZodPromise,...vt(t)});class vh extends Pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ae(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return st;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?st:c.status==="dirty"||r.value==="dirty"?gm(c.value):c});{if(r.value==="aborted")return st;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?st:l.status==="dirty"||r.value==="dirty"?gm(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?st:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?st:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ph(o))return st;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ph(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):st);Tt.assertNever(a)}}vh.create=(e,t,r)=>new vh({schema:e,typeName:at.ZodEffects,effect:t,...vt(r)});vh.createWithPreprocess=(e,t,r)=>new vh({schema:t,effect:{type:"preprocess",transform:e},typeName:at.ZodEffects,...vt(r)});class gl extends Pt{_parse(t){return this._getType(t)===Le.undefined?ra(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gl.create=(e,t)=>new gl({innerType:e,typeName:at.ZodOptional,...vt(t)});class xh extends Pt{_parse(t){return this._getType(t)===Le.null?ra(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xh.create=(e,t)=>new xh({innerType:e,typeName:at.ZodNullable,...vt(t)});class HS extends Pt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}HS.create=(e,t)=>new HS({innerType:e,typeName:at.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...vt(t)});class GS extends Pt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Hy(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ji(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ji(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}GS.create=(e,t)=>new GS({innerType:e,typeName:at.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...vt(t)});class LM extends Pt{_parse(t){if(this._getType(t)!==Le.nan){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Le.nan,received:n.parsedType}),st}return{status:"valid",value:t.data}}}LM.create=e=>new LM({typeName:at.ZodNaN,...vt(e)});class Dfe extends Pt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class JP extends Pt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?st:i.status==="dirty"?(r.dirty(),gm(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?st:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new JP({in:t,out:r,typeName:at.ZodPipeline})}}class KS extends Pt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(ph(a)&&(a.value=Object.freeze(a.value)),a);return Hy(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}KS.create=(e,t)=>new KS({innerType:e,typeName:at.ZodReadonly,...vt(t)});Sr.lazycreate;var at;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(at||(at={}));const nl=rl.create;Ol.create;mi.create;const eE=Sr.create;Sr.strictCreate;Ky.create;Xy.create;su.create;const FM=qS.create;gh.create;Yy.create;gl.create;xh.create;const Lfe=eE({email:nl().email("  "),password:nl().min(6,"     ")}),Ffe=eE({phone:nl().regex(/^01[3-9]\d{8}$/,"    (01XXXXXXXXX)"),password:nl().min(6,"     ")}),Bfe=eE({fullName:nl().min(2,"     ").max(100),email:nl().email("  ").max(255).optional().or(FM("")),phone:nl().regex(/^01[3-9]\d{8}$/,"   ").optional().or(FM("")),password:nl().min(6,"     ").max(100)}).refine(e=>e.email||e.phone,{message:"       ",path:["email"]}),zfe=()=>{const[e,t]=v.useState(!0),[r,n]=v.useState(!1),[a,i]=v.useState("phone"),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,h]=v.useState({fullName:"",email:"",phone:"",password:""}),[f,m]=v.useState(""),[g,p]=v.useState({}),{signIn:x,signUp:b,user:y}=zl(),w=en();v.useEffect(()=>{(async()=>{if(y){const{data:j}=await Q.from("user_roles").select("role").eq("user_id",y.id).eq("role","admin").maybeSingle();w(j?"/admin":"/my-account")}})()},[y,w]);const N=()=>{try{return e?a==="email"?Lfe.parse({email:d.email,password:d.password}):Ffe.parse({phone:d.phone,password:d.password}):Bfe.parse(d),p({}),!0}catch(_){if(_ instanceof ji){const j={};_.errors.forEach(C=>{C.path[0]&&(j[C.path[0]]=C.message)}),p(j)}return!1}},S=async _=>{if(_.preventDefault(),!!N()){u(!0);try{if(e){const j=a==="phone"?`${d.phone}@phone.local`:d.email,{error:C}=await x(j,d.password);if(C)C.message.includes("Invalid login credentials")?G.error(" /  "):C.message.includes("Email not confirmed")?G.error("   "):G.error("  ");else{G.success("  !");const{data:{user:I}}=await Q.auth.getUser();if(I){const{data:M}=await Q.from("user_roles").select("role").eq("user_id",I.id).eq("role","admin").maybeSingle();w(M?"/admin":"/my-account")}}}else{const j=d.email||`${d.phone}@phone.local`,{error:C}=await b(j,d.password,d.fullName,d.phone||void 0);C?C.message.includes("already registered")?G.error(" /      "):G.error("   "):(G.success("  !"),w("/my-account"))}}finally{u(!1)}}},k=async _=>{if(_.preventDefault(),!f){G.error(" ");return}u(!0);try{const j=`${window.location.origin}/reset-password`,{error:C}=await Q.auth.resetPasswordForEmail(f,{redirectTo:j});C?G.error("    "):(G.success("     !"),n(!1),m(""))}catch{G.error("  ")}finally{u(!1)}};return r?s.jsx("div",{className:"min-h-screen flex pt-32 pb-16 bg-muted/30",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-card rounded-2xl shadow-xl border border-border overflow-hidden",children:[s.jsxs("div",{className:"gradient-hero p-8 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-foreground/10 mb-4",children:s.jsx(Li,{className:"h-8 w-8 text-primary-foreground"})}),s.jsx("h1",{className:"text-2xl font-display font-bold text-primary-foreground mb-2",children:"  ?"}),s.jsx("p",{className:"text-primary-foreground/80",children:"     "})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(F,{type:"email",placeholder:"example@email.com",value:f,onChange:_=>m(_.target.value),className:"pl-10"})]})]}),s.jsx(U,{type:"submit",variant:"cta",size:"lg",className:"w-full",disabled:c,children:c?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):"  "})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("button",{type:"button",onClick:()=>n(!1),className:"text-primary font-medium hover:underline inline-flex items-center gap-1",children:[s.jsx(ih,{className:"h-4 w-4"}),"  "]})})]})]})})})}):s.jsx("div",{className:"min-h-screen flex pt-32 pb-16 bg-muted/30",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-card rounded-2xl shadow-xl border border-border overflow-hidden",children:[s.jsxs("div",{className:"gradient-hero p-8 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-foreground/10 mb-4",children:s.jsx(ln,{className:"h-8 w-8 text-primary-foreground"})}),s.jsx("h1",{className:"text-2xl font-display font-bold text-primary-foreground mb-2",children:e?" ":"  "}),s.jsx("p",{className:"text-primary-foreground/80",children:e?"   ":"     "})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e?s.jsx(s.Fragment,{children:s.jsxs(wi,{value:a,onValueChange:_=>i(_),children:[s.jsxs(Fa,{className:"grid w-full grid-cols-2",children:[s.jsxs(It,{value:"phone",className:"flex items-center gap-2",children:[s.jsx(on,{className:"h-4 w-4"}),""]}),s.jsxs(It,{value:"email",className:"flex items-center gap-2",children:[s.jsx(Li,{className:"h-4 w-4"}),""]})]}),s.jsx(Ht,{value:"email",className:"mt-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(F,{type:"email",placeholder:"example@email.com",value:d.email,onChange:_=>h({...d,email:_.target.value}),className:"pl-10"})]}),g.email&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.email})]})}),s.jsx(Ht,{value:"phone",className:"mt-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(F,{type:"tel",placeholder:"01XXXXXXXXX",value:d.phone,onChange:_=>h({...d,phone:_.target.value}),className:"pl-10"})]}),g.phone&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.phone})]})})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(Ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(F,{type:"text",placeholder:" ",value:d.fullName,onChange:_=>h({...d,fullName:_.target.value}),className:"pl-10"})]}),g.fullName&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.fullName})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:[" ",s.jsx("span",{className:"text-muted-foreground text-xs",children:"(    )"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(F,{type:"email",placeholder:"example@email.com",value:d.email,onChange:_=>h({...d,email:_.target.value}),className:"pl-10"})]}),g.email&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.email})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["  ",s.jsx("span",{className:"text-muted-foreground text-xs",children:"(    )"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(F,{type:"tel",placeholder:"01XXXXXXXXX",value:d.phone,onChange:_=>h({...d,phone:_.target.value}),className:"pl-10"})]}),g.phone&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.phone})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(gJ,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(F,{type:o?"text":"password",placeholder:"",value:d.password,onChange:_=>h({...d,password:_.target.value}),className:"pl-10 pr-10"}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?s.jsx(ni,{className:"h-5 w-5"}):s.jsx(_r,{className:"h-5 w-5"})})]}),g.password&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.password})]}),e&&a==="email"&&s.jsx("div",{className:"text-right",children:s.jsx("button",{type:"button",onClick:()=>n(!0),className:"text-sm text-primary hover:underline",children:"  ?"})}),s.jsx(U,{type:"submit",variant:"cta",size:"lg",className:"w-full",disabled:c,children:c?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):s.jsxs(s.Fragment,{children:[e?" ":"  ",s.jsx(Lc,{className:"h-5 w-5 ml-2"})]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[e?" ?":"  ?"," ",s.jsx("button",{type:"button",onClick:()=>{t(!e),p({})},className:"text-primary font-medium hover:underline",children:e?"  ":" "})]})})]})]})})})})},me=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const we=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:de("flex flex-col space-y-1.5 p-6",e),...t}));we.displayName="CardHeader";const _e=v.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:de("text-2xl font-semibold leading-none tracking-tight",e),...t}));_e.displayName="CardTitle";const nt=v.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:de("text-sm text-muted-foreground",e),...t}));nt.displayName="CardDescription";const pe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:de("p-6 pt-0",e),...t}));pe.displayName="CardContent";const Ufe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:de("flex items-center p-6 pt-0",e),...t}));Ufe.displayName="CardFooter";function St({className:e,...t}){return s.jsx("div",{className:de("animate-pulse rounded-md bg-muted",e),...t})}function yt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Os(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function $n(e,t){const r=yt(e);return isNaN(t)?Os(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ba(e,t){const r=yt(e);if(isNaN(t))return Os(e,NaN);if(!t)return r;const n=r.getDate(),a=Os(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const tE=6048e5,Vfe=864e5;let Wfe={};function zg(){return Wfe}function za(e,t){var l,c,u,d;const r=zg(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=yt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function au(e){return za(e,{weekStartsOn:1})}function Xz(e){const t=yt(e),r=t.getFullYear(),n=Os(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=au(n),i=Os(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=au(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function xs(e){const t=yt(e);return t.setHours(0,0,0,0),t}function Qy(e){const t=yt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ii(e,t){const r=xs(e),n=xs(t),a=+r-Qy(r),i=+n-Qy(n);return Math.round((a-i)/Vfe)}function qfe(e){const t=Xz(e),r=Os(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),au(r)}function XS(e,t){const r=t*7;return $n(e,r)}function Hfe(e,t){return Ba(e,t*12)}function Gfe(e){let t;return e.forEach(function(r){const n=yt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Kfe(e){let t;return e.forEach(r=>{const n=yt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function es(e,t){const r=xs(e),n=xs(t);return+r==+n}function rE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Xfe(e){if(!rE(e)&&typeof e!="number")return!1;const t=yt(e);return!isNaN(Number(t))}function Op(e,t){const r=yt(e),n=yt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Yfe(e,t,r){const n=za(e,r),a=za(t,r),i=+n-Qy(n),o=+a-Qy(a);return Math.round((i-o)/tE)}function Fi(e){const t=yt(e);return t.setHours(23,59,59,999),t}function Xb(e){const t=yt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Bn(e){const t=yt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Yz(e){const t=yt(e),r=Os(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Yb(e,t){var l,c,u,d;const r=zg(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=yt(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Qz(e){return Yb(e,{weekStartsOn:1})}const Qfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zfe=(e,t,r)=>{let n;const a=Qfe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Md(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Jfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rme={date:Md({formats:Jfe,defaultWidth:"full"}),time:Md({formats:eme,defaultWidth:"full"}),dateTime:Md({formats:tme,defaultWidth:"full"})},nme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sme=(e,t,r,n)=>nme[e];function ti(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const ame={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ime={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ome={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ume={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dme=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hme={ordinalNumber:dme,era:ti({values:ame,defaultWidth:"wide"}),quarter:ti({values:ime,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ti({values:ome,defaultWidth:"wide"}),day:ti({values:lme,defaultWidth:"wide"}),dayPeriod:ti({values:cme,defaultWidth:"wide",formattingValues:ume,defaultFormattingWidth:"wide"})};function ri(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mme(l,h=>h.test(o)):fme(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function fme(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function mme(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Zz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const pme=/^(\d+)(th|st|nd|rd)?/i,gme=/\d+/i,vme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xme={any:[/^b/i,/^(a|c)/i]},yme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bme={any:[/1/i,/2/i,/3/i,/4/i]},wme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_me={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cme={ordinalNumber:Zz({matchPattern:pme,parsePattern:gme,valueCallback:e=>parseInt(e,10)}),era:ri({matchPatterns:vme,defaultMatchWidth:"wide",parsePatterns:xme,defaultParseWidth:"any"}),quarter:ri({matchPatterns:yme,defaultMatchWidth:"wide",parsePatterns:bme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ri({matchPatterns:wme,defaultMatchWidth:"wide",parsePatterns:jme,defaultParseWidth:"any"}),day:ri({matchPatterns:_me,defaultMatchWidth:"wide",parsePatterns:Nme,defaultParseWidth:"any"}),dayPeriod:ri({matchPatterns:Sme,defaultMatchWidth:"any",parsePatterns:kme,defaultParseWidth:"any"})},Jz={code:"en-US",formatDistance:Zfe,formatLong:rme,formatRelative:sme,localize:hme,match:Cme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pme(e){const t=yt(e);return ii(t,Yz(t))+1}function e7(e){const t=yt(e),r=+au(t)-+qfe(t);return Math.round(r/tE)+1}function t7(e,t){var d,h,f,m;const r=yt(e),n=r.getFullYear(),a=zg(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Os(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=za(o,t),c=Os(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=za(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Eme(e,t){var l,c,u,d;const r=zg(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=t7(e,t),i=Os(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),za(i,t)}function r7(e,t){const r=yt(e),n=+za(r,t)-+Eme(r,t);return Math.round(n/tE)+1}function Lt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Eo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Lt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Lt(r+1,2)},d(e,t){return Lt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Lt(e.getHours()%12||12,t.length)},H(e,t){return Lt(e.getHours(),t.length)},m(e,t){return Lt(e.getMinutes(),t.length)},s(e,t){return Lt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Lt(a,t.length)}},Bu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Eo.y(e,t)},Y:function(e,t,r,n){const a=t7(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Lt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Lt(i,t.length)},R:function(e,t){const r=Xz(e);return Lt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Lt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Lt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Lt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Eo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Lt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=r7(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Lt(a,t.length)},I:function(e,t,r){const n=e7(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Lt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Eo.d(e,t)},D:function(e,t,r){const n=Pme(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Lt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Lt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Lt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Lt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Bu.noon:n===0?a=Bu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Bu.evening:n>=12?a=Bu.afternoon:n>=4?a=Bu.morning:a=Bu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Eo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Eo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Eo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Eo.s(e,t)},S:function(e,t){return Eo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return UM(n);case"XXXX":case"XX":return cc(n);case"XXXXX":case"XXX":default:return cc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return UM(n);case"xxxx":case"xx":return cc(n);case"xxxxx":case"xxx":default:return cc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zM(n,":");case"OOOO":default:return"GMT"+cc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zM(n,":");case"zzzz":default:return"GMT"+cc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Lt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Lt(n,t.length)}};function zM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Lt(i,2)}function UM(e,t){return e%60===0?(e>0?"-":"+")+Lt(Math.abs(e)/60,2):cc(e,t)}function cc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Lt(Math.trunc(n/60),2),i=Lt(n%60,2);return r+a+t+i}const VM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},n7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Tme=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return VM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",VM(n,t)).replace("{{time}}",n7(a,t))},Ome={p:n7,P:Tme},Ame=/^D+$/,Ime=/^Y+$/,Mme=["D","DD","YY","YYYY"];function Rme(e){return Ame.test(e)}function $me(e){return Ime.test(e)}function Dme(e,t,r){const n=Lme(e,t,r);if(console.warn(n),Mme.includes(e))throw new RangeError(n)}function Lme(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zme=/^'([^]*?)'?$/,Ume=/''/g,Vme=/[a-zA-Z]/;function ot(e,t,r){var d,h,f,m,g,p,x,b;const n=zg(),a=(r==null?void 0:r.locale)??n.locale??Jz,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(x=n.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,l=yt(e);if(!Xfe(l))throw new RangeError("Invalid time value");let c=t.match(Bme).map(y=>{const w=y[0];if(w==="p"||w==="P"){const N=Ome[w];return N(y,a.formatLong)}return y}).join("").match(Fme).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:Wme(y)};if(BM[w])return{isToken:!0,value:y};if(w.match(Vme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&$me(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Rme(w))&&Dme(w,t,String(e));const N=BM[w[0]];return N(l,w,a.localize,u)}).join("")}function Wme(e){const t=e.match(zme);return t?t[1].replace(Ume,"'"):e}function qme(e){const t=yt(e),r=t.getFullYear(),n=t.getMonth(),a=Os(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Hme(e){return Math.trunc(+yt(e)/1e3)}function Gme(e){const t=yt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Kme(e,t){return Yfe(Gme(e),Bn(e),t)+1}function YS(e,t){const r=yt(e),n=yt(t);return r.getTime()>n.getTime()}function s7(e,t){const r=yt(e),n=yt(t);return+r<+n}function nE(e,t){const r=yt(e),n=yt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Xme(e,t){const r=yt(e),n=yt(t);return r.getFullYear()===n.getFullYear()}function a7(e,t){const r=+yt(e),[n,a]=[+yt(t.start),+yt(t.end)].sort((i,o)=>i-o);return r>=n&&r<=a}function Wx(e,t){return $n(e,-t)}function $j(e,t){const r=yt(e),n=r.getFullYear(),a=r.getDate(),i=Os(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=qme(i);return r.setMonth(t,Math.min(a,o)),r}function WM(e,t){const r=yt(e);return isNaN(+r)?Os(e,NaN):(r.setFullYear(t),r)}const Yme={locale:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},number:{"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"}},Qme={narrow:["",""],abbreviated:["",""],wide:["",""]},Zme={narrow:["","","",""],abbreviated:["","","",""],wide:[" "," "," "," "]},Jme={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},epe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","",""," ","",""]},tpe={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},rpe={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}};function npe(e,t){if(e>18&&e<=31)return t+"";switch(e){case 1:return t+"";case 2:case 3:return t+"";case 4:return t+"";default:return t+""}}const spe=(e,t)=>{const r=Number(e),n=i7(r);if((t==null?void 0:t.unit)==="date")return npe(r,n);if(r>10||r===0)return n+"";switch(r%10){case 2:case 3:return n+"";case 4:return n+"";case 6:return n+"";default:return n+""}};function i7(e){return e.toString().replace(/\d/g,function(t){return Yme.locale[t]})}const ape={ordinalNumber:spe,era:ti({values:Qme,defaultWidth:"wide"}),quarter:ti({values:Zme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ti({values:Jme,defaultWidth:"wide"}),day:ti({values:epe,defaultWidth:"wide"}),dayPeriod:ti({values:tpe,defaultWidth:"wide",formattingValues:rpe,defaultFormattingWidth:"wide"})},ipe={lessThanXSeconds:{one:"  ",other:" {{count}} "},xSeconds:{one:" ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",other:" {{count}} "},xMinutes:{one:" ",other:"{{count}} "},aboutXHours:{one:"  ",other:" {{count}} "},xHours:{one:" ",other:"{{count}} "},xDays:{one:" ",other:"{{count}} "},aboutXWeeks:{one:"  ",other:" {{count}} "},xWeeks:{one:" ",other:"{{count}} "},aboutXMonths:{one:"  ",other:" {{count}} "},xMonths:{one:" ",other:"{{count}} "},aboutXYears:{one:"  ",other:" {{count}} "},xYears:{one:" ",other:"{{count}} "},overXYears:{one:"  ",other:"{{count}}  "},almostXYears:{one:"  ",other:" {{count}} "}},ope=(e,t,r)=>{let n;const a=ipe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",i7(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+"  ":n+" ":n},lpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},upe={full:"{{date}} {{time}} ''",long:"{{date}} {{time}} ''",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dpe={date:Md({formats:lpe,defaultWidth:"full"}),time:Md({formats:cpe,defaultWidth:"full"}),dateTime:Md({formats:upe,defaultWidth:"full"})},hpe={lastWeek:"'' eeee '' p",yesterday:"'' '' p",today:"'' '' p",tomorrow:"'' '' p",nextWeek:"eeee '' p",other:"P"},fpe=(e,t,r,n)=>hpe[e],mpe=/^(\d+)(||||||)?/i,ppe=/\d+/i,gpe={narrow:/^(|)/i,abbreviated:/^(|)/i,wide:/^(|)/i},vpe={narrow:[/^/i,/^/i],abbreviated:[/^/i,/^/i],wide:[/^/i,/^/i]},xpe={narrow:/^[]/i,abbreviated:/^[]/i,wide:/^[](||)? /i},ype={any:[//i,//i,//i,//i]},bpe={narrow:/^(|||||||||||)/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},wpe={any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},jpe={narrow:/^(||||||)+/i,short:/^(||||||)+/i,abbreviated:/^(||||||)+/i,wide:/^(|||| ||)+/i},_pe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],short:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],abbreviated:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^ /i,/^/i,/^/i]},Npe={narrow:/^(|||||||)/i,abbreviated:/^(|||||||)/i,wide:/^(|||||||)/i},Spe={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon://i,evening://i,night://i}},kpe={ordinalNumber:Zz({matchPattern:mpe,parsePattern:ppe,valueCallback:e=>parseInt(e,10)}),era:ri({matchPatterns:gpe,defaultMatchWidth:"wide",parsePatterns:vpe,defaultParseWidth:"wide"}),quarter:ri({matchPatterns:xpe,defaultMatchWidth:"wide",parsePatterns:ype,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ri({matchPatterns:bpe,defaultMatchWidth:"wide",parsePatterns:wpe,defaultParseWidth:"any"}),day:ri({matchPatterns:jpe,defaultMatchWidth:"wide",parsePatterns:_pe,defaultParseWidth:"wide"}),dayPeriod:ri({matchPatterns:Npe,defaultMatchWidth:"wide",parsePatterns:Spe,defaultParseWidth:"any"})},o7={code:"bn",formatDistance:ope,formatLong:dpe,formatRelative:fpe,localize:ape,match:kpe,options:{weekStartsOn:0,firstWeekContainsDate:1}},qM={pending:{label:"",color:"bg-yellow-100 text-yellow-800",icon:s.jsx(ea,{className:"h-4 w-4"})},processing:{label:"",color:"bg-blue-100 text-blue-800",icon:s.jsx(Tr,{className:"h-4 w-4"})},shipped:{label:" ",color:"bg-purple-100 text-purple-800",icon:s.jsx(ur,{className:"h-4 w-4"})},delivered:{label:" ",color:"bg-green-100 text-green-800",icon:s.jsx(vi,{className:"h-4 w-4"})},cancelled:{label:"",color:"bg-red-100 text-red-800",icon:s.jsx(oo,{className:"h-4 w-4"})}},Cpe=()=>{const e=en(),{user:t,signOut:r,isLoading:n}=zl(),[a,i]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(null);v.useEffect(()=>{!n&&!t&&e("/auth")},[t,n,e]),v.useEffect(()=>{t&&d()},[t]);const d=async()=>{if(t){l(!0);try{const{data:f}=await Q.from("profiles").select("full_name, phone, email").eq("user_id",t.id).maybeSingle();f&&u(f);const{data:m,error:g}=await Q.from("orders").select(`
          *,
          order_items (
            id,
            product_name,
            product_image,
            quantity,
            price,
            variation_name
          )
        `).eq("user_id",t.id).order("created_at",{ascending:!1});if(g)throw g;i(m||[])}catch(f){console.error("Error fetching user data:",f)}finally{l(!1)}}},h=async()=>{await r(),e("/")};return n||!t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsx("div",{className:"min-h-screen bg-muted/30 py-8",children:s.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:" "}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:[", ",(c==null?void 0:c.full_name)||t.email]})]}),s.jsxs(U,{variant:"outline",onClick:h,className:"w-fit",children:[s.jsx(MC,{className:"h-4 w-4 mr-2"}),""]})]}),s.jsxs(wi,{defaultValue:"orders",className:"space-y-6",children:[s.jsxs(Fa,{className:"grid w-full grid-cols-2 max-w-md",children:[s.jsxs(It,{value:"orders",className:"flex items-center gap-2",children:[s.jsx(ln,{className:"h-4 w-4"})," "]}),s.jsxs(It,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"h-4 w-4"}),""]})]}),s.jsx(Ht,{value:"orders",className:"space-y-4",children:o?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(f=>s.jsx(me,{children:s.jsxs(pe,{className:"p-6",children:[s.jsx(St,{className:"h-6 w-48 mb-4"}),s.jsx(St,{className:"h-4 w-full mb-2"}),s.jsx(St,{className:"h-4 w-3/4"})]})},f))}):a.length===0?s.jsx(me,{children:s.jsxs(pe,{className:"py-12 text-center",children:[s.jsx(ln,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"    "}),s.jsx(U,{asChild:!0,children:s.jsx(Ke,{to:"/products",children:" "})})]})}):s.jsx("div",{className:"space-y-4",children:a.map(f=>s.jsx(Ppe,{order:f},f.id))})}),s.jsx(Ht,{value:"profile",children:s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"h-5 w-5"})," "]})}),s.jsx(pe,{className:"space-y-4",children:(()=>{var x,b,y;const f=(x=t.email)==null?void 0:x.endsWith("@phone.local"),m=f?null:(c==null?void 0:c.email)||t.email,g=(c==null?void 0:c.phone)||(f?(b=t.email)==null?void 0:b.replace("@phone.local",""):null),p=(c==null?void 0:c.full_name)||((y=t.user_metadata)==null?void 0:y.full_name);return s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"font-medium",children:p||"  "})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"font-medium",children:m||"  "})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"font-medium",children:g||"  "})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),s.jsx("p",{className:"font-medium",children:ot(new Date(t.created_at),"dd MMMM, yyyy",{locale:o7})})]})]})})()})]})})]})]})})},Ppe=({order:e})=>{var a;const[t,r]=v.useState(!1),n=qM[e.status]||qM.pending;return s.jsx(me,{className:"overflow-hidden",children:s.jsxs(pe,{className:"p-0",children:[s.jsxs("div",{className:"p-4 md:p-6 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r(!t),children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold text-lg",children:e.order_number}),s.jsxs(Ge,{className:`${n.color} flex items-center gap-1`,children:[n.icon,n.label]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(ao,{className:"h-4 w-4"}),ot(new Date(e.created_at),"dd MMMM, yyyy - hh:mm a",{locale:o7})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",e.total.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.order_items.length,"  "]})]})]}),e.tracking_number&&s.jsx("div",{className:"mt-4 p-3 bg-primary/5 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-medium",children:" :"}),s.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:e.tracking_number})]}),s.jsxs("a",{href:`https://steadfast.com.bd/t/${e.tracking_number}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",onClick:i=>i.stopPropagation(),children:[" ",s.jsx(md,{className:"h-4 w-4"})]})]})})]}),t&&s.jsxs("div",{className:"border-t bg-muted/20 p-4 md:p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:" "}),s.jsx("div",{className:"space-y-3",children:e.order_items.map(i=>s.jsxs("div",{className:"flex items-center gap-4 p-3 bg-background rounded-lg",children:[i.product_image?s.jsx("img",{src:i.product_image,alt:i.product_name,className:"w-16 h-16 object-cover rounded"}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center",children:s.jsx(Tr,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:i.product_name}),i.variation_name&&s.jsx("p",{className:"text-sm text-muted-foreground",children:i.variation_name}),s.jsxs("p",{className:"text-sm",children:["",i.price," x ",i.quantity," = ",s.jsxs("span",{className:"font-semibold",children:["",i.price*i.quantity]})]})]})]},i.id))})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(lo,{className:"h-4 w-4"})," "]}),s.jsxs("div",{className:"bg-background p-3 rounded-lg text-sm space-y-1",children:[s.jsx("p",{className:"font-medium",children:e.shipping_name}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(on,{className:"h-3 w-3"}),e.shipping_phone]}),s.jsx("p",{children:e.shipping_street}),s.jsxs("p",{children:[e.shipping_district,", ",e.shipping_city]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:" "}),s.jsxs("div",{className:"bg-background p-3 rounded-lg text-sm space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:":"}),s.jsxs("span",{children:["",e.subtotal.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" :"}),s.jsxs("span",{children:["",((a=e.shipping_cost)==null?void 0:a.toLocaleString())||0]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[s.jsx("span",{children:":"}),s.jsxs("span",{className:"text-primary",children:["",e.total.toLocaleString()]})]})]})]})]})]})]})})},l7=({product:e,index:t=0})=>{var w;const r=Vl(),n=en(),a=is(Ig),{trackAddToCartWithEventId:i,generateEventId:o}=_u(),{trackAddToCart:l}=Nu(),c=a.some(N=>N.id===e.id),u=e.variations&&e.variations.length>0,[d,h]=v.useState(void 0),f=(d==null?void 0:d.price)??e.price,m=(d==null?void 0:d.original_price)??e.originalPrice,g=N=>`${N.toLocaleString("en-BD")}`,p=N=>{if(N.preventDefault(),N.stopPropagation(),u&&!d){G.error("  ");return}r(hh({product:e,variation:d})),r(zb());const S=o("AddToCart");console.log("Firing AddToCart from ProductCard:",e.name,"eventId:",S),i({content_ids:[e.id],content_name:e.name,content_type:"product",value:f,currency:"BDT"},S),l({contentId:e.id,contentName:e.name,value:f,quantity:1,currency:"BDT"}),G.success("Added to cart!")},x=N=>{if(N.preventDefault(),N.stopPropagation(),u&&!d){G.error("  ");return}r(hh({product:e,variation:d}));const S=o("AddToCart");console.log("Firing AddToCart (Buy Now) from ProductCard:",e.name,"eventId:",S),i({content_ids:[e.id],content_name:e.name,content_type:"product",value:f,currency:"BDT"},S),l({contentId:e.id,contentName:e.name,value:f,quantity:1,currency:"BDT"}),n("/checkout")},b=N=>{N.preventDefault(),N.stopPropagation(),r(mP(e)),G.success(c?"Removed from wishlist":"Added to wishlist!")},y=(N,S)=>{N.preventDefault(),N.stopPropagation(),h(S)};return s.jsx(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:t*.1},children:s.jsx(Ke,{to:`/product/${e.slug}`,children:s.jsxs("div",{className:"group bg-card rounded-xl overflow-hidden border border-border hover:shadow-xl hover:border-primary/20 transition-all duration-300",children:[s.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[s.jsx("img",{src:((w=e.images)==null?void 0:w[0])||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy",onError:N=>{N.currentTarget.src="/placeholder.svg"}}),s.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[e.isNew&&s.jsx(Ge,{variant:"new",children:"New"}),e.discount&&s.jsxs(Ge,{variant:"sale",children:["-",e.discount,"%"]})]}),s.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 opacity-0 translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300",children:[s.jsx(U,{variant:"secondary",size:"icon",className:`h-9 w-9 rounded-full shadow-md ${c?"text-secondary bg-secondary/10":""}`,onClick:b,children:s.jsx(Nl,{className:`h-4 w-4 ${c?"fill-current":""}`})}),s.jsx(U,{variant:"secondary",size:"icon",className:"h-9 w-9 rounded-full shadow-md",asChild:!0,children:s.jsx(Ke,{to:`/product/${e.slug}`,onClick:N=>N.stopPropagation(),children:s.jsx(_r,{className:"h-4 w-4"})})})]}),!u&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs(U,{variant:"cta",size:"sm",className:"w-full text-xs py-2",onClick:p,children:[s.jsx(En,{className:"h-3.5 w-3.5 mr-1"}),"  "]}),s.jsxs(U,{size:"sm",className:"w-full text-xs py-2 bg-accent text-accent-foreground hover:bg-accent/90",onClick:x,children:[s.jsx(GA,{className:"h-3.5 w-3.5 mr-1"})," "]})]})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:e.category}),s.jsx("h3",{className:"font-medium text-foreground line-clamp-2 mb-2 group-hover:text-primary transition-colors",children:e.name}),s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((N,S)=>s.jsx($C,{className:`h-3.5 w-3.5 ${S<Math.floor(e.rating)?"text-accent fill-accent":"text-muted-foreground/30"}`},S))}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",e.reviewCount,")"]})]}),u&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground shrink-0",children:"Size:"}),e.variations.map(N=>{const S=N.name.replace(/[^0-9]/g,"")||N.name;return s.jsx("button",{onClick:k=>y(k,N),className:`min-w-[28px] h-7 px-1.5 text-xs font-semibold rounded border transition-all ${(d==null?void 0:d.id)===N.id?"border-primary bg-primary text-primary-foreground":"border-border bg-background text-foreground hover:border-primary"}`,title:N.name,children:S},N.id)})]}),d&&(d.name.toLowerCase().includes("5kg")||d.name.includes("")||d.name==="5 KG")&&s.jsx("p",{className:"text-xs font-medium text-emerald-600 mt-1",children:"  "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold text-primary",children:g(f)}),m&&s.jsx("span",{className:"text-sm text-muted-foreground line-through",children:g(m)})]}),u&&s.jsxs("div",{className:"flex gap-2 mt-3 relative z-10",children:[s.jsxs("button",{type:"button",className:"flex-1 inline-flex items-center justify-center gap-1.5 bg-primary text-primary-foreground hover:bg-primary/90 rounded-md px-2 py-2.5 text-xs font-medium transition-colors pointer-events-auto",onClick:p,title:"  ",children:[s.jsx(En,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{children:""})]}),s.jsxs("button",{type:"button",className:"flex-1 inline-flex items-center justify-center gap-1.5 bg-amber-500 text-white hover:bg-amber-600 rounded-md px-2 py-2.5 text-xs font-medium transition-colors pointer-events-auto",onClick:x,title:" ",children:[s.jsx(GA,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{children:""})]})]})]})]})})})},Ap=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),c=en(),u=is(NB),d=is(Ig),h=Vl(),{user:f,signOut:m,isAdmin:g}=zl(),{data:p}=fr({queryKey:["header-settings"],queryFn:async()=>{const{data:N,error:S}=await Q.from("admin_settings").select("key, value").in("key",["site_name","site_logo","shop_logo_url"]);if(S)throw S;const k={};return N==null||N.forEach(_=>{k[_.key]=_.value}),k},staleTime:0,refetchOnMount:"always",refetchOnWindowFocus:!0}),x=(p==null?void 0:p.site_name)||" ",b=(p==null?void 0:p.site_logo)||(p==null?void 0:p.shop_logo_url)||jc;v.useEffect(()=>{const N=()=>{t(window.scrollY>10)};return window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)},[]);const y=async()=>{await m()},w=N=>{N.preventDefault(),o.trim()&&(c(`/products?search=${encodeURIComponent(o.trim())}`),l(""),i(!1))};return s.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${e?"bg-background/95 backdrop-blur-md shadow-md":"bg-background"}`,children:[s.jsxs("div",{className:"container-custom py-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx(Ke,{to:"/",className:"flex-shrink-0",children:b?s.jsx("img",{src:b,alt:x||"Site Logo",className:"h-10 w-auto object-contain",onError:N=>{const S=N.target;S.src!==jc&&(S.src=jc)}}):s.jsx("span",{className:"text-base md:text-lg font-semibold text-foreground leading-none",children:x})}),s.jsx("form",{onSubmit:w,className:"hidden md:flex flex-1 max-w-xl",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(F,{type:"text",placeholder:" ...",value:o,onChange:N=>l(N.target.value),className:"pr-12"}),s.jsx(U,{type:"submit",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2",children:s.jsx(as,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[s.jsx(U,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>i(!a),children:s.jsx(as,{className:"h-5 w-5"})}),s.jsx(Ke,{to:"/wishlist",children:s.jsxs(U,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(Nl,{className:"h-5 w-5"}),d.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-secondary text-secondary-foreground text-xs flex items-center justify-center font-bold",children:d.length})]})}),s.jsxs(U,{variant:"ghost",size:"icon",className:"relative",onClick:()=>h(_B()),children:[s.jsx(En,{className:"h-5 w-5"}),u>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-secondary text-secondary-foreground text-xs flex items-center justify-center font-bold",children:u})]}),f?s.jsxs("div",{className:"relative group",children:[s.jsx(U,{variant:"ghost",size:"icon",children:s.jsx(Ra,{className:"h-5 w-5"})}),s.jsx("div",{className:"absolute top-full right-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:s.jsxs("div",{className:"bg-card rounded-lg shadow-xl border border-border p-3 min-w-[160px]",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2 px-2 truncate",children:f.email}),g&&s.jsx(Ke,{to:"/admin",className:"block px-2 py-1.5 text-sm text-foreground hover:text-primary hover:bg-muted rounded transition-colors",children:" "}),s.jsx(Ke,{to:"/my-account",className:"block px-2 py-1.5 text-sm text-foreground hover:text-primary hover:bg-muted rounded transition-colors",children:" "}),s.jsxs("button",{onClick:y,className:"w-full flex items-center gap-2 px-2 py-1.5 text-sm text-destructive hover:bg-muted rounded transition-colors",children:[s.jsx(MC,{className:"h-4 w-4"}),""]})]})})]}):s.jsx(Ke,{to:"/auth",children:s.jsx(U,{variant:"ghost",size:"icon",children:s.jsx(Ra,{className:"h-5 w-5"})})}),s.jsx(U,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>n(!r),children:r?s.jsx(er,{className:"h-5 w-5"}):s.jsx(RC,{className:"h-5 w-5"})})]})]}),s.jsx(nu,{children:a&&s.jsx(Ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden mt-4",children:s.jsxs("form",{onSubmit:w,className:"relative",children:[s.jsx(F,{type:"text",placeholder:" ...",value:o,onChange:N=>l(N.target.value),className:"pr-12"}),s.jsx(U,{type:"submit",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2",children:s.jsx(as,{className:"h-5 w-5"})})]})})})]}),s.jsx("nav",{className:"hidden md:block border-t border-border",children:s.jsx("div",{className:"container-custom",children:s.jsxs("ul",{className:"flex items-center gap-8 py-3",children:[s.jsx("li",{children:s.jsx(Ke,{to:"/",className:"text-foreground hover:text-primary font-medium transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/products",className:"text-foreground hover:text-primary font-medium transition-colors",children:"Products"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/about",className:"text-foreground hover:text-primary font-medium transition-colors",children:"About Us"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/contact",className:"text-foreground hover:text-primary font-medium transition-colors",children:"Contact Us"})})]})})}),s.jsx(nu,{children:r&&s.jsx(Ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-border bg-background",children:s.jsx("nav",{className:"container-custom py-4",children:s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ke,{to:"/",className:"block py-2 text-foreground hover:text-primary font-medium",onClick:()=>n(!1),children:"Home"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/products",className:"block py-2 text-foreground hover:text-primary font-medium",onClick:()=>n(!1),children:"Products"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/about",className:"block py-2 text-foreground hover:text-primary font-medium",onClick:()=>n(!1),children:"About Us"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/contact",className:"block py-2 text-foreground hover:text-primary font-medium",onClick:()=>n(!1),children:"Contact Us"})})]})})})})]})},c7=async()=>{const{data:e,error:t}=await Q.from("products").select(`
      *,
      categories:category_id (name, slug),
      product_variations!product_variations_product_id_fkey (*)
    `).eq("is_active",!0).order("created_at",{ascending:!1});if(t)throw t;return(e||[]).map(u7)},Epe=async e=>{const{data:t,error:r}=await Q.from("products").select(`
      *,
      categories:category_id (name, slug),
      product_variations!product_variations_product_id_fkey (*)
    `).eq("slug",e).eq("is_active",!0).maybeSingle();if(r)throw r;return t?u7(t):null},Tpe=async()=>{const{data:e,error:t}=await Q.from("categories").select("*").order("sort_order",{ascending:!0});if(t)throw t;return(e||[]).map(r=>({id:r.id,name:r.name,slug:r.slug,image:r.image_url||"",productCount:0}))},u7=e=>{var i,o;const t=e.original_price?Number(e.original_price):void 0,r=Number(e.price),n=t?Math.round((t-r)/t*100):void 0,a=Array.from(new Map((e.product_variations||[]).filter(l=>l.is_active).sort((l,c)=>(l.sort_order||0)-(c.sort_order||0)).map(l=>[String(l.name).trim().toLowerCase(),l])).values()).map(l=>({id:l.id,product_id:l.product_id,name:l.name,price:Number(l.price),original_price:l.original_price?Number(l.original_price):void 0,stock:l.stock,sort_order:l.sort_order||0,is_active:l.is_active??!0}));return{id:e.id,name:e.name,slug:e.slug,description:e.description||"",short_description:e.short_description||void 0,long_description:e.long_description||void 0,price:r,originalPrice:t,images:e.images||[],category:((i=e.categories)==null?void 0:i.name)||"Uncategorized",categorySlug:((o=e.categories)==null?void 0:o.slug)||void 0,subcategory:void 0,rating:Number(e.rating)||0,reviewCount:e.review_count||0,stock:e.stock||0,featured:e.is_featured||!1,isNew:e.is_new||!1,discount:n,tags:e.tags||[],variations:a.length>0?a:void 0}},Ope=()=>{var I;const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,i]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const[$,W]=await Promise.all([c7(),Tpe()]);t($),n(W)}catch($){console.error("Failed to load products:",$)}finally{i(!1)}})()},[]);const[o,l]=cse(),[c,u]=v.useState(!1),[d,h]=v.useState(4),f=o.get("category"),m=o.get("search")||"",g=o.get("sort")||"newest",p=o.get("minPrice"),x=o.get("maxPrice"),b=o.get("featured")==="true",y=o.get("new")==="true",[w,N]=v.useState({min:p||"",max:x||""}),S=v.useMemo(()=>{let M=[...e];if(f&&(M=M.filter($=>$.categorySlug===f||$.category.toLowerCase().replace(/[^a-z0-9]/g,"-")===f)),b&&(M=M.filter($=>$.featured)),y&&(M=M.filter($=>$.isNew)),m){const $=m.toLowerCase();M=M.filter(W=>W.name.toLowerCase().includes($)||W.description.toLowerCase().includes($)||W.category.toLowerCase().includes($))}switch(p&&(M=M.filter($=>$.price>=Number(p))),x&&(M=M.filter($=>$.price<=Number(x))),g){case"price-low":M.sort(($,W)=>$.price-W.price);break;case"price-high":M.sort(($,W)=>W.price-$.price);break;case"rating":M.sort(($,W)=>W.rating-$.rating);break;case"popular":M.sort(($,W)=>W.reviewCount-$.reviewCount);break}return M},[e,f,m,g,p,x,b,y]),k=(M,$)=>{const W=new URLSearchParams(o);$?W.set(M,$):W.delete(M),l(W)},_=()=>{l(new URLSearchParams),N({min:"",max:""})},j=()=>{const M=new URLSearchParams(o);w.min?M.set("minPrice",w.min):M.delete("minPrice"),w.max?M.set("maxPrice",w.max):M.delete("maxPrice"),l(M)},C=[f,p,x,b,y].filter(Boolean).length;return a?s.jsxs(s.Fragment,{children:[s.jsx(Ap,{}),s.jsx("div",{className:"min-h-screen bg-background pt-32 flex items-center justify-center",children:s.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ap,{}),s.jsx("div",{className:"min-h-screen bg-background pt-32 pb-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-2",children:f?((I=r.find(M=>M.slug===f))==null?void 0:I.name)||"Products":b?"Featured Products":y?"New Arrivals":"All Products"}),s.jsxs("p",{className:"text-muted-foreground",children:[S.length," products found"]})]}),s.jsxs("div",{className:"flex gap-8",children:[s.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:s.jsxs("div",{className:"sticky top-44 space-y-6",children:[s.jsxs("div",{className:"bg-card rounded-xl p-5 border border-border",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Categories"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>k("category",null),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${f?"text-muted-foreground hover:bg-muted":"bg-primary/10 text-primary font-medium"}`,children:"All Categories"})}),r.map(M=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>k("category",M.slug),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${f===M.slug?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted"}`,children:[M.name,s.jsxs("span",{className:"text-xs ml-1",children:["(",M.productCount,")"]})]})},M.id))]})]}),s.jsxs("div",{className:"bg-card rounded-xl p-5 border border-border",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Price Range"}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx(F,{type:"number",placeholder:"Min",value:w.min,onChange:M=>N({...w,min:M.target.value}),className:"h-10"}),s.jsx(F,{type:"number",placeholder:"Max",value:w.max,onChange:M=>N({...w,max:M.target.value}),className:"h-10"})]}),s.jsx(U,{variant:"outline",size:"sm",className:"w-full",onClick:j,children:"Apply"})]}),C>0&&s.jsxs(U,{variant:"ghost",className:"w-full",onClick:_,children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),"Clear All Filters"]})]})}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between mb-6 gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(as,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(F,{type:"text",placeholder:" ...",value:m,onChange:M=>k("search",M.target.value||null),className:"pl-10 h-10"})]}),s.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[s.jsxs(U,{variant:"outline",className:"lg:hidden",onClick:()=>u(!c),children:[s.jsx(dJ,{className:"h-4 w-4 mr-2"}),"Filters",C>0&&s.jsx("span",{className:"ml-2 h-5 w-5 rounded-full bg-primary text-primary-foreground text-xs flex items-center justify-center",children:C})]}),s.jsxs("div",{className:"hidden md:flex items-center border border-border rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:()=>h(3),className:`p-2 ${d===3?"bg-muted":"hover:bg-muted/50"}`,children:s.jsx(V8,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>h(4),className:`p-2 ${d===4?"bg-muted":"hover:bg-muted/50"}`,children:s.jsx(pJ,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:"Sort by:"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:g,onChange:M=>k("sort",M.target.value),className:"h-10 pl-3 pr-8 rounded-lg border border-border bg-background text-sm appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"newest",children:"Newest"}),s.jsx("option",{value:"price-low",children:"Price: Low to High"}),s.jsx("option",{value:"price-high",children:"Price: High to Low"}),s.jsx("option",{value:"rating",children:"Highest Rated"}),s.jsx("option",{value:"popular",children:"Most Popular"})]}),s.jsx(Yc,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]})]})]})]}),c&&s.jsxs(Ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden mb-6 space-y-4",children:[s.jsxs("div",{className:"bg-card rounded-xl p-4 border border-border",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Categories"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>k("category",null),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${f?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:"All"}),r.map(M=>s.jsx("button",{onClick:()=>k("category",M.slug),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${f===M.slug?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:M.name},M.id))]})]}),s.jsxs("div",{className:"bg-card rounded-xl p-4 border border-border",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Price Range"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"number",placeholder:"Min",value:w.min,onChange:M=>N({...w,min:M.target.value}),className:"h-9"}),s.jsx(F,{type:"number",placeholder:"Max",value:w.max,onChange:M=>N({...w,max:M.target.value}),className:"h-9"}),s.jsx(U,{variant:"outline",size:"sm",onClick:j,children:"Apply"})]})]})]}),S.length>0?s.jsx("div",{className:`grid grid-cols-2 ${d===3?"lg:grid-cols-3":"lg:grid-cols-4"} gap-4 md:gap-6`,children:S.map((M,$)=>s.jsx(l7,{product:M,index:$},M.id))}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:"No products found"}),s.jsx(U,{variant:"outline",onClick:_,children:"Clear Filters"})]})]})]})]})})]})},d7=[{id:"demo-1",name:"  - -  ",slug:"premium-cotton-tshirt-navy",description:"     -       ",short_description:"%        ",long_description:`
##  

   -       %           

### :
- %  
-  
-  
-  
-  

###  :
- M:  ",  "
- L:  ",  "
- XL:  ",  "
- XXL:  ",  "
    `,price:650,originalPrice:850,images:["https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=800&q=80","https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=800&q=80","https://images.unsplash.com/photo-1562157873-818bc0726f68?w=800&q=80"],category:"-",categorySlug:"t-shirt",rating:4.8,reviewCount:156,stock:50,featured:!0,isNew:!0,discount:24,tags:["-","",""],variations:[{id:"v1-m",product_id:"demo-1",name:"M",price:650,original_price:850,stock:15,sort_order:1,is_active:!0},{id:"v1-l",product_id:"demo-1",name:"L",price:650,original_price:850,stock:20,sort_order:2,is_active:!0},{id:"v1-xl",product_id:"demo-1",name:"XL",price:650,original_price:850,stock:10,sort_order:3,is_active:!0},{id:"v1-xxl",product_id:"demo-1",name:"XXL",price:700,original_price:900,stock:5,sort_order:4,is_active:!0}]},{id:"demo-2",name:"   ",slug:"slim-fit-denim-jeans",description:"              ",short_description:"       ",price:1450,originalPrice:1850,images:["https://images.unsplash.com/photo-1542272454315-4c01d7abdf4a?w=800&q=80","https://images.unsplash.com/photo-1541099649105-f69ad21f3246?w=800&q=80","https://images.unsplash.com/photo-1555689502-c4b22d76c56f?w=800&q=80"],category:"",categorySlug:"jeans",rating:4.6,reviewCount:98,stock:35,featured:!0,discount:22,tags:["",""," "],variations:[{id:"v2-30",product_id:"demo-2",name:"30",price:1450,original_price:1850,stock:10,sort_order:1,is_active:!0},{id:"v2-32",product_id:"demo-2",name:"32",price:1450,original_price:1850,stock:12,sort_order:2,is_active:!0},{id:"v2-34",product_id:"demo-2",name:"34",price:1450,original_price:1850,stock:8,sort_order:3,is_active:!0},{id:"v2-36",product_id:"demo-2",name:"36",price:1500,original_price:1900,stock:5,sort_order:4,is_active:!0}]},{id:"demo-3",name:"   - ",slug:"classic-polo-white",description:"        -   ",short_description:"        ",price:850,originalPrice:1100,images:["https://images.unsplash.com/photo-1625910513413-5fc6e2bc6b12?w=800&q=80","https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?w=800&q=80"],category:" ",categorySlug:"polo",rating:4.7,reviewCount:124,stock:42,isNew:!0,discount:23,tags:["","",""],variations:[{id:"v3-m",product_id:"demo-3",name:"M",price:850,original_price:1100,stock:15,sort_order:1,is_active:!0},{id:"v3-l",product_id:"demo-3",name:"L",price:850,original_price:1100,stock:15,sort_order:2,is_active:!0},{id:"v3-xl",product_id:"demo-3",name:"XL",price:850,original_price:1100,stock:12,sort_order:3,is_active:!0}]},{id:"demo-4",name:"   -  ",slug:"formal-office-shirt-blue",description:"            ",short_description:"       ",price:950,originalPrice:1200,images:["https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?w=800&q=80","https://images.unsplash.com/photo-1594938298603-c8148c4dae35?w=800&q=80"],category:" ",categorySlug:"formal-shirt",rating:4.5,reviewCount:87,stock:28,discount:21,tags:["","",""],variations:[{id:"v4-m",product_id:"demo-4",name:"M",price:950,original_price:1200,stock:10,sort_order:1,is_active:!0},{id:"v4-l",product_id:"demo-4",name:"L",price:950,original_price:1200,stock:10,sort_order:2,is_active:!0},{id:"v4-xl",product_id:"demo-4",name:"XL",price:950,original_price:1200,stock:8,sort_order:3,is_active:!0}]},{id:"demo-5",name:"   ",slug:"comfort-fit-chino",description:"      -    ",short_description:"       ",price:1250,originalPrice:1500,images:["https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?w=800&q=80","https://images.unsplash.com/photo-1473966968600-fa801b869a1a?w=800&q=80"],category:"",categorySlug:"pants",rating:4.4,reviewCount:65,stock:38,discount:17,tags:["","",""],variations:[{id:"v5-30",product_id:"demo-5",name:"30",price:1250,original_price:1500,stock:12,sort_order:1,is_active:!0},{id:"v5-32",product_id:"demo-5",name:"32",price:1250,original_price:1500,stock:14,sort_order:2,is_active:!0},{id:"v5-34",product_id:"demo-5",name:"34",price:1250,original_price:1500,stock:8,sort_order:3,is_active:!0},{id:"v5-36",product_id:"demo-5",name:"36",price:1300,original_price:1550,stock:4,sort_order:4,is_active:!0}]},{id:"demo-6",name:"  ",slug:"winter-leather-jacket",description:"         ",short_description:"      YKK ",long_description:`
##  

                  

### :
-  PU 
-   
- YKK  
-  
-  

###  :
-   
-      
-    
    `,price:3500,originalPrice:4500,images:["https://images.unsplash.com/photo-1551028719-00167b16eac5?w=800&q=80","https://images.unsplash.com/photo-1520975954732-35dd22299614?w=800&q=80","https://images.unsplash.com/photo-1559551409-dadc959f76b8?w=800&q=80"],category:"",categorySlug:"jacket",rating:4.9,reviewCount:203,stock:20,featured:!0,discount:22,tags:["","",""],variations:[{id:"v6-m",product_id:"demo-6",name:"M",price:3500,original_price:4500,stock:5,sort_order:1,is_active:!0},{id:"v6-l",product_id:"demo-6",name:"L",price:3500,original_price:4500,stock:8,sort_order:2,is_active:!0},{id:"v6-xl",product_id:"demo-6",name:"XL",price:3500,original_price:4500,stock:5,sort_order:3,is_active:!0},{id:"v6-xxl",product_id:"demo-6",name:"XXL",price:3700,original_price:4700,stock:2,sort_order:4,is_active:!0}]},{id:"demo-7",name:"  ",slug:"sports-track-pants",description:"     ,       ",short_description:"        ",price:750,originalPrice:950,images:["https://images.unsplash.com/photo-1556906781-9a412961c28c?w=800&q=80","https://images.unsplash.com/photo-1552902865-b72c031ac5ea?w=800&q=80"],category:"",categorySlug:"pants",rating:4.3,reviewCount:76,stock:55,isNew:!0,discount:21,tags:[""," ",""],variations:[{id:"v7-m",product_id:"demo-7",name:"M",price:750,original_price:950,stock:18,sort_order:1,is_active:!0},{id:"v7-l",product_id:"demo-7",name:"L",price:750,original_price:950,stock:20,sort_order:2,is_active:!0},{id:"v7-xl",product_id:"demo-7",name:"XL",price:750,original_price:950,stock:12,sort_order:3,is_active:!0},{id:"v7-xxl",product_id:"demo-7",name:"XXL",price:800,original_price:1e3,stock:5,sort_order:4,is_active:!0}]},{id:"demo-8",name:"  -",slug:"graphic-print-tshirt",description:"   -      ",short_description:"        ",price:550,originalPrice:750,images:["https://images.unsplash.com/photo-1576566588028-4147f3842f27?w=800&q=80","https://images.unsplash.com/photo-1529374255404-311a2a4f1fd9?w=800&q=80"],category:"-",categorySlug:"t-shirt",rating:4.5,reviewCount:112,stock:60,discount:27,tags:["-","",""],variations:[{id:"v8-m",product_id:"demo-8",name:"M",price:550,original_price:750,stock:20,sort_order:1,is_active:!0},{id:"v8-l",product_id:"demo-8",name:"L",price:550,original_price:750,stock:25,sort_order:2,is_active:!0},{id:"v8-xl",product_id:"demo-8",name:"XL",price:550,original_price:750,stock:15,sort_order:3,is_active:!0}]}],HM=e=>d7.find(t=>t.slug===e),GM=(e,t)=>d7.filter(r=>r.category===e&&r.id!==t).slice(0,4),Ape=()=>{const{slug:e}=Ab(),t=en(),[r,n]=v.useState(0),[a,i]=v.useState(1),[o,l]=v.useState(null),[c,u]=v.useState([]),[d,h]=v.useState(!0),[f,m]=v.useState(void 0),g=Vl(),p=is(Ig),{trackViewContent:x,trackAddToCartWithEventId:b,generateEventId:y,isReady:w}=_u(),{trackAddToCart:N,trackViewContent:S}=Nu(),{data:k}=fr({queryKey:["product-social-settings"],queryFn:async()=>{const T=["messenger_enabled","messenger_page_id","call_enabled","call_number"],{data:D,error:X}=await Q.from("admin_settings").select("key, value").in("key",T);if(X)throw X;const A={messenger_enabled:!1,messenger_page_id:"",call_enabled:!1,call_number:""};return D==null||D.forEach(q=>{q.key==="messenger_enabled"&&(A.messenger_enabled=q.value==="true"),q.key==="messenger_page_id"&&(A.messenger_page_id=q.value),q.key==="call_enabled"&&(A.call_enabled=q.value==="true"),q.key==="call_number"&&(A.call_number=q.value)}),A},staleTime:1e3*60*5}),_=o?p.some(T=>T.id===o.id):!1,j=(o==null?void 0:o.variations)&&o.variations.length>0;if(v.useEffect(()=>{o&&w&&(console.log("Firing ViewContent for product:",o.name),x({content_ids:[o.id],content_name:o.name,content_type:"product",value:o.price,currency:"BDT"}),S({contentId:o.id,contentName:o.name,value:o.price,currency:"BDT"}))},[o,w,x,S]),v.useEffect(()=>{(async()=>{if(e){h(!0);try{const[D,X]=await Promise.all([Epe(e),c7()]);if(D)l(D),m(void 0),u(X.filter(A=>A.category===D.category&&A.id!==D.id).slice(0,4));else{const A=HM(e);A&&(l(A),m(void 0),u(GM(A.category,A.id)))}}catch(D){console.error("Failed to load product:",D);const X=HM(e);X&&(l(X),m(void 0),u(GM(X.category,X.id)))}finally{h(!1)}}})(),window.scrollTo(0,0)},[e]),d)return s.jsx("div",{className:"min-h-screen pt-40 pb-16 flex items-center justify-center",children:s.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})});if(!o)return s.jsx("div",{className:"min-h-screen pt-40 pb-16 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Product Not Found"}),s.jsx(U,{asChild:!0,children:s.jsx(Ke,{to:"/",children:"Back to Home"})})]})});const C=T=>`${T.toLocaleString("en-BD")}`,I=(f==null?void 0:f.price)??o.price,M=(f==null?void 0:f.original_price)??o.originalPrice,$=M?M-I:0,W=(f==null?void 0:f.stock)??o.stock,V=()=>{if(j&&!f){G.error("  ");return}g(hh({product:o,quantity:a,variation:f})),g(zb());const T=y("AddToCart");console.log("Firing AddToCart for product:",o.name,"eventId:",T),b({content_ids:[o.id],content_name:o.name,content_type:"product",value:I*a,currency:"BDT"},T),N({contentId:o.id,contentName:o.name,value:I*a,quantity:a,currency:"BDT"}),G.success("Added to cart!")},E=()=>{if(j&&!f){G.error("  ");return}g(hh({product:o,quantity:a,variation:f}));const T=y("AddToCart");console.log("Firing AddToCart (Buy Now) for product:",o.name,"eventId:",T),b({content_ids:[o.id],content_name:o.name,content_type:"product",value:I*a,currency:"BDT"},T),N({contentId:o.id,contentName:o.name,value:I*a,quantity:a,currency:"BDT"}),t("/checkout")},P=()=>{g(mP(o)),G.success(_?"Removed from wishlist":"Added to wishlist!")},R=()=>{k!=null&&k.call_number&&(window.location.href=`tel:${k.call_number}`)},O=()=>{if(k!=null&&k.messenger_page_id){const T=k.messenger_page_id.trim(),D=T.startsWith("http")?T:`https://${T}`;window.open(D,"_blank")}};return s.jsxs(s.Fragment,{children:[s.jsx(Ap,{}),s.jsx("div",{className:"min-h-screen pt-32 pb-16 bg-background",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("nav",{className:"mb-6 text-sm",children:[s.jsxs("ol",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("li",{children:s.jsx(Ke,{to:"/",className:"hover:text-primary transition-colors",children:"Home"})}),s.jsx("li",{className:"text-muted-foreground/50",children:""}),s.jsx("li",{children:s.jsx(Ke,{to:"/products",className:"hover:text-primary transition-colors",children:"Products"})}),s.jsx("li",{className:"text-muted-foreground/50",children:""}),s.jsx("li",{className:"text-foreground truncate max-w-[200px]",children:o.name})]}),s.jsxs(Ke,{to:"/",className:"inline-flex items-center gap-1 text-muted-foreground hover:text-primary mt-2 text-sm transition-colors",children:[s.jsx(io,{className:"h-4 w-4"}),"Back To Home"]})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12",children:[s.jsxs(Ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[s.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-muted mb-4 border border-border",children:[s.jsx("img",{src:o.images[r],alt:o.name,className:"w-full h-full object-cover"}),o.images.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>n(T=>T===0?o.images.length-1:T-1),className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-background/90 backdrop-blur-sm flex items-center justify-center hover:bg-background transition-colors shadow-md",children:s.jsx(io,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>n(T=>T===o.images.length-1?0:T+1),className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-background/90 backdrop-blur-sm flex items-center justify-center hover:bg-background transition-colors shadow-md",children:s.jsx(Ia,{className:"h-5 w-5"})})]})]}),o.images.length>1&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:o.images.map((T,D)=>s.jsx("button",{onClick:()=>n(D),className:`flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 transition-all ${r===D?"border-primary ring-2 ring-primary/20":"border-border hover:border-muted-foreground"}`,children:s.jsx("img",{src:T,alt:`${o.name} ${D+1}`,className:"w-full h-full object-cover"})},D))})]}),s.jsxs(Ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"space-y-5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-foreground leading-tight",children:o.name}),s.jsx(U,{variant:"ghost",size:"icon",onClick:P,className:`flex-shrink-0 ${_?"text-secondary":"text-muted-foreground hover:text-secondary"}`,children:s.jsx(Nl,{className:`h-5 w-5 ${_?"fill-current":""}`})})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"SKU:"})," ",o.id.slice(0,8).toUpperCase()]}),j&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["  : ",s.jsx("span",{className:"font-semibold text-foreground",children:(f==null?void 0:f.name)||""})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.variations.map(T=>s.jsx("button",{onClick:()=>m(T),className:`min-w-[60px] px-4 py-2.5 rounded-full text-sm font-medium border transition-all ${(f==null?void 0:f.id)===T.id?"border-foreground bg-foreground text-background":"border-border bg-background text-foreground hover:border-foreground"}`,children:T.name},T.id))})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"PRICE:"}),s.jsx("span",{className:"text-2xl font-bold text-foreground",children:C(I)}),M&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg text-muted-foreground line-through",children:C(M)}),s.jsxs(Ge,{className:"bg-[#6B8E23] hover:bg-[#556B2F] text-white border-0 px-2 py-0.5 text-xs",children:[$,"  off"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"STATUS:"}),s.jsx("span",{className:`font-bold ${W>0?"text-[#6B8E23]":"text-destructive"}`,children:W>0?"In Stock":"Out of Stock"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Zh,{className:"h-5 w-5 text-[#6B8E23]"}),s.jsx("span",{className:"font-medium",children:"14,360+ Happy Customers"})]}),o.short_description&&s.jsx("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:o.short_description}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[s.jsxs(U,{variant:"outline",size:"lg",className:"w-full h-12 font-semibold border-2 border-foreground hover:bg-muted",onClick:V,disabled:W===0,children:[s.jsx(En,{className:"h-4 w-4 mr-2"}),"Add to Cart"]}),s.jsx(U,{size:"lg",className:"w-full h-12 bg-foreground text-background hover:bg-foreground/90 font-semibold",onClick:E,disabled:W===0,children:"Buy Now"})]}),(k==null?void 0:k.call_enabled)&&(k==null?void 0:k.call_number)&&s.jsxs(U,{size:"lg",className:"w-full h-12 bg-[#6B8E23] hover:bg-[#556B2F] text-white font-semibold",onClick:R,children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Call Now: ",k.call_number]}),(k==null?void 0:k.messenger_enabled)&&(k==null?void 0:k.messenger_page_id)&&s.jsxs(U,{variant:"outline",size:"lg",className:"w-full h-12 bg-background border-2 border-foreground hover:bg-muted font-semibold",onClick:O,children:[s.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5 mr-2 fill-[#0084FF]",children:s.jsx("path",{d:"M12 2C6.36 2 2 6.13 2 11.7c0 2.91 1.19 5.44 3.14 7.17.16.13.26.35.27.57l.05 1.78c.02.59.61.98 1.17.78l1.99-.8c.17-.07.36-.08.53-.04.9.24 1.87.37 2.85.37 5.64 0 10-4.13 10-9.7C22 6.13 17.64 2 12 2zm5.89 7.65l-2.83 4.47c-.44.7-1.36.89-2.03.42l-2.25-1.68c-.2-.15-.47-.15-.66 0l-3.04 2.3c-.4.31-.94-.15-.67-.58l2.83-4.47c.44-.7 1.36-.89 2.03-.42l2.25 1.68c.2.15.47.15.66 0l3.04-2.3c.4-.31.94.15.67.58z"})})," "]})]})]}),o.long_description&&s.jsx(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mt-12",children:s.jsxs(wi,{defaultValue:"description",className:"w-full",children:[s.jsx(Fa,{className:"w-full justify-start border-b border-border rounded-none bg-transparent h-auto p-0 mb-6",children:s.jsx(It,{value:"description",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-6 py-3 text-base font-medium text-muted-foreground data-[state=active]:text-primary",children:" "})}),s.jsx(Ht,{value:"description",className:"mt-0",children:s.jsx("div",{className:"border-l-4 border-amber-500 bg-amber-50 dark:bg-amber-950/20 rounded-r-lg p-6",children:s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-line",children:o.long_description})})})]})}),c.length>0&&s.jsxs("section",{className:"mt-16 pt-16 border-t border-border",children:[s.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-8",children:"Related Products"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:c.map((T,D)=>s.jsx(l7,{product:T,index:D},T.id))})]})]})})]})},Ipe=()=>{const e=is(Ig),t=Vl(),r=i=>`${i.toLocaleString("en-BD")}`,n=i=>{t(hh({product:i})),t(zb()),G.success("Added to cart!")},a=i=>{t(aae(i)),G.success("Removed from wishlist")};return s.jsx("div",{className:"min-h-screen pt-40 pb-16 bg-background",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-2",children:"My Wishlist"}),s.jsxs("p",{className:"text-muted-foreground",children:[e.length," ",e.length===1?"item":"items"," saved"]})]}),e.length===0?s.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center mx-auto mb-6",children:s.jsx(ln,{className:"h-12 w-12 text-muted-foreground/50"})}),s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Your wishlist is empty"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Start adding items you love to your wishlist"}),s.jsx(U,{asChild:!0,children:s.jsxs(Ke,{to:"/products",children:[s.jsx(ih,{className:"h-4 w-4 mr-2"}),"Browse Products"]})})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((i,o)=>s.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-card rounded-xl border border-border overflow-hidden group",children:[s.jsx(Ke,{to:`/product/${i.slug}`,children:s.jsx("div",{className:"aspect-square overflow-hidden bg-muted",children:s.jsx("img",{src:i.images[0],alt:i.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})})}),s.jsxs("div",{className:"p-4",children:[s.jsx(Ke,{to:`/product/${i.slug}`,children:s.jsx("h3",{className:"font-medium text-foreground line-clamp-2 hover:text-primary transition-colors",children:i.name})}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-lg font-bold text-primary",children:r(i.price)}),i.originalPrice&&s.jsx("span",{className:"text-sm text-muted-foreground line-through",children:r(i.originalPrice)})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(U,{variant:"cta",size:"sm",className:"flex-1",onClick:()=>n(i),children:"Add to Cart"}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>a(i.id),className:"text-muted-foreground hover:text-destructive",children:s.jsx(Mr,{className:"h-4 w-4"})})]})]})]},i.id))})]})})},Mpe=()=>{const e=[{icon:NJ,title:" ",description:"        "},{icon:Gi,title:" ",description:"       "},{icon:Tr,title:"  ",description:"        "},{icon:xc,title:" ",description:"    - "}],t=[{icon:Nl,title:"  ",description:"       "},{icon:Dl,title:"   ",description:"       "},{icon:ur,title:"   ",description:"        "}];return s.jsxs(s.Fragment,{children:[s.jsx(Ap,{}),s.jsxs("div",{className:"pt-32 pb-16",children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-primary/10 via-background to-accent/10 py-24 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-accent/10 rounded-full blur-3xl"})]}),s.jsx("div",{className:"container-custom relative z-10",children:s.jsxs(Ue.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-4xl mx-auto",children:[s.jsx(Ue.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"inline-block px-6 py-3 bg-primary/10 text-primary rounded-full text-sm font-semibold mb-8 border border-primary/20",children:"  "}),s.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-display font-bold text-foreground mb-8 leading-tight",children:["    ",s.jsx("span",{className:"block text-primary mt-2",children:"  "})]}),s.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"    "})]})})]}),s.jsx("section",{className:"py-20",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-8",children:" "}),s.jsxs("div",{className:"space-y-6 text-lg text-muted-foreground leading-relaxed",children:[s.jsxs("p",{children:["   ",s.jsx("span",{className:"text-primary font-semibold",children:" -,    "}),"   ,  ",s.jsx("span",{className:"text-foreground font-medium",children:",   "}),"      "]}),s.jsxs("p",{children:["           ,    ",s.jsx("span",{className:"text-primary font-semibold",children:"    "}),""]})]})]}),s.jsx(Ue.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"bg-gradient-to-br from-primary/5 to-accent/5 rounded-3xl p-8 md:p-12 border border-primary/10 mb-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-2xl mb-6",children:s.jsx(Tr,{className:"w-8 h-8 text-primary"})}),s.jsx("h3",{className:"text-2xl md:text-3xl font-display font-bold text-foreground mb-4",children:"    "}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-6",children:"          ,    "}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("span",{className:"px-5 py-3 bg-primary text-primary-foreground rounded-full font-medium",children:"   "}),s.jsx("span",{className:"px-5 py-3 bg-accent text-accent-foreground rounded-full font-medium",children:"  "}),s.jsx("span",{className:"px-5 py-3 bg-secondary text-secondary-foreground rounded-full font-medium",children:" "})]})]})})]})})}),s.jsx("section",{className:"py-20 bg-muted/30",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("span",{className:"inline-block px-4 py-2 bg-primary/10 text-primary rounded-full text-sm font-medium mb-4",children:"   ?"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground",children:" "})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((r,n)=>s.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"bg-card p-6 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 border border-border group hover:border-primary/30 hover:-translate-y-1",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary/20 to-accent/20 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:s.jsx(r.icon,{className:"w-7 h-7 text-primary"})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:r.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:r.description})]},n))})]})}),s.jsx("section",{className:"py-20",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("span",{className:"inline-block px-4 py-2 bg-accent/10 text-accent-foreground rounded-full text-sm font-medium mb-4",children:"  "}),s.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-4",children:"    "})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:t.map((r,n)=>s.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.15},className:"text-center group",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-lg shadow-primary/20",children:s.jsx(r.icon,{className:"w-10 h-10 text-primary-foreground"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:r.title}),s.jsx("p",{className:"text-muted-foreground",children:r.description})]},n))})]})}),s.jsxs("section",{className:"py-20 bg-gradient-to-br from-primary via-primary/90 to-primary/80 text-primary-foreground relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-white/5 rounded-full blur-3xl"})]}),s.jsx("div",{className:"container-custom relative z-10",children:s.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-4xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold mb-6",children:"   "}),s.jsx("p",{className:"text-xl opacity-90 mb-8 leading-relaxed max-w-2xl mx-auto",children:"       ,          "}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-10",children:s.jsxs("div",{className:"flex items-center gap-3 bg-white/20 backdrop-blur-sm rounded-xl px-6 py-4",children:[s.jsx(Qc,{className:"w-6 h-6"}),s.jsx("span",{className:"font-medium",children:"      "})]})}),s.jsx("div",{className:"inline-block px-8 py-5 bg-white/20 backdrop-blur-sm rounded-2xl border border-white/20",children:s.jsxs("p",{className:"text-xl font-display",children:["   ",s.jsx("span",{className:"font-bold",children:"   "})]})})]})})]})]})]})},wt=v.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));wt.displayName="Textarea";const Rpe=()=>{const[e,t]=v.useState({name:"",email:"",phone:"",message:""}),[r,n]=v.useState(!1),a=async l=>{if(l.preventDefault(),!e.name.trim()||!e.message.trim()){G.error("     ");return}n(!0);try{const{error:c}=await Q.from("contact_submissions").insert({name:e.name.trim(),email:e.email.trim()||null,phone:e.phone.trim()||null,message:e.message.trim()});if(c)throw c;G.success("   !"),t({name:"",email:"",phone:"",message:""})}catch(c){console.error("Error submitting contact form:",c),G.error("      ")}finally{n(!1)}},i=[{icon:lo,title:"",content:"Road-1, Mirpur-13, Dhaka-1216",subContent:"Dhaka, Bangladesh",color:"from-red-500 to-rose-600"},{icon:on,title:" / ",content:"01995-909243",subContent:" 10   10",color:"from-green-500 to-emerald-600"},{icon:F8,title:"Facebook Inbox",content:"   ",subContent:"    ",color:"from-blue-500 to-indigo-600"},{icon:ea,title:" ",content:"  -  ",subContent:"",color:"from-purple-500 to-violet-600"}],o=[{icon:ur,title:"",description:"           ",color:"bg-orange-500/10 text-orange-600"},{icon:Dl,title:"   ",description:"        ",color:"bg-teal-500/10 text-teal-600"}];return s.jsxs(s.Fragment,{children:[s.jsx(Ap,{}),s.jsxs("div",{className:"pt-32 pb-16 min-h-screen bg-gradient-to-b from-background via-muted/30 to-background",children:[s.jsxs("section",{className:"relative py-16 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-transparent to-primary/5"}),s.jsx("div",{className:"container-custom relative z-10",children:s.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-3xl mx-auto",children:[s.jsx("span",{className:"inline-block px-4 py-2 bg-primary/10 text-primary rounded-full text-sm font-medium mb-6",children:"    "}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-display font-bold text-foreground mb-6",children:" "}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"            "})]})})]}),s.jsx("section",{className:"py-12",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((l,c)=>s.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"group relative bg-card rounded-2xl p-6 border border-border hover:border-primary/50 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l.color} opacity-0 group-hover:opacity-5 rounded-2xl transition-opacity`}),s.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${l.color} rounded-xl flex items-center justify-center mb-4 shadow-lg`,children:s.jsx(l.icon,{className:"w-7 h-7 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:l.title}),s.jsx("p",{className:"text-foreground font-medium",children:l.content}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l.subContent})]},c))})})}),s.jsx("section",{className:"py-12",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:o.map((l,c)=>s.jsx(Ue.div,{initial:{opacity:0,x:c===0?-20:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-card rounded-2xl p-8 border border-border hover:border-primary/30 transition-all",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 ${l.color} rounded-xl flex items-center justify-center flex-shrink-0`,children:s.jsx(l.icon,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:l.title}),s.jsx("p",{className:"text-muted-foreground",children:l.description})]})]})},c))})})}),s.jsx("section",{className:"py-12",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[s.jsxs(Ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-2 space-y-6",children:[s.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-6",children:" "}),s.jsxs("a",{href:"https://wa.me/8801995909243",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-5 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl hover:shadow-xl hover:shadow-green-500/20 transition-all hover:-translate-y-1",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-bold text-lg",children:"WhatsApp   "}),s.jsx("span",{className:"text-white/80 text-sm",children:"01995-909243"})]})]}),s.jsxs("a",{href:"tel:+8801995909243",className:"flex items-center gap-4 p-5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-2xl hover:shadow-xl hover:shadow-blue-500/20 transition-all hover:-translate-y-1",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx(on,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-bold text-lg",children:"  "}),s.jsx("span",{className:"text-white/80 text-sm",children:" 10   10"})]})]}),s.jsxs("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-5 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-2xl hover:shadow-xl hover:shadow-violet-500/20 transition-all hover:-translate-y-1",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx(Qc,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-bold text-lg",children:"Facebook Inbox"}),s.jsx("span",{className:"text-white/80 text-sm",children:"  "})]})]}),s.jsxs("div",{className:"bg-card rounded-2xl p-6 border border-border",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:s.jsx(lo,{className:"w-5 h-5 text-primary"})}),s.jsx("h3",{className:"font-semibold text-foreground",children:" "})]}),s.jsxs("p",{className:"text-muted-foreground",children:["Road-1, Mirpur-13, Dhaka-1216",s.jsx("br",{}),"Dhaka, Bangladesh"]})]})]}),s.jsx(Ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"lg:col-span-3",children:s.jsxs("div",{className:"bg-card p-8 rounded-2xl border border-border shadow-sm",children:[s.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"        "}),s.jsxs("form",{onSubmit:a,className:"space-y-5",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"  *"}),s.jsx(F,{value:e.name,onChange:l=>t({...e,name:l.target.value}),placeholder:" ",className:"h-12",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:" "}),s.jsx(F,{value:e.phone,onChange:l=>t({...e,phone:l.target.value}),placeholder:"01XXX-XXXXXX",className:"h-12"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:""}),s.jsx(F,{type:"email",value:e.email,onChange:l=>t({...e,email:l.target.value}),placeholder:"email@example.com",className:"h-12"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"  *"}),s.jsx(wt,{value:e.message,onChange:l=>t({...e,message:l.target.value}),placeholder:"  ...",rows:5,required:!0})]}),s.jsxs(U,{type:"submit",size:"lg",className:"w-full h-12",disabled:r,children:[s.jsx(ap,{className:"w-5 h-5 mr-2"}),r?" ...":" "]})]})]})})]})})})]})]})},$pe=()=>{const e=is(hP),t=is(fP),r=Vl(),n=l=>`${l.toLocaleString("en-BD")}`,a=t>=2e3?0:100,i=t+a,o=(l,c)=>{r(wB({productId:l,variationId:c})),G.success("Item removed from cart")};return s.jsx("div",{className:"min-h-screen pt-40 pb-16 bg-background",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-2",children:" "}),s.jsxs("p",{className:"text-muted-foreground",children:["  ",e.length,"  "]})]}),e.length===0?s.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center mx-auto mb-6",children:s.jsx(ln,{className:"h-12 w-12 text-muted-foreground/50"})}),s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"  "}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"    "}),s.jsx(U,{asChild:!0,children:s.jsxs(Ke,{to:"/products",children:[s.jsx(ih,{className:"h-4 w-4 mr-2"})," "]})})]}):s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.map((l,c)=>{var f,m,g;const u=(f=l.variation)!=null&&f.id?`${l.product.id}-${l.variation.id}`:l.product.id,d=((m=l.variation)==null?void 0:m.price)??l.product.price,h=((g=l.variation)==null?void 0:g.original_price)??l.product.originalPrice;return s.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"flex gap-4 p-4 bg-card rounded-xl border border-border",children:[s.jsx(Ke,{to:`/product/${l.product.slug}`,children:s.jsx("img",{src:l.product.images[0],alt:l.product.name,className:"w-24 h-24 md:w-32 md:h-32 object-cover rounded-lg"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(Ke,{to:`/product/${l.product.slug}`,children:s.jsx("h3",{className:"font-medium text-foreground line-clamp-2 hover:text-primary transition-colors",children:l.product.name})}),l.variation&&s.jsx("p",{className:"text-sm font-medium text-primary mt-0.5",children:l.variation.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l.product.category}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-lg font-bold text-primary",children:n(d)}),h&&s.jsx("span",{className:"text-sm text-muted-foreground line-through",children:n(h)})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[s.jsx("button",{onClick:()=>{var p;return r(Ry({productId:l.product.id,variationId:(p=l.variation)==null?void 0:p.id,quantity:l.quantity-1}))},className:"p-2 hover:bg-muted transition-colors",disabled:l.quantity<=1,children:s.jsx(Cg,{className:"h-4 w-4"})}),s.jsx("span",{className:"w-10 text-center font-medium",children:l.quantity}),s.jsx("button",{onClick:()=>{var p;return r(Ry({productId:l.product.id,variationId:(p=l.variation)==null?void 0:p.id,quantity:l.quantity+1}))},className:"p-2 hover:bg-muted transition-colors",children:s.jsx(qt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"font-semibold text-foreground",children:n(d*l.quantity)}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{var p;return o(l.product.id,(p=l.variation)==null?void 0:p.id)},className:"text-muted-foreground hover:text-destructive",children:s.jsx(Mr,{className:"h-4 w-4"})})]})]})]})]},u)}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx(U,{variant:"outline",asChild:!0,children:s.jsxs(Ke,{to:"/products",children:[s.jsx(ih,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]})}),s.jsx(U,{variant:"ghost",onClick:()=>{r(jB()),G.success("Cart cleared")},className:"text-destructive hover:text-destructive",children:"Clear Cart"})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 sticky top-44",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:"Order Summary"}),s.jsxs("div",{className:"space-y-4 pb-6 border-b border-border",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsxs("span",{children:["Subtotal (",e.length," items)"]}),s.jsx("span",{children:n(t)})]}),s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{children:a===0?"Free":n(a)})]}),a>0&&s.jsxs("p",{className:"text-sm text-primary",children:["Add ",n(2e3-t)," more for free shipping!"]})]}),s.jsxs("div",{className:"flex justify-between py-6 text-lg font-bold text-foreground",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:n(i)})]}),s.jsx(U,{variant:"cta",size:"lg",className:"w-full",asChild:!0,children:s.jsxs(Ke,{to:"/checkout",children:["Proceed to Checkout",s.jsx(Lc,{className:"h-5 w-5 ml-2"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"Taxes and shipping calculated at checkout"})]})})]})]})})},Dpe=async e=>{var i;let t;try{t=await Q.functions.invoke("place-order",{body:{userId:e.userId,items:e.items.map(o=>{var l,c;return{productId:o.product.id,variationId:(l=o.variation)==null?void 0:l.id,quantity:o.quantity,productName:o.product.name,productImage:((c=o.product.images)==null?void 0:c[0])??null,price:o.product.price}}),shipping:{name:e.shippingAddress.name,phone:e.shippingAddress.phone,address:e.shippingAddress.address},shippingZone:e.shippingZone||"outside_dhaka"}})}catch(o){const l=o instanceof Error?o.message:typeof o=="string"?o:JSON.stringify(o);throw new Error(`Network error while placing order: ${l}`)}const{data:r,error:n}=t;if(n){if(console.error("Place order error:",JSON.stringify(n,null,2)),console.error("Place order data:",JSON.stringify(r,null,2)),r!=null&&r.error)throw new Error(r.error);const o=n;let l="Failed to place order";if((i=o==null?void 0:o.context)!=null&&i.body)try{const c=typeof o.context.body=="string"?JSON.parse(o.context.body):o.context.body;l=(c==null?void 0:c.error)||(c==null?void 0:c.message)||l}catch{typeof o.context.body=="string"&&(l=o.context.body)}else o!=null&&o.message&&(l=o.message);throw new Error(l)}if(r!=null&&r.error)throw new Error(r.error);if(!(r!=null&&r.orderId))throw new Error("Order creation failed: empty response");const a=new Date().toISOString();return{id:r.orderId,userId:e.userId||"",items:e.items,total:Number(r.total),subtotal:Number(r.subtotal),shipping:Number(r.shippingCost),status:"pending",paymentMethod:"cod",paymentStatus:"pending",shippingAddress:{id:"",name:e.shippingAddress.name,phone:e.shippingAddress.phone,street:e.shippingAddress.address,city:"N/A",district:"N/A",postalCode:""},createdAt:a,updatedAt:a}};var Lpe="Label",h7=v.forwardRef((e,t)=>s.jsx(Be.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));h7.displayName=Lpe;var f7=h7;const Fpe=Qh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=v.forwardRef(({className:e,...t},r)=>s.jsx(f7,{ref:r,className:de(Fpe(),e),...t}));z.displayName=f7.displayName;var Bpe="Separator",KM="horizontal",zpe=["horizontal","vertical"],m7=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=KM,...a}=e,i=Upe(n)?n:KM,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Be.div,{"data-orientation":i,...l,...a,ref:t})});m7.displayName=Bpe;function Upe(e){return zpe.includes(e)}var p7=m7;const iu=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(p7,{ref:a,decorative:r,orientation:t,className:de("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));iu.displayName=p7.displayName;const ou={inside_dhaka:80,outside_dhaka:130},Vpe=["dhaka","","dhanmondi","","gulshan","","banani","","mirpur","","uttara","","mohammadpur","","motijheel","","farmgate","","tejgaon","","badda","","rampura","","khilgaon","","basabo","","shyamoli","","kalabagan","","panthapath","","elephant road","new market"," ","azimpur","","lalbagh","","old dhaka"," ","jatrabari","","demra","","keraniganj","","savar","","tongi","","gazipur","","narayanganj","","bashundhara","","aftabnagar","","banasree","","mogbazar","","eskaton","","malibagh","","shantinagar","","kakrail","","paltan","","shahbag","","sadarghat","","kotwali","","chawkbazar","","wari","","sutrapur","","hazaribagh","","kamrangirchar","","adabor","","kafrul","","pallabi","","dakshinkhan","","khilkhet","","nikunja","","airport","","cantonment","","postogola","","shutrapur","","dhaka-1","dhaka 1","1205","1207","1208","1209","1210","1211","1212","1213","1214","1215","1216","1217","1218","1219","1220","1221","1222","1223","1224","1225","1226","1227","1228","1229","1230","1231","1232","1233","1234","1235","1236","1000","1100","1200","1201","1202","1203","1204","1206"];function Wpe(e){const t=e.toLowerCase().trim();for(const r of Vpe)if(t.includes(r.toLowerCase()))return"inside_dhaka";return"outside_dhaka"}function Ug({address:e,selectedZone:t,onZoneChange:r}){const[n,a]=v.useState(!1),[i,o]=v.useState(null);v.useEffect(()=>{if(!e.trim()){o(null);return}a(!0);const c=setTimeout(()=>{const u=Wpe(e);o(u),r(u),a(!1)},500);return()=>clearTimeout(c)},[e,r]);const l=c=>ou[c];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-foreground",children:"Shipping Zone"}),n&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Kt,{className:"h-4 w-4 animate-spin"}),"Detecting location..."]}),!n&&i&&s.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:"Auto-detected"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>r("inside_dhaka"),className:de("relative flex flex-col items-center gap-2 p-4 rounded-xl border-2 transition-all",t==="inside_dhaka"?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[s.jsx(lo,{className:de("h-6 w-6",t==="inside_dhaka"?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:de("font-medium text-sm",t==="inside_dhaka"?"text-primary":"text-foreground"),children:"Inside Dhaka"}),s.jsxs("span",{className:de("text-lg font-bold",t==="inside_dhaka"?"text-primary":"text-foreground"),children:["",l("inside_dhaka")]}),t==="inside_dhaka"&&s.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-primary-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),s.jsxs("button",{type:"button",onClick:()=>r("outside_dhaka"),className:de("relative flex flex-col items-center gap-2 p-4 rounded-xl border-2 transition-all",t==="outside_dhaka"?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[s.jsx(lo,{className:de("h-6 w-6",t==="outside_dhaka"?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:de("font-medium text-sm",t==="outside_dhaka"?"text-primary":"text-foreground"),children:"Outside Dhaka"}),s.jsxs("span",{className:de("text-lg font-bold",t==="outside_dhaka"?"text-primary":"text-foreground"),children:["",l("outside_dhaka")]}),t==="outside_dhaka"&&s.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-primary-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})]})]})}function QS(e,[t,r]){return Math.min(r,Math.max(t,e))}var Dj=0;function sE(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??XM()),document.body.insertAdjacentElement("beforeend",e[1]??XM()),Dj++,()=>{Dj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Dj--}},[])}function XM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lj="focusScope.autoFocusOnMount",Fj="focusScope.autoFocusOnUnmount",YM={bubbles:!1,cancelable:!0},qpe="FocusScope",Qb=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=Br(a),d=Br(i),h=v.useRef(null),f=lt(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const N=w.target;l.contains(N)?h.current=N:Io(h.current,{select:!0})},x=function(w){if(m.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Io(h.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Io(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,m.paused]),v.useEffect(()=>{if(l){ZM.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(Lj,YM);l.addEventListener(Lj,u),l.dispatchEvent(b),b.defaultPrevented||(Hpe(Qpe(g7(l)),{select:!0}),document.activeElement===p&&Io(l))}return()=>{l.removeEventListener(Lj,u),setTimeout(()=>{const b=new CustomEvent(Fj,YM);l.addEventListener(Fj,d),l.dispatchEvent(b),b.defaultPrevented||Io(p??document.body,{select:!0}),l.removeEventListener(Fj,d),ZM.remove(m)},0)}}},[l,u,d,m]);const g=v.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(x&&b){const y=p.currentTarget,[w,N]=Gpe(y);w&&N?!p.shiftKey&&b===N?(p.preventDefault(),r&&Io(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&Io(N,{select:!0})):b===y&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(Be.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Qb.displayName=qpe;function Hpe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Io(n,{select:t}),document.activeElement!==r)return}function Gpe(e){const t=g7(e),r=QM(t,e),n=QM(t.reverse(),e);return[r,n]}function g7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function QM(e,t){for(const r of e)if(!Kpe(r,{upTo:t}))return r}function Kpe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Xpe(e){return e instanceof HTMLInputElement&&"select"in e}function Io(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Xpe(e)&&t&&e.select()}}var ZM=Ype();function Ype(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=JM(e,t),e.unshift(t)},remove(t){var r;e=JM(e,t),(r=e[0])==null||r.resume()}}}function JM(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Qpe(e){return e.filter(t=>t.tagName!=="A")}function aE(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Zpe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zu=new WeakMap,Qv=new WeakMap,Zv={},Bj=0,v7=function(e){return e&&(e.host||v7(e.parentNode))},Jpe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=v7(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ege=function(e,t,r,n){var a=Jpe(t,Array.isArray(e)?e:[e]);Zv[r]||(Zv[r]=new WeakMap);var i=Zv[r],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(n),g=m!==null&&m!=="false",p=(zu.get(f)||0)+1,x=(i.get(f)||0)+1;zu.set(f,p),i.set(f,x),o.push(f),p===1&&g&&Qv.set(f,!0),x===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(t),l.clear(),Bj++,function(){o.forEach(function(h){var f=zu.get(h)-1,m=i.get(h)-1;zu.set(h,f),i.set(h,m),f||(Qv.has(h)||h.removeAttribute(n),Qv.delete(h)),m||h.removeAttribute(r)}),Bj--,Bj||(zu=new WeakMap,zu=new WeakMap,Qv=new WeakMap,Zv={})}},iE=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Zpe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),ege(n,a,r,"aria-hidden")):function(){return null}},qx="right-scroll-bar-position",Hx="width-before-scroll-bar",tge="with-scroll-bars-hidden",rge="--removed-body-scroll-bar-size";function zj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nge(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var sge=typeof window<"u"?v.useLayoutEffect:v.useEffect,eR=new WeakMap;function age(e,t){var r=nge(null,function(n){return e.forEach(function(a){return zj(a,n)})});return sge(function(){var n=eR.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||zj(l,null)}),i.forEach(function(l){a.has(l)||zj(l,o)})}eR.set(r,e)},[e]),r}function ige(e){return e}function oge(e,t){t===void 0&&(t=ige);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function lge(e){e===void 0&&(e={});var t=oge(null);return t.options=ei({async:!0,ssr:!1},e),t}var x7=function(e){var t=e.sideCar,r=of(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,ei({},r))};x7.isSideCarExport=!0;function cge(e,t){return e.useMedium(t),x7}var y7=lge(),Uj=function(){},Zb=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Uj,onWheelCapture:Uj,onTouchMoveCapture:Uj}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,x=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,w=e.gapMode,N=of(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,k=age([r,t]),_=ei(ei({},N),a);return v.createElement(v.Fragment,null,d&&v.createElement(S,{sideCar:y7,removeScrollBar:u,shards:h,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?v.cloneElement(v.Children.only(l),ei(ei({},_),{ref:k})):v.createElement(y,ei({},_,{className:c,ref:k}),l))});Zb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zb.classNames={fullWidth:Hx,zeroRight:qx};var uge=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dge(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=uge();return t&&e.setAttribute("nonce",t),e}function hge(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function fge(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mge=function(){var e=0,t=null;return{add:function(r){e==0&&(t=dge())&&(hge(t,r),fge(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},pge=function(){var e=mge();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},b7=function(){var e=pge(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},gge={left:0,top:0,right:0,gap:0},Vj=function(e){return parseInt(e||"",10)||0},vge=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Vj(r),Vj(n),Vj(a)]},xge=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gge;var t=vge(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},yge=b7(),Rd="data-scroll-locked",bge=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(tge,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Rd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qx,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Hx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(qx," .").concat(qx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hx," .").concat(Hx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Rd,`] {
    `).concat(rge,": ").concat(l,`px;
  }
`)},tR=function(){var e=parseInt(document.body.getAttribute(Rd)||"0",10);return isFinite(e)?e:0},wge=function(){v.useEffect(function(){return document.body.setAttribute(Rd,(tR()+1).toString()),function(){var e=tR()-1;e<=0?document.body.removeAttribute(Rd):document.body.setAttribute(Rd,e.toString())}},[])},jge=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;wge();var i=v.useMemo(function(){return xge(a)},[a]);return v.createElement(yge,{styles:bge(i,!t,a,r?"":"!important")})},ZS=!1;if(typeof window<"u")try{var Jv=Object.defineProperty({},"passive",{get:function(){return ZS=!0,!0}});window.addEventListener("test",Jv,Jv),window.removeEventListener("test",Jv,Jv)}catch{ZS=!1}var Uu=ZS?{passive:!1}:!1,_ge=function(e){return e.tagName==="TEXTAREA"},w7=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_ge(e)&&r[t]==="visible")},Nge=function(e){return w7(e,"overflowY")},Sge=function(e){return w7(e,"overflowX")},rR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=j7(e,n);if(a){var i=_7(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},kge=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Cge=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},j7=function(e,t){return e==="v"?Nge(t):Sge(t)},_7=function(e,t){return e==="v"?kge(t):Cge(t)},Pge=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ege=function(e,t,r,n,a){var i=Pge(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var m=_7(e,l),g=m[0],p=m[1],x=m[2],b=p-x-i*g;(g||b)&&j7(e,l)&&(h+=b,f+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},ex=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nR=function(e){return[e.deltaX,e.deltaY]},sR=function(e){return e&&"current"in e?e.current:e},Tge=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Oge=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Age=0,Vu=[];function Ige(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(Age++)[0],i=v.useState(b7)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=pae([e.lockRef.current],(e.shards||[]).map(sR),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=ex(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-b[0],N="deltaY"in p?p.deltaY:y[1]-b[1],S,k=p.target,_=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in p&&_==="h"&&k.type==="range")return!1;var j=rR(_,k);if(!j)return!0;if(j?S=_:(S=_==="v"?"h":"v",j=rR(_,k)),!j)return!1;if(!n.current&&"changedTouches"in p&&(w||N)&&(n.current=S),!S)return!0;var C=n.current||S;return Ege(C,x,p,C==="h"?w:N,!0)},[]),c=v.useCallback(function(p){var x=p;if(!(!Vu.length||Vu[Vu.length-1]!==i)){var b="deltaY"in x?nR(x):ex(x),y=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&Tge(S.delta,b)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(sR).filter(Boolean).filter(function(S){return S.contains(x.target)}),N=w.length>0?l(x,w[0]):!o.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(p,x,b,y){var w={name:p,delta:x,target:b,should:y,shadowParent:Mge(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),d=v.useCallback(function(p){r.current=ex(p),n.current=void 0},[]),h=v.useCallback(function(p){u(p.type,nR(p),p.target,l(p,e.lockRef.current))},[]),f=v.useCallback(function(p){u(p.type,ex(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Vu.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Uu),document.addEventListener("touchmove",c,Uu),document.addEventListener("touchstart",d,Uu),function(){Vu=Vu.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Uu),document.removeEventListener("touchmove",c,Uu),document.removeEventListener("touchstart",d,Uu)}},[]);var m=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(i,{styles:Oge(a)}):null,m?v.createElement(jge,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Mge(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Rge=cge(y7,Ige);var Jb=v.forwardRef(function(e,t){return v.createElement(Zb,ei({},e,{ref:t,sideCar:Rge}))});Jb.classNames=Zb.classNames;var $ge=[" ","Enter","ArrowUp","ArrowDown"],Dge=[" ","Enter"],lu="Select",[ew,tw,Lge]=yb(lu),[df,RHe]=On(lu,[Lge,nf]),rw=nf(),[Fge,Wl]=df(lu),[Bge,zge]=df(lu),N7=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:g}=e,p=rw(t),[x,b]=v.useState(null),[y,w]=v.useState(null),[N,S]=v.useState(!1),k=Fg(u),[_,j]=Es({prop:n,defaultProp:a??!1,onChange:i,caller:lu}),[C,I]=Es({prop:o,defaultProp:l,onChange:c,caller:lu}),M=v.useRef(null),$=x?g||!!x.closest("form"):!0,[W,V]=v.useState(new Set),E=Array.from(W).map(P=>P.props.value).join(";");return s.jsx(YC,{...p,children:s.jsxs(Fge,{required:m,scope:t,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:Ks(),value:C,onValueChange:I,open:_,onOpenChange:j,dir:k,triggerPointerDownPosRef:M,disabled:f,children:[s.jsx(ew.Provider,{scope:t,children:s.jsx(Bge,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(P=>{V(R=>new Set(R).add(P))},[]),onNativeOptionRemove:v.useCallback(P=>{V(R=>{const O=new Set(R);return O.delete(P),O})},[]),children:r})}),$?s.jsxs(K7,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:C,onChange:P=>I(P.target.value),disabled:f,form:g,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(W)]},E):null]})})};N7.displayName=lu;var S7="SelectTrigger",k7=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=rw(r),o=Wl(S7,r),l=o.disabled||n,c=lt(t,o.onTriggerChange),u=tw(r),d=v.useRef("touch"),[h,f,m]=Y7(p=>{const x=u().filter(w=>!w.disabled),b=x.find(w=>w.value===o.value),y=Q7(x,p,b);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(kb,{asChild:!0,...i,children:s.jsx(Be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":X7(o.value)?"":void 0,...a,ref:c,onClick:Ie(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ie(a.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ie(a.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(x&&p.key===" ")&&$ge.includes(p.key)&&(g(),p.preventDefault())})})})});k7.displayName=S7;var C7="SelectValue",P7=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Wl(C7,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=lt(t,c.onValueNodeChange);return Er(()=>{u(d)},[u,d]),s.jsx(Be.span,{...l,ref:h,style:{pointerEvents:"none"},children:X7(c.value)?s.jsx(s.Fragment,{children:o}):i})});P7.displayName=C7;var Uge="SelectIcon",E7=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Be.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});E7.displayName=Uge;var Vge="SelectPortal",T7=e=>s.jsx(Sg,{asChild:!0,...e});T7.displayName=Vge;var cu="SelectContent",O7=v.forwardRef((e,t)=>{const r=Wl(cu,e.__scopeSelect),[n,a]=v.useState();if(Er(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ju.createPortal(s.jsx(A7,{scope:e.__scopeSelect,children:s.jsx(ew.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(I7,{...e,ref:t})});O7.displayName=cu;var ga=10,[A7,ql]=df(cu),Wge="SelectContentImpl",qge=Xc("SelectContent.RemoveScroll"),I7=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x,...b}=e,y=Wl(cu,r),[w,N]=v.useState(null),[S,k]=v.useState(null),_=lt(t,H=>N(H)),[j,C]=v.useState(null),[I,M]=v.useState(null),$=tw(r),[W,V]=v.useState(!1),E=v.useRef(!1);v.useEffect(()=>{if(w)return iE(w)},[w]),sE();const P=v.useCallback(H=>{const[re,...te]=$().map(K=>K.ref.current),[ie]=te.slice(-1),ee=document.activeElement;for(const K of H)if(K===ee||(K==null||K.scrollIntoView({block:"nearest"}),K===re&&S&&(S.scrollTop=0),K===ie&&S&&(S.scrollTop=S.scrollHeight),K==null||K.focus(),document.activeElement!==ee))return},[$,S]),R=v.useCallback(()=>P([j,w]),[P,j,w]);v.useEffect(()=>{W&&R()},[W,R]);const{onOpenChange:O,triggerPointerDownPosRef:T}=y;v.useEffect(()=>{if(w){let H={x:0,y:0};const re=ie=>{var ee,K;H={x:Math.abs(Math.round(ie.pageX)-(((ee=T.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((K=T.current)==null?void 0:K.y)??0))}},te=ie=>{H.x<=10&&H.y<=10?ie.preventDefault():w.contains(ie.target)||O(!1),document.removeEventListener("pointermove",re),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",te,{capture:!0})}}},[w,O,T]),v.useEffect(()=>{const H=()=>O(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[O]);const[D,X]=Y7(H=>{const re=$().filter(ee=>!ee.disabled),te=re.find(ee=>ee.ref.current===document.activeElement),ie=Q7(re,H,te);ie&&setTimeout(()=>ie.ref.current.focus())}),A=v.useCallback((H,re,te)=>{const ie=!E.current&&!te;(y.value!==void 0&&y.value===re||ie)&&(C(H),ie&&(E.current=!0))},[y.value]),q=v.useCallback(()=>w==null?void 0:w.focus(),[w]),L=v.useCallback((H,re,te)=>{const ie=!E.current&&!te;(y.value!==void 0&&y.value===re||ie)&&M(H)},[y.value]),J=n==="popper"?JS:M7,le=J===JS?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return s.jsx(A7,{scope:r,content:w,viewport:S,onViewportChange:k,itemRefCallback:A,selectedItem:j,onItemLeave:q,itemTextRefCallback:L,focusSelectedItem:R,selectedItemText:I,position:n,isPositioned:W,searchRef:D,children:s.jsx(Jb,{as:qge,allowPinchZoom:!0,children:s.jsx(Qb,{asChild:!0,trapped:y.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Ie(a,H=>{var re;(re=y.trigger)==null||re.focus({preventScroll:!0}),H.preventDefault()}),children:s.jsx(Yh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(J,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:H=>H.preventDefault(),...b,...le,onPlaced:()=>V(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ie(b.onKeyDown,H=>{const re=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!re&&H.key.length===1&&X(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ie=$().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ee=H.target,K=ie.indexOf(ee);ie=ie.slice(K+1)}setTimeout(()=>P(ie)),H.preventDefault()}})})})})})})});I7.displayName=Wge;var Hge="SelectItemAlignedPosition",M7=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Wl(cu,r),o=ql(cu,r),[l,c]=v.useState(null),[u,d]=v.useState(null),h=lt(t,_=>d(_)),f=tw(r),m=v.useRef(!1),g=v.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&b){const _=i.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(i.dir!=="rtl"){const ee=I.left-j.left,K=C.left-ee,he=_.left-K,ue=_.width+he,be=Math.max(ue,j.width),Me=window.innerWidth-ga,Se=QS(K,[ga,Math.max(ga,Me-be)]);l.style.minWidth=ue+"px",l.style.left=Se+"px"}else{const ee=j.right-I.right,K=window.innerWidth-C.right-ee,he=window.innerWidth-_.right-K,ue=_.width+he,be=Math.max(ue,j.width),Me=window.innerWidth-ga,Se=QS(K,[ga,Math.max(ga,Me-be)]);l.style.minWidth=ue+"px",l.style.right=Se+"px"}const M=f(),$=window.innerHeight-ga*2,W=p.scrollHeight,V=window.getComputedStyle(u),E=parseInt(V.borderTopWidth,10),P=parseInt(V.paddingTop,10),R=parseInt(V.borderBottomWidth,10),O=parseInt(V.paddingBottom,10),T=E+P+W+O+R,D=Math.min(x.offsetHeight*5,T),X=window.getComputedStyle(p),A=parseInt(X.paddingTop,10),q=parseInt(X.paddingBottom,10),L=_.top+_.height/2-ga,J=$-L,le=x.offsetHeight/2,H=x.offsetTop+le,re=E+P+H,te=T-re;if(re<=L){const ee=M.length>0&&x===M[M.length-1].ref.current;l.style.bottom="0px";const K=u.clientHeight-p.offsetTop-p.offsetHeight,he=Math.max(J,le+(ee?q:0)+K+R),ue=re+he;l.style.height=ue+"px"}else{const ee=M.length>0&&x===M[0].ref.current;l.style.top="0px";const he=Math.max(L,E+p.offsetTop+(ee?A:0)+le)+te;l.style.height=he+"px",p.scrollTop=re-L+p.offsetTop}l.style.margin=`${ga}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=$+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,p,x,b,i.dir,n]);Er(()=>w(),[w]);const[N,S]=v.useState();Er(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=v.useCallback(_=>{_&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return s.jsx(Kge,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Be.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});M7.displayName=Hge;var Gge="SelectPopperPosition",JS=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ga,...i}=e,o=rw(r);return s.jsx(QC,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});JS.displayName=Gge;var[Kge,oE]=df(cu,{}),ek="SelectViewport",R7=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=ql(ek,r),o=oE(ek,r),l=lt(t,i.onViewportChange),c=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(ew.Slot,{scope:r,children:s.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ie(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-ga*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),b=Math.max(p,x);if(b<g){const y=b+m,w=Math.min(g,y),N=y-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});R7.displayName=ek;var $7="SelectGroup",[Xge,Yge]=df($7),Qge=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ks();return s.jsx(Xge,{scope:r,id:a,children:s.jsx(Be.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Qge.displayName=$7;var D7="SelectLabel",L7=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Yge(D7,r);return s.jsx(Be.div,{id:a.id,...n,ref:t})});L7.displayName=D7;var Zy="SelectItem",[Zge,F7]=df(Zy),B7=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Wl(Zy,r),c=ql(Zy,r),u=l.value===n,[d,h]=v.useState(i??""),[f,m]=v.useState(!1),g=lt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),p=Ks(),x=v.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Zge,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:v.useCallback(y=>{h(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(ew.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Be.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:Ie(o.onFocus,()=>m(!0)),onBlur:Ie(o.onBlur,()=>m(!1)),onClick:Ie(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:Ie(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:Ie(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Ie(o.onPointerMove,y=>{var w;x.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ie(o.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(Dge.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});B7.displayName=Zy;var vm="SelectItemText",z7=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Wl(vm,r),l=ql(vm,r),c=F7(vm,r),u=zge(vm,r),[d,h]=v.useState(null),f=lt(t,b=>h(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=v.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return Er(()=>(p(g),()=>x(g)),[p,x,g]),s.jsxs(s.Fragment,{children:[s.jsx(Be.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ju.createPortal(i.children,o.valueNode):null]})});z7.displayName=vm;var U7="SelectItemIndicator",V7=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return F7(U7,r).isSelected?s.jsx(Be.span,{"aria-hidden":!0,...n,ref:t}):null});V7.displayName=U7;var tk="SelectScrollUpButton",W7=v.forwardRef((e,t)=>{const r=ql(tk,e.__scopeSelect),n=oE(tk,e.__scopeSelect),[a,i]=v.useState(!1),o=lt(t,n.onScrollButtonChange);return Er(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(H7,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});W7.displayName=tk;var rk="SelectScrollDownButton",q7=v.forwardRef((e,t)=>{const r=ql(rk,e.__scopeSelect),n=oE(rk,e.__scopeSelect),[a,i]=v.useState(!1),o=lt(t,n.onScrollButtonChange);return Er(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(H7,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});q7.displayName=rk;var H7=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=ql("SelectScrollButton",r),o=v.useRef(null),l=tw(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Er(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Be.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ie(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ie(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ie(a.onPointerLeave,()=>{c()})})}),Jge="SelectSeparator",G7=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Be.div,{"aria-hidden":!0,...n,ref:t})});G7.displayName=Jge;var nk="SelectArrow",eve=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=rw(r),i=Wl(nk,r),o=ql(nk,r);return i.open&&o.position==="popper"?s.jsx(ZC,{...a,...n,ref:t}):null});eve.displayName=nk;var tve="SelectBubbleInput",K7=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=v.useRef(null),i=lt(n,a),o=aE(t);return v.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Be.select,{...r,style:{...v8,...r.style},ref:i,defaultValue:t})});K7.displayName=tve;function X7(e){return e===""||e===void 0}function Y7(e){const t=Br(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function Q7(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=rve(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function rve(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var nve=N7,Z7=k7,sve=P7,ave=E7,ive=T7,J7=O7,ove=R7,eU=L7,tU=B7,lve=z7,cve=V7,rU=W7,nU=q7,sU=G7;const Zt=nve,Jt=sve,Vt=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Z7,{ref:n,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(ave,{asChild:!0,children:s.jsx(Yc,{className:"h-4 w-4 opacity-50"})})]}));Vt.displayName=Z7.displayName;const aU=v.forwardRef(({className:e,...t},r)=>s.jsx(rU,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(CN,{className:"h-4 w-4"})}));aU.displayName=rU.displayName;const iU=v.forwardRef(({className:e,...t},r)=>s.jsx(nU,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Yc,{className:"h-4 w-4"})}));iU.displayName=nU.displayName;const Wt=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(ive,{children:s.jsxs(J7,{ref:a,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(aU,{}),s.jsx(ove,{className:de("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(iU,{})]})}));Wt.displayName=J7.displayName;const uve=v.forwardRef(({className:e,...t},r)=>s.jsx(eU,{ref:r,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));uve.displayName=eU.displayName;const qe=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(tU,{ref:n,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(cve,{children:s.jsx(Ni,{className:"h-4 w-4"})})}),s.jsx(lve,{children:t})]}));qe.displayName=tU.displayName;const dve=v.forwardRef(({className:e,...t},r)=>s.jsx(sU,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));dve.displayName=sU.displayName;const hve=()=>{let e=localStorage.getItem("checkout_session_id");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("checkout_session_id",e)),e},fve=()=>{const e=en(),t=Vl(),{user:r,isLoading:n}=zl(),{toast:a}=TC(),{isReady:i,setUserData:o}=_u(),{trackInitiateCheckout:l}=Nu(),c=is(hP),u=is(fP),d=v.useRef(!1),[h,f]=v.useState({}),m=v.useMemo(()=>Array.from(new Set(c.map(E=>E.product.id))),[c]);v.useEffect(()=>{(async()=>{if(m.length===0)return;const P={};for(const R of c)R.product.variations&&R.product.variations.length>0&&(P[R.product.id]=R.product.variations);try{const{data:R,error:O}=await Q.from("product_variations").select("id, product_id, name, price, original_price, stock, sort_order, is_active").in("product_id",m).eq("is_active",!0).order("sort_order",{ascending:!0});if(O)throw O;const T={};(R||[]).forEach(D=>{const X={id:D.id,product_id:D.product_id,name:D.name,price:Number(D.price),original_price:D.original_price==null?void 0:Number(D.original_price),stock:Number(D.stock),sort_order:Number(D.sort_order??0),is_active:!!D.is_active};T[X.product_id]=[...T[X.product_id]||[],X]}),f({...T,...P})}catch(R){console.error("Failed to load variations for checkout:",R),f(O=>({...P,...O}))}})()},[m,c]);const[g,p]=v.useState(!1),x=v.useRef(null),b=v.useRef(null),[y,w]=v.useState("outside_dhaka"),[N,S]=v.useState({name:"",phone:"",address:""}),k=ou[y],_=u+k;v.useEffect(()=>{(async()=>{if(!r)return;const{data:P}=await Q.from("addresses").select("*").eq("user_id",r.id).eq("is_default",!0).maybeSingle();if(P)S({name:P.name,phone:P.phone,address:`${P.street}, ${P.city}, ${P.district}`});else{const{data:R}=await Q.from("profiles").select("full_name, phone").eq("user_id",r.id).maybeSingle();R&&S(O=>({...O,name:R.full_name||"",phone:R.phone||""}))}})()},[r]);const j=v.useRef(!1);v.useEffect(()=>{!n&&c.length===0&&!j.current&&e("/cart")},[c,n,e]),v.useEffect(()=>{if(i&&c.length>0&&!d.current){console.log("Firing InitiateCheckout event (client + server) with shared event_id");const E=c.map(X=>X.product.id),P=c.reduce((X,A)=>X+A.quantity,0),R=`InitiateCheckout_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,O=N.name.trim().split(" "),T=O[0]||"",D=O.slice(1).join(" ")||"";(N.phone||T)&&(o==null||o({phone:N.phone,firstName:T,lastName:D})),window.fbq&&window.fbq("track","InitiateCheckout",{content_ids:E,num_items:P,value:u,currency:"BDT"},{eventID:R}),l({contentIds:E,value:u,numItems:P,currency:"BDT",eventId:R,userData:N.phone||T?{phone:N.phone||void 0,firstName:T||void 0,lastName:D||void 0}:void 0}).then(X=>{console.log("[CAPI] InitiateCheckout result:",X)}).catch(X=>{console.error("[CAPI] InitiateCheckout error:",X)}),d.current=!0}},[i,c,u,N,o,l]);const C=v.useRef(!1);v.useEffect(()=>{if(!C.current&&N.phone&&/^(\+?880)?01[3-9]\d{8}$/.test(N.phone.replace(/\s/g,""))&&c.length>0){const E=N.name.trim().split(" "),P=E[0]||"",R=E.slice(1).join(" ")||"";o==null||o({phone:N.phone,firstName:P,lastName:R}),console.log("Updated Facebook Pixel with user data for better matching"),C.current=!0}},[N.phone,N.name,c.length,o]);const I=v.useCallback(async()=>{if(c.length===0)return;const E=hve(),P=N.address.split(",").map(O=>O.trim()),R={session_id:E,user_id:(r==null?void 0:r.id)||null,shipping_name:N.name||null,shipping_phone:N.phone||null,shipping_street:P[0]||null,shipping_district:P[1]||null,shipping_city:P[2]||null,items:c.map(O=>({id:O.product.id,name:O.product.name,price:O.product.price,quantity:O.quantity,image:O.product.images[0]||null})),subtotal:u,shipping_cost:k,total:_};try{if(x.current)await Q.from("draft_orders").update(R).eq("id",x.current);else{const{data:O}=await Q.from("draft_orders").select("id").eq("session_id",E).eq("is_converted",!1).maybeSingle();if(O)x.current=O.id,await Q.from("draft_orders").update(R).eq("id",O.id);else{const{data:T}=await Q.from("draft_orders").insert([R]).select("id").single();T&&(x.current=T.id)}}}catch(O){console.error("Error saving draft order:",O)}},[c,N,r,u,k,_]);v.useEffect(()=>(b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{I()},1e3),()=>{b.current&&clearTimeout(b.current)}),[N,c,I]);const M=E=>`${E.toLocaleString("en-BD")}`,$=E=>{const{name:P,value:R}=E.target;S(O=>({...O,[P]:R}))},W=()=>{if(!N.name.trim())return a({title:"Name is required",variant:"destructive"}),!1;if(!N.phone.trim()||!/^(\+?880)?01[3-9]\d{8}$/.test(N.phone.replace(/\s/g,"")))return a({title:"Valid Bangladesh phone number is required",variant:"destructive"}),!1;if(!N.address.trim())return a({title:"Address is required",variant:"destructive"}),!1;const E=c.find(P=>(h[P.product.id]||P.product.variations||[]).length>0&&!P.variation);return E?(a({title:"  ",description:`${E.product.name} -    `,variant:"destructive"}),!1):!0},V=async E=>{if(E.preventDefault(),!!W()){p(!0);try{const P=N.name.trim().split(" "),R=P[0]||"",O=P.slice(1).join(" ")||"";o==null||o({phone:N.phone,firstName:R,lastName:O});const T=await Dpe({userId:(r==null?void 0:r.id)||null,items:c,shippingAddress:{name:N.name,phone:N.phone,address:N.address},paymentMethod:"cod",shippingZone:y});x.current&&await Q.from("draft_orders").update({is_converted:!0,converted_at:new Date().toISOString()}).eq("id",x.current),localStorage.removeItem("checkout_session_id"),j.current=!0;const D=c.map(X=>({productId:X.product.id,productName:X.product.name,price:X.product.price,quantity:X.quantity}));t(jB()),e("/order-confirmation",{state:{orderNumber:T.id,customerName:N.name,phone:N.phone,total:_,items:D,numItems:c.reduce((X,A)=>X+A.quantity,0),city:y==="inside_dhaka"?"dhaka":"bangladesh",district:y==="inside_dhaka"?"dhaka":void 0},replace:!0})}catch(P){console.error("Order error:",P);const R=P instanceof Error?P.message:typeof P=="string"?P:JSON.stringify(P);a({title:"   ",description:R||"  ",variant:"destructive"})}finally{p(!1)}}};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx("main",{className:"min-h-screen bg-muted/30 py-8",children:s.jsxs("div",{className:"container-custom",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(Ke,{to:"/cart",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-4",children:[s.jsx(ih,{className:"h-4 w-4"}),"Back to Cart"]}),s.jsx("h1",{className:"font-display text-3xl font-bold text-foreground",children:"Checkout"}),!r&&s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Checking out as guest."," ",s.jsx(Ke,{to:"/auth",className:"text-primary hover:underline",children:"Sign in"})," ","to track your orders."]})]}),s.jsx("form",{onSubmit:V,children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(ur,{className:"h-5 w-5 text-primary"})}),s.jsx("h2",{className:"font-display text-xl font-semibold text-foreground",children:"Delivery Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"name",children:"Full Name *"}),s.jsx(F,{id:"name",name:"name",placeholder:"Enter your full name",value:N.name,onChange:$,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"phone",children:"Phone Number *"}),s.jsx(F,{id:"phone",name:"phone",placeholder:"01XXX-XXXXXX",value:N.phone,onChange:$,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"address",children:"Full Address *"}),s.jsx(F,{id:"address",name:"address",placeholder:"House no, Road, Area, City, District",value:N.address,onChange:$,required:!0})]}),s.jsx(Ug,{address:N.address,selectedZone:y,onZoneChange:w})]})]}),s.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(WA,{className:"h-5 w-5 text-primary"})}),s.jsx("h2",{className:"font-display text-xl font-semibold text-foreground",children:"Payment Method"})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border-2 border-primary bg-primary/5",children:[s.jsx(WA,{className:"h-6 w-6 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"Cash on Delivery"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pay when you receive your order"})]})]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-sm sticky top-24",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(ln,{className:"h-5 w-5 text-primary"})}),s.jsx("h2",{className:"font-display text-xl font-semibold text-foreground",children:"Order Summary"})]}),s.jsx("div",{className:"space-y-4 mb-6 max-h-64 overflow-y-auto",children:c.map(E=>{var T,D,X;const P=(T=E.variation)!=null&&T.id?`${E.product.id}-${E.variation.id}`:E.product.id,R=((D=E.variation)==null?void 0:D.price)??E.product.price,O=h[E.product.id]||E.product.variations||[];return s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg overflow-hidden flex-shrink-0",children:s.jsx("img",{src:E.product.images[0]||"/placeholder.svg",alt:E.product.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-foreground text-sm line-clamp-2",children:E.product.name}),O.length>0&&s.jsx("div",{className:"mt-2",children:s.jsxs(Zt,{value:(X=E.variation)==null?void 0:X.id,onValueChange:A=>{var L;const q=O.find(J=>J.id===A);q&&t(eae({productId:E.product.id,fromVariationId:(L=E.variation)==null?void 0:L.id,variation:q}))},children:[s.jsx(Vt,{className:"h-8 text-xs",children:s.jsx(Jt,{placeholder:"  "})}),s.jsx(Wt,{children:O.map(A=>s.jsxs(qe,{value:A.id,children:[A.name,"  ",Number(A.price).toLocaleString("en-BD")]},A.id))})]})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Qty: ",E.quantity]})]}),s.jsx("p",{className:"font-semibold text-foreground text-sm",children:M(R*E.quantity)})]},P)})}),s.jsx(iu,{className:"my-4"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsx("span",{className:"font-medium text-foreground",children:M(u)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Shipping (",y==="inside_dhaka"?"Inside Dhaka":"Outside Dhaka",")"]}),s.jsx("span",{className:"font-medium text-foreground",children:M(k)})]})]}),s.jsx(iu,{className:"my-4"}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("span",{className:"font-display text-lg font-semibold text-foreground",children:"Total"}),s.jsx("span",{className:"font-display text-2xl font-bold text-primary",children:M(_)})]}),s.jsx(U,{type:"submit",className:"w-full gradient-hero text-primary-foreground h-12 text-base",disabled:g||c.length===0,children:g?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"h-5 w-5 animate-spin mr-2"}),"Processing..."]}):s.jsxs(s.Fragment,{children:["Place Order  ",M(_)]})}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:"By placing your order, you agree to our Terms of Service and Privacy Policy."})]})})]})})]})})},oU=e=>{const t=(e||"").trim();if(!t)return null;const r=t.match(/<iframe\b[\s\S]*?<\/iframe>/i);if(!r)return null;const a=r[0].match(/src\s*=\s*["']([^"']+)["']/i);if(!a)return null;const i=a[1],o=["youtube.com","youtube-nocookie.com","youtu.be","facebook.com","fb.watch","vimeo.com","dailymotion.com","player.vimeo.com"];try{const l=new URL(i.startsWith("//")?`https:${i}`:i);if(!o.some(u=>l.hostname.includes(u)))return null}catch{return null}return`<iframe src="${i}" style="position:absolute;inset:0;width:100%;height:100%;border:none;overflow:hidden;" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>`},mve=e=>{const t=(e||"").trim();return t?/^https?:\/\//i.test(t)?t:t.startsWith("//")?`https:${t}`:t.startsWith("www.")?`https://${t}`:`https://${t}`:""},Vg=e=>{const t=mve(e);if(!t)return"";const r=t.match(/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/\s]{11})/);if(r)return`https://www.youtube.com/embed/${r[1]}?rel=0`;if(t.includes("facebook.com")||t.includes("fb.watch")){if(t.includes("facebook.com/plugins/video.php"))return t;const n=t.match(/facebook\.com\/(?:reel|reels)\/(\d+)/i),a=t.match(/facebook\.com\/(?:watch\/\?v=|videos\/)(\d+)/i),i=n?`https://www.facebook.com/watch/?v=${n[1]}`:a?`https://www.facebook.com/watch/?v=${a[1]}`:t;return`https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(i)}&show_text=false&lazy=true`}return t},Ip=v.memo(({src:e,alt:t,className:r,priority:n=!1})=>{const[a,i]=v.useState(!1);return s.jsxs("div",{className:`relative overflow-hidden ${r}`,children:[!a&&s.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),s.jsx("img",{src:e,alt:t,loading:n?"eager":"lazy",decoding:"async",onLoad:()=>i(!0),className:`w-full h-full object-cover transition-opacity duration-200 ${a?"opacity-100":"opacity-0"}`})]})});Ip.displayName="OptimizedImage";const lU=v.memo(()=>{const[e]=v.useState(()=>Math.floor(Math.random()*15)+8),[t]=v.useState(()=>Math.floor(Math.random()*10)+3);return s.jsx("div",{className:"bg-[#1a0f0a] text-amber-100 py-2.5 px-4 border-b border-amber-900/30",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-center gap-6 text-sm font-medium flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"flex h-2 w-2 relative",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-amber-400"})]}),s.jsx(Dl,{className:"h-4 w-4 text-amber-400"}),s.jsxs("span",{className:"font-bold text-amber-300",children:[e," "]}),"  "]}),s.jsx("span",{className:"hidden sm:block text-amber-800",children:"|"}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(oh,{className:"h-4 w-4 animate-pulse text-orange-500"})," ",s.jsxs("span",{className:"font-bold text-amber-300",children:[t,""]}),"  !"]})]})})});lU.displayName="UrgencyBanner";const cU=v.memo(({product:e,currentImage:t,setCurrentImage:r,onBuyNow:n})=>{const a=e.images||[],i=e.original_price?Math.round((e.original_price-e.price)/e.original_price*100):0,o=e.original_price?e.original_price-e.price:0;return v.useEffect(()=>{if(a.length<=1)return;const l=setInterval(()=>r((t+1)%a.length),4e3);return()=>clearInterval(l)},[t,a.length,r]),s.jsx("section",{className:"bg-[#1a0f0a] py-8 md:py-12",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 md:gap-10 items-center max-w-6xl mx-auto",children:[s.jsxs("div",{className:"relative max-w-lg mx-auto w-full",children:[s.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-gradient-to-br from-gray-800 to-gray-900 shadow-2xl",children:[i>0&&s.jsxs("span",{className:"absolute top-4 left-4 z-20 bg-red-500 text-white text-sm font-bold px-3 py-1.5 rounded-full shadow-lg",children:["-",i,"% "]}),a[t]&&s.jsx(Ip,{src:a[t],alt:e.name,className:"w-full h-full",priority:!0}),a.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>r((t-1+a.length)%a.length),className:"absolute left-3 top-1/2 -translate-y-1/2 bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white transition-all","aria-label":"Previous",children:s.jsx(io,{className:"h-5 w-5 text-gray-800"})}),s.jsx("button",{onClick:()=>r((t+1)%a.length),className:"absolute right-3 top-1/2 -translate-y-1/2 bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white transition-all","aria-label":"Next",children:s.jsx(Ia,{className:"h-5 w-5 text-gray-800"})}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-black/30 backdrop-blur-sm px-3 py-2 rounded-full",children:a.map((l,c)=>s.jsx("button",{onClick:()=>r(c),className:`h-2 rounded-full transition-all duration-300 ${c===t?"bg-white w-6":"bg-white/50 w-2 hover:bg-white/80"}`},c))})]})]}),a.length>1&&s.jsx("div",{className:"flex gap-3 mt-4 justify-center",children:a.slice(0,5).map((l,c)=>s.jsx("button",{onClick:()=>r(c),className:`w-14 h-14 rounded-xl overflow-hidden border-2 transition-all duration-300 ${c===t?"border-amber-400 scale-110 shadow-lg shadow-amber-500/30":"border-transparent opacity-60 hover:opacity-100 hover:scale-105"}`,children:s.jsx(Ip,{src:l,alt:"",className:"w-full h-full"})},c))})]}),s.jsxs("div",{className:"text-white space-y-4 text-center md:text-left",children:[s.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-red-500/20 text-red-400 px-3 py-1 rounded-full text-sm font-medium",children:[s.jsx(oh,{className:"h-3.5 w-3.5"}),"  "]}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold leading-tight text-amber-50",children:e.name}),e.short_description&&s.jsx("p",{className:"text-base md:text-lg text-amber-100/70 leading-relaxed",children:e.short_description}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap py-4 px-5 bg-gradient-to-r from-amber-900/30 to-amber-800/20 rounded-xl border border-amber-700/30 justify-center md:justify-start",children:[s.jsxs("span",{className:"text-4xl md:text-5xl font-bold text-amber-400",children:["",e.price.toLocaleString()]}),e.original_price&&e.original_price>e.price&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-xl text-amber-100/40 line-through",children:["",e.original_price.toLocaleString()]}),s.jsxs("span",{className:"bg-green-500 text-white text-sm font-bold px-2.5 py-1 rounded-full",children:["",o.toLocaleString()," !"]})]})]}),s.jsxs(U,{onClick:n,size:"lg",className:"w-full md:w-auto px-10 py-6 text-xl font-bold bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-gray-900 rounded-xl shadow-lg shadow-amber-500/30 hover:shadow-xl hover:shadow-amber-500/40 transition-all duration-300 hover:scale-[1.02] active:scale-[0.98]",children:[s.jsx(ln,{className:"mr-2 h-5 w-5"}),"  "]}),s.jsx("div",{className:"grid grid-cols-3 gap-3 pt-2",children:[{icon:Ma,text:"% "},{icon:ur,text:" "},{icon:jb,text:"  "}].map((l,c)=>s.jsxs("div",{className:"text-center p-3 rounded-xl bg-amber-900/20 border border-amber-800/30 hover:bg-amber-900/30 transition-colors",children:[s.jsx(l.icon,{className:"h-5 w-5 mx-auto mb-1.5 text-amber-400"}),s.jsx("span",{className:"text-xs font-medium text-amber-100/80",children:l.text})]},c))})]})]})})})});cU.displayName="HeroSection";const uU=v.memo(()=>s.jsx("section",{className:"bg-gradient-to-r from-amber-400 via-yellow-400 to-amber-400 py-4 overflow-hidden",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"flex flex-wrap justify-center gap-3 md:gap-6",children:[{text:" ",icon:""},{text:" ",icon:""},{text:" ",icon:""},{text:" ",icon:""}].map((e,t)=>s.jsxs("div",{className:"flex items-center gap-2 bg-white/60 backdrop-blur-sm px-4 py-2 rounded-full text-gray-800 font-semibold text-sm shadow-sm hover:bg-white/80 transition-colors",children:[s.jsx("span",{children:e.icon}),s.jsx(Zh,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:e.text})]},t))})})}));uU.displayName="FeaturesBanner";const dU=v.memo(({images:e})=>!e||e.length<2?null:s.jsx("section",{className:"py-12 md:py-16 bg-[#0f0805]",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("span",{className:"inline-block bg-amber-500/20 text-amber-400 px-4 py-1.5 rounded-full text-sm font-medium mb-3",children:" "}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-amber-50",children:" "})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.slice(0,6).map((t,r)=>s.jsx("div",{className:"group aspect-square rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 ring-1 ring-amber-800/30",children:s.jsx(Ip,{src:t,alt:"",className:"w-full h-full group-hover:scale-110 transition-transform duration-500"})},r))})]})})}));dU.displayName="GallerySection";const hU=v.memo(({videoUrl:e})=>{if(!e)return null;const t=(e||"").trim(),r=t.startsWith("<"),a=r?(i=>{const o=i.match(/width=["']?(\d+)/i),l=i.match(/height=["']?(\d+)/i),c=o?parseInt(o[1]):16,u=l?parseInt(l[1]):9;return{aspectRatio:c/u,isPortrait:u>c}})(t):{aspectRatio:16/9,isPortrait:!1};return s.jsx("section",{className:"py-10 md:py-16 bg-[#1a0f0a]",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("span",{className:"inline-flex items-center gap-2 bg-amber-500/20 text-amber-400 px-4 py-1.5 rounded-full text-sm font-medium mb-3",children:[s.jsx(Pg,{className:"h-4 w-4"})," "]}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-amber-50",children:" "})]}),s.jsx("div",{className:`max-w-3xl mx-auto ${a.isPortrait?"max-w-sm":""}`,children:s.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-gray-900 ring-1 ring-white/10",style:{aspectRatio:a.isPortrait?"9/16":"16/9"},children:r?s.jsx("div",{className:"absolute inset-0 [&>iframe]:!absolute [&>iframe]:!inset-0 [&>iframe]:!w-full [&>iframe]:!h-full [&>iframe]:!border-0",dangerouslySetInnerHTML:{__html:t}}):t.match(/\.(mp4|webm|ogg)$/i)?s.jsx("video",{src:t,controls:!0,className:"absolute inset-0 w-full h-full object-contain",preload:"metadata",playsInline:!0}):s.jsx("iframe",{src:Vg(t),title:"Video",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",referrerPolicy:"no-referrer-when-downgrade",className:"absolute inset-0 w-full h-full border-0"})})})]})})});hU.displayName="VideoSection";const fU=v.memo(({description:e})=>{if(!e||!e.trim())return null;const t=e.split(`
`).filter(r=>r.trim());return s.jsx("section",{className:"py-10 md:py-16 bg-[#0f0805]",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("span",{className:"inline-flex items-center gap-2 bg-amber-500/20 text-amber-400 px-4 py-1.5 rounded-full text-sm font-medium mb-3",children:" "}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-amber-50",children:" "})]}),s.jsxs("div",{className:"bg-[#1a0f0a] rounded-2xl shadow-xl border border-amber-800/30 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-amber-600 to-amber-500 p-4",children:s.jsx("h3",{className:"text-lg font-bold text-white",children:"  "})}),s.jsx("div",{className:"p-6",children:s.jsx("ul",{className:"space-y-3",children:t.map((r,n)=>{const a=r.replace(/^[\s\-\*\u25CA\u25C6\u25CF\u25CB\u25AA\u25AB]+/g,"").trim();return a?s.jsx("li",{className:"p-4 rounded-xl bg-amber-900/20 border border-amber-800/30 hover:bg-amber-900/30 transition-all duration-300",children:s.jsx("span",{className:"text-amber-100 font-medium text-base md:text-lg leading-relaxed",children:a})},n):null})})}),s.jsx("div",{className:"bg-gradient-to-r from-amber-700/30 to-amber-600/30 p-4 border-t border-amber-700/30",children:s.jsx("p",{className:"text-center text-amber-300 font-medium",children:"%   "})})]})]})})})});fU.displayName="ProductDescriptionSection";const mU=v.memo(()=>s.jsx("section",{className:"py-8 md:py-12 bg-[#1a0f0a]",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center text-amber-50 mb-6",children:"  "}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4 max-w-3xl mx-auto",children:[{icon:ur,title:" ",sub:" ",color:"bg-blue-500"},{icon:ea,title:"- ",sub:"",color:"bg-green-500"},{icon:Ma,title:" ",sub:"",color:"bg-purple-500"}].map((e,t)=>s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-900/20 rounded-xl border border-amber-800/30",children:[s.jsx("div",{className:`w-12 h-12 ${e.color} rounded-xl flex items-center justify-center flex-shrink-0`,children:s.jsx(e.icon,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-amber-100",children:e.title}),s.jsx("p",{className:"text-sm text-amber-200/70",children:e.sub})]})]},t))})]})}));mU.displayName="DeliverySection";const pU=v.memo(({product:e,onSubmit:t,isSubmitting:r})=>{var b;const[n,a]=v.useState({name:"",phone:"",address:"",quantity:1,selectedVariationId:""}),[i,o]=v.useState("outside_dhaka"),l=v.useRef(null),c=v.useRef(null),u=v.useMemo(()=>{const y=new Set,w=[];for(const N of e.variations||[]){const S=String(N.name||"").trim().toLowerCase();S&&(y.has(S)||(y.add(S),w.push(N)))}return w},[e.variations]),d=v.useMemo(()=>u.find(y=>y.id===n.selectedVariationId),[u,n.selectedVariationId]),h=(d==null?void 0:d.price)||e.price,f=h*n.quantity,m=ou[i],g=f+m,p=y=>{var w;if(y.preventDefault(),u.length>0&&!n.selectedVariationId){G.error("  "),(w=c.current)==null||w.scrollIntoView({behavior:"smooth",block:"center"});return}if(!n.name.trim()||!n.phone.trim()||!n.address.trim()){G.error("   ");return}if(!/^01[3-9]\d{8}$/.test(n.phone.replace(/\s/g,""))){G.error("   ");return}t({...n,shippingZone:i,subtotal:f,shippingCost:m,total:g})},x=v.useCallback((y,w)=>{a(N=>({...N,[y]:w}))},[]);return s.jsx("section",{id:"checkout",className:"py-8 md:py-12 bg-gradient-to-b from-[#0f0805] to-[#1a0f0a]",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-lg mx-auto",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-amber-50",children:" "}),s.jsx("p",{className:"text-amber-200/70 text-sm mt-1",children:"     "})]}),s.jsxs("form",{ref:l,onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border",children:[s.jsxs("div",{className:"bg-gray-900 text-white py-3 px-4 font-bold flex items-center gap-2",children:[s.jsx(ln,{className:"h-4 w-4"}),""]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex gap-3 items-center mb-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:((b=e.images)==null?void 0:b[0])&&s.jsx(Ip,{src:e.images[0],alt:"",className:"w-full h-full"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-gray-900 truncate",children:e.name}),s.jsxs("p",{className:"text-xl font-bold text-amber-600",children:["",h.toLocaleString()]})]})]}),u.length>0&&s.jsxs("div",{ref:c,className:"mb-4",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(y=>s.jsx("button",{type:"button",onClick:()=>x("selectedVariationId",y.id),className:`px-4 py-2.5 rounded-lg font-semibold transition-all border-2 ${n.selectedVariationId===y.id?"border-amber-500 bg-amber-500 text-white shadow-md":"border-gray-200 bg-gray-50 text-gray-700 hover:border-amber-300"}`,children:y.name},y.id))}),!n.selectedVariationId&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"*   "})]}),s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[s.jsx("span",{className:"font-medium text-gray-700",children:""}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>x("quantity",Math.max(1,n.quantity-1)),className:"w-9 h-9 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 font-bold text-lg",children:""}),s.jsx("span",{className:"text-lg font-bold w-6 text-center",children:n.quantity}),s.jsx("button",{type:"button",onClick:()=>x("quantity",n.quantity+1),className:"w-9 h-9 rounded-full bg-amber-500 text-white flex items-center justify-center hover:bg-amber-600 font-bold text-lg",children:"+"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border space-y-3",children:[s.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(on,{className:"h-4 w-4 text-amber-500"})," "]}),s.jsx(F,{value:n.phone,onChange:y=>x("phone",y.target.value),placeholder:"  *",type:"tel",inputMode:"numeric",required:!0,className:"h-12 text-base rounded-lg border-2 focus:border-amber-500"}),s.jsx(F,{value:n.name,onChange:y=>x("name",y.target.value),placeholder:"  *",required:!0,className:"h-12 text-base rounded-lg border-2 focus:border-amber-500"}),s.jsxs("div",{className:"relative",children:[s.jsx(lo,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),s.jsx(wt,{value:n.address,onChange:y=>x("address",y.target.value),placeholder:"  (, , , ) *",required:!0,rows:2,className:"pl-10 text-base rounded-lg border-2 focus:border-amber-500 resize-none"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border",children:[s.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-900 mb-3",children:[s.jsx(ur,{className:"h-4 w-4 text-amber-500"})," "]}),s.jsx(Ug,{address:n.address,selectedZone:i,onZoneChange:o})]}),s.jsx("div",{className:"bg-gray-900 rounded-xl p-4 text-white",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[" (",n.quantity,")"]}),s.jsxs("span",{children:["",f.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsxs("span",{children:["",m]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-700",children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"text-amber-400",children:["",g.toLocaleString()]})]})]})}),s.jsx(U,{type:"submit",disabled:r,className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl shadow-xl disabled:opacity-70",children:r?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Zh,{className:"h-5 w-5"}),"    ",g.toLocaleString()]})}),s.jsxs("div",{className:"text-center text-sm text-amber-200/70 space-y-1",children:[s.jsxs("p",{children:[" : ",s.jsx("a",{href:"tel:+8801995909243",className:"font-bold text-amber-300",children:"01995909243"})]}),s.jsxs("a",{href:"https://wa.me/8801995909243",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-green-400 font-medium hover:text-green-300",children:[s.jsx(Qc,{className:"h-4 w-4"}),"WhatsApp"]})]})]})]})})})});pU.displayName="CheckoutSection";const pve=()=>{const{slug:e}=Ab(),t=en(),[r,n]=v.useState(0),[a,i]=v.useState(!1),[o,l]=v.useState(!0),c=v.useRef(null);v.useEffect(()=>{const g=()=>{if(c.current){const b=c.current.getBoundingClientRect().top<window.innerHeight*.7;l(!b)}};window.addEventListener("scroll",g,{passive:!0});const p=setTimeout(g,100);return()=>{window.removeEventListener("scroll",g),clearTimeout(p)}},[]);const{data:u,isLoading:d,error:h}=fr({queryKey:["product-landing",e],queryFn:async()=>{var b;const{data:g}=await Q.from("landing_pages").select("*").eq("slug",e).eq("is_published",!0).single(),p=(b=g==null?void 0:g.product_ids)==null?void 0:b[0];if(p){const{data:y}=await Q.from("products").select("*, long_description").eq("id",p).single();if(y){const{data:w}=await Q.from("product_variations").select("*").eq("product_id",p).eq("is_active",!0).order("sort_order");return{...y,images:y.images||[],variations:w||[],long_description:y.long_description}}}const{data:x}=await Q.from("products").select("*, long_description").eq("slug",e).single();if(x){const{data:y}=await Q.from("product_variations").select("*").eq("product_id",x.id).eq("is_active",!0).order("sort_order");return{...x,images:x.images||[],variations:y||[],long_description:x.long_description}}throw new Error("Product not found")},staleTime:5*60*1e3}),f=v.useCallback(()=>{var g;(g=document.getElementById("checkout"))==null||g.scrollIntoView({behavior:"smooth"})},[]),m=async g=>{if(u){i(!0);try{const{data:p,error:x}=await Q.functions.invoke("place-order",{body:{userId:null,items:[{productId:u.id,variationId:g.selectedVariationId||null,quantity:g.quantity}],shipping:{name:g.name,phone:g.phone,address:g.address},shippingZone:g.shippingZone,orderSource:"landing_page",notes:`LP:${e}`}});if(x)throw x;if(p!=null&&p.error){G.error(p.error);return}if(!(p!=null&&p.orderId))throw new Error("Order was not created");t("/order-confirmation",{state:{orderNumber:p.orderNumber||p.orderId,customerName:g.name,phone:g.phone,total:g.total,items:[{productId:u.id,productName:u.name,price:g.subtotal/g.quantity,quantity:g.quantity}],numItems:g.quantity,fromLandingPage:!0,landingPageSlug:e}})}catch(p){console.error("Order error:",p),G.error("      ")}finally{i(!1)}}};return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#1a0f0a]",children:s.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):h||!u?s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#1a0f0a] p-4",children:[s.jsx("h1",{className:"text-xl font-bold mb-4 text-amber-50",children:"  "}),s.jsx(U,{onClick:()=>t("/"),className:"bg-amber-500 hover:bg-amber-600 text-gray-900",children:"  "})]}):s.jsxs("div",{className:"min-h-screen bg-[#0f0805]",children:[s.jsx(lU,{}),s.jsx(cU,{product:u,currentImage:r,setCurrentImage:n,onBuyNow:f}),s.jsx(uU,{}),s.jsx(fU,{description:u.long_description}),s.jsx(dU,{images:u.images}),s.jsx(hU,{videoUrl:u.video_url}),s.jsx(mU,{}),s.jsx("div",{ref:c,children:s.jsx(pU,{product:u,onSubmit:m,isSubmitting:a})}),o&&s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-3 bg-[#1a0f0a]/95 backdrop-blur-sm border-t border-amber-800/30 md:hidden z-50 safe-area-inset-bottom",children:s.jsxs(U,{onClick:f,className:"w-full h-12 text-base font-bold bg-gradient-to-r from-amber-500 to-yellow-500 text-gray-900 rounded-xl shadow-lg shadow-amber-500/30",children:[s.jsx(ln,{className:"mr-2 h-5 w-5"}),"  "]})})]})};var nw="Collapsible",[gve,gU]=On(nw),[vve,lE]=gve(nw),vU=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=Es({prop:n,defaultProp:a??!1,onChange:o,caller:nw});return s.jsx(vve,{scope:r,disabled:i,contentId:Ks(),open:c,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Be.div,{"data-state":hE(c),"data-disabled":i?"":void 0,...l,ref:t})})});vU.displayName=nw;var xU="CollapsibleTrigger",cE=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=lE(xU,r);return s.jsx(Be.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":hE(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ie(e.onClick,a.onOpenToggle)})});cE.displayName=xU;var uE="CollapsibleContent",dE=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=lE(uE,e.__scopeCollapsible);return s.jsx(Wn,{present:r||a.open,children:({present:i})=>s.jsx(xve,{...n,ref:t,present:i})})});dE.displayName=uE;var xve=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=lE(uE,r),[l,c]=v.useState(n),u=v.useRef(null),d=lt(t,u),h=v.useRef(0),f=h.current,m=v.useRef(0),g=m.current,p=o.open||l,x=v.useRef(p),b=v.useRef(void 0);return v.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),Er(()=>{const y=u.current;if(y){b.current=b.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();h.current=w.height,m.current=w.width,x.current||(y.style.transitionDuration=b.current.transitionDuration,y.style.animationName=b.current.animationName),c(n)}},[o.open,n]),s.jsx(Be.div,{"data-state":hE(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&a})});function hE(e){return e?"open":"closed"}var yU=vU,yve=cE,bve=dE,Wa="Accordion",wve=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[fE,jve,_ve]=yb(Wa),[sw,$He]=On(Wa,[_ve,gU]),mE=gU(),bU=B.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(fE.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(Cve,{...i,ref:t}):s.jsx(kve,{...a,ref:t})})});bU.displayName=Wa;var[wU,Nve]=sw(Wa),[jU,Sve]=sw(Wa,{collapsible:!1}),kve=B.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Es({prop:r,defaultProp:n??"",onChange:a,caller:Wa});return s.jsx(wU,{scope:e.__scopeAccordion,value:B.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:B.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(jU,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(_U,{...o,ref:t})})})}),Cve=B.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Es({prop:r,defaultProp:n??[],onChange:a,caller:Wa}),c=B.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=B.useCallback(d=>l((h=[])=>h.filter(f=>f!==d)),[l]);return s.jsx(wU,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(jU,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(_U,{...i,ref:t})})})}),[Pve,aw]=sw(Wa),_U=B.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=B.useRef(null),c=lt(l,t),u=jve(r),h=Fg(a)==="ltr",f=Ie(e.onKeyDown,m=>{var j;if(!wve.includes(m.key))return;const g=m.target,p=u().filter(C=>{var I;return!((I=C.ref.current)!=null&&I.disabled)}),x=p.findIndex(C=>C.ref.current===g),b=p.length;if(x===-1)return;m.preventDefault();let y=x;const w=0,N=b-1,S=()=>{y=x+1,y>N&&(y=w)},k=()=>{y=x-1,y<w&&(y=N)};switch(m.key){case"Home":y=w;break;case"End":y=N;break;case"ArrowRight":i==="horizontal"&&(h?S():k());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(h?k():S());break;case"ArrowUp":i==="vertical"&&k();break}const _=y%b;(j=p[_].ref.current)==null||j.focus()});return s.jsx(Pve,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(fE.Slot,{scope:r,children:s.jsx(Be.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:f})})})}),Jy="AccordionItem",[Eve,pE]=sw(Jy),NU=B.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=aw(Jy,r),o=Nve(Jy,r),l=mE(r),c=Ks(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx(Eve,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(yU,{"data-orientation":i.orientation,"data-state":TU(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});NU.displayName=Jy;var SU="AccordionHeader",kU=B.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=aw(Wa,r),i=pE(SU,r);return s.jsx(Be.h3,{"data-orientation":a.orientation,"data-state":TU(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});kU.displayName=SU;var sk="AccordionTrigger",CU=B.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=aw(Wa,r),i=pE(sk,r),o=Sve(sk,r),l=mE(r);return s.jsx(fE.ItemSlot,{scope:r,children:s.jsx(yve,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});CU.displayName=sk;var PU="AccordionContent",EU=B.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=aw(Wa,r),i=pE(PU,r),o=mE(r);return s.jsx(bve,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});EU.displayName=PU;function TU(e){return e?"open":"closed"}var Tve=bU,Ove=NU,Ave=kU,OU=CU,AU=EU;const IU=Tve,gE=v.forwardRef(({className:e,...t},r)=>s.jsx(Ove,{ref:r,className:de("border-b",e),...t}));gE.displayName="AccordionItem";const vE=v.forwardRef(({className:e,children:t,...r},n)=>s.jsx(Ave,{className:"flex",children:s.jsxs(OU,{ref:n,className:de("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(Yc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));vE.displayName=OU.displayName;const xE=v.forwardRef(({className:e,children:t,...r},n)=>s.jsx(AU,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:de("pb-4 pt-0",e),children:t})}));xE.displayName=AU.displayName;const To=({children:e,className:t,style:r,id:n})=>{const a=v.useRef(null),i=Whe(a,{once:!0,margin:"-50px"});return s.jsx(Ue.section,{ref:a,id:n,className:t,style:r,initial:{opacity:0,y:30},animate:i?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.6,ease:"easeOut"},children:e})},Ive={primaryColor:"#000000",secondaryColor:"#f5f5f5",accentColor:"#ef4444",backgroundColor:"#ffffff",textColor:"#1f2937",fontFamily:"Inter",borderRadius:"8px",buttonStyle:"filled"},Mve=()=>{const{slug:e}=Ab(),{data:t,isLoading:r,error:n}=fr({queryKey:["landing-page",e],queryFn:async()=>{const{data:o,error:l}=await Q.from("landing_pages").select("*").eq("slug",e).eq("is_published",!0).eq("is_active",!0).single();if(l)throw l;return o}});if(r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(n||!t)return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground",children:"This landing page does not exist or is not published."}),s.jsx(U,{asChild:!0,children:s.jsx(Ke,{to:"/",children:"Go Home"})})]});const a=t.sections||[],i=t.theme_settings||Ive;return s.jsxs("div",{className:"min-h-screen",style:{fontFamily:i.fontFamily,backgroundColor:i.backgroundColor,color:i.textColor},children:[t.meta_title&&s.jsx("title",{children:t.meta_title}),t.custom_css&&s.jsx("style",{children:t.custom_css}),a.length===0?s.jsx("div",{className:"min-h-screen flex items-center justify-center text-muted-foreground",children:s.jsx("p",{children:"This page has no content yet."})}):a.map(o=>s.jsx(Rve,{section:o,theme:i,slug:e||""},o.id))]})},Rve=({section:e,theme:t,slug:r})=>{var P,R,O,T,D,X;const n=en(),[a,i]=v.useState(0),[o,l]=v.useState({days:0,hours:0,minutes:0,seconds:0}),[c,u]=v.useState({name:"",phone:"",address:"",quantity:1,selectedVariationId:""}),[d,h]=v.useState([]),[f,m]=v.useState(void 0),[g,p]=v.useState(""),[x,b]=v.useState("outside_dhaka"),[y,w]=v.useState(!1),[N,S]=v.useState([]),[k,_]=v.useState(0);v.useEffect(()=>{var J;if(e.type!=="checkout-form")return;const A=e.settings,q=(J=A.productIds)!=null&&J.length?A.productIds:A.productId?[A.productId]:[];if(q.length===0)return;(async()=>{const{data:le}=await Q.from("products").select("id, name, price, original_price, images").in("id",q);if(le){const H=await Promise.all(le.map(async re=>{const{data:te}=await Q.from("product_variations").select("id, name, price, original_price, stock").eq("product_id",re.id).eq("is_active",!0).order("sort_order");return{...re,images:re.images||[],variations:te||[]}}));S(H)}})()},[e]),v.useEffect(()=>{if(e.type!=="countdown")return;const A=e.settings;if(!A.endDate)return;const q=setInterval(()=>{const L=new Date(A.endDate).getTime(),J=Date.now(),le=Math.max(0,L-J);l({days:Math.floor(le/(1e3*60*60*24)),hours:Math.floor(le%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(le%(1e3*60*60)/(1e3*60)),seconds:Math.floor(le%(1e3*60)/1e3)})},1e3);return()=>clearInterval(q)},[e]);const j=e.type==="testimonials"?((P=e.settings)==null?void 0:P.reviewImages)||[]:[],C=typeof window<"u"&&window.innerWidth<640?2:window.innerWidth<1024?3:4,I=Math.max(0,j.length-C);v.useEffect(()=>{if(e.type!=="testimonials"||j.length<=C)return;const A=setInterval(()=>{_(q=>q>=I?0:q+1)},3e3);return()=>clearInterval(A)},[e.type,j.length,C,I]);const M=A=>{const q=["Ash","White","Sea Green","Coffee","Black","Maroon"];if(A.images.length>1&&f===void 0){G.error("  ");return}if(!g){G.error("  ");return}const L=A.variations.find(re=>re.id===g);if(!L)return;const J=f??0,le=q[J]||`Color ${J+1}`,H=d.findIndex(re=>re.productId===A.id&&re.colorIdx===J&&re.variationId===L.id);if(H>=0)h(re=>re.map((te,ie)=>ie===H?{...te,quantity:te.quantity+1}:te)),G.success("  !");else{const re={id:`${A.id}-${J}-${L.id}-${Date.now()}`,productId:A.id,productName:A.name,colorIdx:J,colorName:le,variationId:L.id,sizeName:L.name.replace(/^Size\s*/i,"").replace(/^Weight:\s*/i,""),quantity:1,price:L.price,image:A.images[J]||A.images[0]||""};h(te=>[...te,re]),G.success("  !")}m(void 0),p("")},$=A=>{h(q=>q.filter(L=>L.id!==A))},W=(A,q)=>{h(L=>L.map(J=>{if(J.id!==A)return J;const le=J.quantity+q;return le<1?J:{...J,quantity:le}}))},V=d.reduce((A,q)=>A+q.quantity,0),E=async(A,q)=>{var ee;if(A.preventDefault(),!c.name||!c.phone||!c.address){G.error("   ");return}if(d.length===0){G.error("     ");return}const L=q.bundlePrice?Number(q.bundlePrice):0,J=q.bundleQty?Number(q.bundleQty):2,le=((ee=d[0])==null?void 0:ee.price)||0,H=d.reduce((K,he)=>K+he.price*he.quantity,0);let re;if(L&&V>=J){const K=Math.floor(V/J),he=V%J;re=K*L+he*le}else re=H;const te=q.freeDelivery?0:ou[x],ie=re+te;w(!0);try{const K=d.map(Se=>({productId:Se.productId,variationId:Se.variationId,quantity:Se.quantity,productImage:Se.image,colorName:Se.colorName})),he=d.map(Se=>`${Se.colorName}/${Se.sizeName}${Se.quantity}`).join(", "),ue=H-re,{data:be,error:Me}=await Q.functions.invoke("place-order",{body:{userId:null,items:K,shipping:{name:c.name,phone:c.phone,address:c.address},shippingZone:x,orderSource:"landing_page",notes:`LP:${r} | ${he}`,discount:ue>0?ue:void 0}});if(Me)throw Me;if(!(be!=null&&be.orderId))throw new Error("Order was not created");n("/order-confirmation",{state:{orderNumber:be.orderNumber||be.orderId,customerName:c.name,phone:c.phone,total:ie,items:d.map(Se=>({productId:Se.productId,productName:`${Se.productName} - ${Se.colorName}`,price:Se.price,quantity:Se.quantity})),numItems:V,fromLandingPage:!0,landingPageSlug:r}})}catch(K){console.error("Order error:",K),G.error("      ")}finally{w(!1)}};switch(e.type){case"hero-product":{const A=e.settings,q=A.images||[],L=A.layout==="center",J=A.layout==="right-image",le=s.jsx("div",{className:"relative group",children:q.length>0?s.jsxs("div",{className:"relative aspect-[3/4] max-w-md mx-auto overflow-hidden rounded-2xl shadow-2xl",children:[s.jsx("img",{src:q[a],alt:A.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-x-0 bottom-0 h-24 bg-gradient-to-t from-black/30 to-transparent"}),q.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>i(re=>(re-1+q.length)%q.length),className:"absolute left-3 top-1/2 -translate-y-1/2 bg-white/90 backdrop-blur-sm rounded-full p-2.5 shadow-lg hover:bg-white hover:scale-110 transition-all",children:s.jsx(io,{className:"h-5 w-5 text-gray-800"})}),s.jsx("button",{onClick:()=>i(re=>(re+1)%q.length),className:"absolute right-3 top-1/2 -translate-y-1/2 bg-white/90 backdrop-blur-sm rounded-full p-2.5 shadow-lg hover:bg-white hover:scale-110 transition-all",children:s.jsx(Ia,{className:"h-5 w-5 text-gray-800"})}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:q.map((re,te)=>s.jsx("button",{onClick:()=>i(te),className:`rounded-full transition-all duration-300 ${te===a?"w-8 h-2.5 bg-white":"w-2.5 h-2.5 bg-white/50 hover:bg-white/80"}`},te))})]})]}):null}),H=s.jsxs("div",{className:`space-y-6 ${L?"text-center":"text-center md:text-left"}`,children:[s.jsx(Ue.h1,{className:"text-3xl md:text-5xl font-extrabold leading-tight tracking-tight",style:{color:A.textColor},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:A.title}),A.subtitle&&s.jsx(Ue.p,{className:"text-lg md:text-xl opacity-80 leading-relaxed",style:{color:A.textColor},initial:{opacity:0},animate:{opacity:.8},transition:{delay:.4},children:A.subtitle}),s.jsxs(Ue.div,{className:`flex flex-col gap-3 ${L?"items-center":"items-center md:items-start"}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5},children:[s.jsxs("div",{className:`flex items-baseline gap-3 flex-wrap ${L?"justify-center":"justify-center md:justify-start"}`,children:[s.jsx("span",{className:"text-base font-semibold px-3 py-1 rounded-lg bg-yellow-100 text-yellow-800",children:" "}),s.jsx("span",{className:"text-4xl md:text-5xl font-black",style:{color:t.accentColor},children:A.price?`${A.price}`:""}),A.originalPrice&&s.jsxs("span",{className:"text-lg line-through opacity-40",style:{color:A.textColor},children:[A.originalPrice,""]}),A.originalPrice&&A.price&&s.jsxs("span",{className:"ml-2 px-3 py-1 rounded-full text-xs font-bold text-white bg-red-500 animate-pulse",children:[Math.round((Number(A.originalPrice)-Number(A.price))/Number(A.originalPrice)*100),"% OFF"]})]}),A.bundlePrice&&s.jsxs("div",{className:`flex items-baseline gap-3 flex-wrap ${L?"justify-center":"justify-center md:justify-start"}`,children:[s.jsx("span",{className:"text-base font-semibold px-3 py-1 rounded-lg bg-green-100 text-green-800",children:" "}),s.jsxs("span",{className:"text-3xl md:text-4xl font-black",style:{color:"#16a34a"},children:[A.bundlePrice,""]}),s.jsxs("span",{className:"text-sm line-through opacity-40",style:{color:A.textColor},children:[Number(A.price)*2,""]}),s.jsxs("span",{className:"ml-1 px-3 py-1 rounded-full text-xs font-bold text-white bg-green-500",children:[" ",Number(A.price)*2-Number(A.bundlePrice),""]})]})]}),A.buttonText&&s.jsx(Ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:s.jsx(U,{size:"lg",className:"px-10 py-7 text-lg font-bold shadow-xl hover:shadow-2xl hover:scale-[1.03] transition-all duration-300",style:{backgroundColor:t.accentColor||t.primaryColor,color:"#fff",borderRadius:"12px"},onClick:()=>{const re=document.getElementById("checkout");re&&re.scrollIntoView({behavior:"smooth"})},children:A.buttonText})}),((R=A.badges)==null?void 0:R.length)>0&&s.jsx("div",{className:`flex flex-wrap gap-6 mt-8 pt-6 border-t border-gray-200 ${L?"justify-center":"justify-center md:justify-start"}`,children:A.badges.map((re,te)=>s.jsxs(Ue.div,{className:"text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7+te*.1},children:[s.jsx("div",{className:"text-2xl md:text-3xl font-black",style:{color:t.accentColor||A.textColor},children:re.text}),s.jsx("div",{className:"text-xs md:text-sm opacity-60 mt-1",style:{color:A.textColor},children:re.subtext})]},te))})]});return s.jsx(To,{className:"py-16 md:py-24 px-4",style:{backgroundColor:A.backgroundColor},children:L?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-10",children:[le,H]}):s.jsx("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-10 md:gap-16 items-center",children:J?s.jsxs(s.Fragment,{children:[H,le]}):s.jsxs(s.Fragment,{children:[le,H]})})})}case"feature-badges":{const A=e.settings,q=A.columns||3,L=J=>J&&J.replace(/^[\-\*]+\s*/g,"").trim();return s.jsx(To,{className:"py-14 px-4",style:{backgroundColor:A.backgroundColor,color:A.textColor},children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[A.title&&s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-12",children:A.title}),s.jsx("div",{className:`grid gap-4 md:gap-6 ${q===2?"grid-cols-1 sm:grid-cols-2":q===3?"grid-cols-1 sm:grid-cols-2 md:grid-cols-3":q===4?"grid-cols-2 md:grid-cols-4":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3"}`,children:(A.badges||[]).map((J,le)=>s.jsxs(Ue.div,{className:"text-center p-5 rounded-2xl bg-white/80 backdrop-blur border border-gray-100 shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:le*.08},children:[J.icon&&s.jsx("span",{className:"text-3xl mb-2 block",children:J.icon}),s.jsx("div",{className:"text-lg md:text-xl font-bold mb-1",style:{color:t.accentColor||"#333"},children:L(J.title)}),J.description&&s.jsx("div",{className:"text-sm opacity-70",children:L(J.description)})]},le))})]})})}case"text-block":{const A=e.settings;return s.jsx("section",{className:"px-4",style:{backgroundColor:A.backgroundColor||"transparent",color:A.textColor,padding:A.padding,textAlign:A.alignment,fontSize:A.fontSize},children:s.jsx("div",{className:"max-w-4xl mx-auto whitespace-pre-wrap",children:A.content})})}case"checkout-form":{const A=e.settings,q=A.bundleQty||2,L=A.bundlePrice,J=((O=d[0])==null?void 0:O.price)||((X=(D=(T=N[0])==null?void 0:T.variations)==null?void 0:D[0])==null?void 0:X.price)||0,le=d.reduce((ee,K)=>ee+K.price*K.quantity,0);let H=le;if(L&&V>=q){const ee=Math.floor(V/q),K=V%q;H=ee*L+K*J}const re=A.freeDelivery?0:ou[x],te=H+re,ie=le-H;return s.jsx(To,{id:"checkout",className:"py-16 px-4",style:{backgroundColor:A.backgroundColor},children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10",children:A.title}),A.freeDeliveryMessage&&s.jsx("div",{className:"bg-green-50 border-2 border-green-400 rounded-xl p-4 mb-6 text-center",children:s.jsx("p",{className:"text-green-700 font-bold text-lg",children:A.freeDeliveryMessage})}),L&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border-2 border-amber-300 rounded-xl p-4 mb-6 text-center",children:[s.jsxs("p",{className:"text-amber-800 font-bold text-lg",children:[" ",q,"    ",L,"   !"]}),s.jsx("p",{className:"text-amber-600 text-sm mt-1",children:"      "})]}),N.length>0&&s.jsx("div",{className:"mb-8 space-y-6",children:N.map(ee=>{var ue,be,Me;const K=((ue=ee.variations[0])==null?void 0:ue.price)||0,he=(be=ee.variations[0])==null?void 0:be.original_price;return s.jsxs("div",{className:"bg-white rounded-2xl border p-5 space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-gray-100 flex-shrink-0 ring-2 ring-gray-200",children:((Me=ee.images)==null?void 0:Me[0])&&s.jsx("img",{src:ee.images[0],alt:ee.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-base md:text-lg",children:ee.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"text-xl font-bold",style:{color:A.accentColor||"#ef4444"},children:[" ",K.toLocaleString()]}),he&&he>K&&s.jsxs("span",{className:"text-sm text-gray-400 line-through",children:[" ",he.toLocaleString()]})]})]})]}),ee.images&&ee.images.length>1&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"   "}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:flex md:flex-wrap gap-3",children:ee.images.map((Se,tt)=>{const kt=["Ash","White","Sea Green","Coffee","Black","Maroon"][tt]||`Color ${tt+1}`;return s.jsxs("button",{type:"button",onClick:()=>m(tt),className:"flex flex-col items-center gap-1",children:[s.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-xl overflow-hidden border-2 transition-all duration-200 ${f===tt?"border-amber-500 ring-2 ring-amber-300 scale-105 shadow-md":"border-gray-200 hover:border-gray-400 hover:shadow-sm"}`,children:s.jsx("img",{src:Se,alt:kt,className:"w-full h-full object-cover"})}),s.jsx("span",{className:`text-xs font-medium ${f===tt?"text-amber-600":"text-gray-600"}`,children:kt})]},tt)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"   "}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ee.variations.map(Se=>{var kt;const tt=Se.name.replace(/^Size\s*/i,"").replace(/^Weight:\s*/i,""),ft=g===Se.id;return s.jsxs("button",{type:"button",onClick:()=>p(Se.id),className:`px-4 py-2.5 rounded-xl text-sm font-semibold border-2 transition-all duration-200 min-w-[52px] ${ft?"bg-gray-900 text-white border-gray-900 shadow-md scale-105":"bg-white text-gray-700 border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,children:[tt,Se.price!==((kt=ee.variations[0])==null?void 0:kt.price)&&s.jsxs("span",{className:"block text-[10px] mt-0.5 opacity-80",children:["",Se.price]})]},Se.id)})})]}),s.jsxs(U,{type:"button",onClick:()=>M(ee),className:"w-full h-12 text-base font-bold rounded-xl flex items-center justify-center gap-2",style:{backgroundColor:A.accentColor||t.accentColor,color:"#fff"},children:[s.jsx(En,{className:"h-5 w-5"}),"  "]})]},ee.id)})}),d.length>0&&s.jsxs("div",{className:"mb-6 bg-white rounded-2xl border p-5",children:[s.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[s.jsx(En,{className:"h-5 w-5"}),"  (",V," )"]}),s.jsx("div",{className:"space-y-3",children:d.map(ee=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[s.jsx("img",{src:ee.image,alt:"",className:"w-14 h-14 rounded-lg object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"font-medium text-sm truncate",children:[ee.colorName,"  ",ee.sizeName]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[" ",ee.price.toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("button",{type:"button",onClick:()=>W(ee.id,-1),className:"w-8 h-8 rounded-lg border border-gray-200 flex items-center justify-center hover:bg-gray-100 transition-colors",children:s.jsx(Cg,{className:"h-3.5 w-3.5"})}),s.jsx("span",{className:"w-7 text-center font-bold text-sm",children:ee.quantity}),s.jsx("button",{type:"button",onClick:()=>W(ee.id,1),className:"w-8 h-8 rounded-lg border border-gray-200 flex items-center justify-center hover:bg-gray-100 transition-colors",children:s.jsx(qt,{className:"h-3.5 w-3.5"})})]}),s.jsx("button",{type:"button",onClick:()=>$(ee.id),className:"w-8 h-8 rounded-lg flex items-center justify-center text-red-400 hover:bg-red-50 hover:text-red-600 transition-colors",children:s.jsx(Mr,{className:"h-4 w-4"})})]},ee.id))}),L&&V<q&&s.jsxs("p",{className:"text-sm text-amber-600 font-medium mt-3 text-center",children:["  ",q-V,"      !"]}),L&&V>=q&&ie>0&&s.jsxs("p",{className:"text-sm text-green-700 font-bold mt-3 bg-green-50 px-3 py-2 rounded-lg text-center",children:["   !   ",ie.toLocaleString()]})]}),s.jsxs("form",{onSubmit:ee=>E(ee,A),className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Billing details"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(F,{value:c.phone,onChange:ee=>u(K=>({...K,phone:ee.target.value})),placeholder:"  *",type:"tel",required:!0,className:"h-12 text-lg"})}),s.jsx("div",{children:s.jsx(F,{value:c.name,onChange:ee=>u(K=>({...K,name:ee.target.value})),placeholder:"  *",required:!0,className:"h-12 text-lg"})})]}),s.jsx("div",{children:s.jsx(wt,{value:c.address,onChange:ee=>u(K=>({...K,address:ee.target.value})),placeholder:"/ / /  *",required:!0,rows:3,className:"text-lg"})}),A.freeDelivery?s.jsxs("div",{className:"bg-green-50 border-2 border-green-500 rounded-xl p-4 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("span",{className:"text-green-700 font-bold text-lg",children:" "})]}),s.jsx("p",{className:"text-green-600 text-sm mt-1",children:"  "})]}):s.jsx(Ug,{address:c.address,selectedZone:x,onZoneChange:b}),d.length>0&&s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mt-6",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Your order"}),s.jsxs("div",{className:"space-y-3",children:[d.map(ee=>s.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200 last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:ee.image,alt:"",className:"w-10 h-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm",children:[ee.colorName," - ",ee.sizeName]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[" ",ee.quantity]})]})]}),s.jsxs("span",{className:"font-medium text-sm",children:[" ",(ee.price*ee.quantity).toLocaleString()]})]},ee.id)),s.jsxs("div",{className:"flex justify-between text-sm pt-2",children:[s.jsxs("span",{children:[" (",V," )"]}),s.jsxs("span",{children:[" ",le.toLocaleString()]})]}),ie>0&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[s.jsx("span",{children:" "}),s.jsxs("span",{children:[" ",ie.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:[" ",H.toLocaleString()]})]}),re>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Shipping"}),s.jsxs("span",{children:[" ",re]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg pt-3 border-t",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{style:{color:A.accentColor||"#b8860b"},children:[" ",te.toLocaleString()]})]})]})]}),s.jsx(Ue.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},children:s.jsx(U,{type:"submit",className:"w-full h-16 text-lg font-bold mt-6 shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 rounded-2xl",style:{backgroundColor:A.accentColor||t.accentColor,color:"#fff"},disabled:y||d.length===0,children:y?"Processing...":`${A.buttonText}   ${te.toLocaleString()}`})}),s.jsxs("div",{className:"mt-4 text-center space-y-2",children:[s.jsxs("p",{className:"text-gray-600 text-sm",children:["   : ",s.jsx("a",{href:"tel:+8801577484748",className:"font-medium text-gray-800 hover:underline",children:"+8801577484748"})]}),s.jsx("p",{className:"text-green-600 text-sm",children:s.jsxs("a",{href:"https://wa.me/8801854545686",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 font-medium hover:underline",children:[s.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 fill-current",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp   : +8801854545686"]})})]})]})]})})}case"cta-banner":{const A=e.settings;return s.jsx("section",{className:"py-16 px-4 text-center",style:{backgroundColor:A.backgroundColor,color:A.textColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:A.title}),A.subtitle&&s.jsx("p",{className:"text-lg mb-6 opacity-90",children:A.subtitle}),A.buttonText&&s.jsx(U,{size:"lg",variant:"secondary",style:{borderRadius:t.borderRadius},onClick:()=>{var q;if((q=A.buttonLink)!=null&&q.startsWith("#")){const L=document.getElementById(A.buttonLink.slice(1));L&&L.scrollIntoView({behavior:"smooth"})}},children:A.buttonText})]})})}case"image-gallery":{const A=e.settings,q={square:"aspect-square",portrait:"aspect-[3/4]",landscape:"aspect-video",auto:""},L=A.columns||3;return s.jsx(To,{className:"py-12 px-4",children:s.jsx("div",{className:`max-w-6xl mx-auto grid gap-4 ${L===2?"grid-cols-1 sm:grid-cols-2":L===3?"grid-cols-1 sm:grid-cols-2 md:grid-cols-3":L===4?"grid-cols-2 md:grid-cols-4":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3"}`,children:(A.images||[]).map((J,le)=>s.jsx(Ue.div,{className:`${q[A.aspectRatio]||"aspect-square"} overflow-hidden rounded-2xl shadow-lg group`,initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:le*.08},children:s.jsx("img",{src:J,alt:"",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})},le))})})}case"image-text":{const A=e.settings,q=A.imagePosition!=="right";return s.jsx("section",{className:"py-12 px-4",style:{backgroundColor:A.backgroundColor},children:s.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-8 items-center",children:[q&&s.jsx("div",{className:"aspect-video",children:A.image?s.jsx("img",{src:A.image,alt:"",className:"w-full h-full object-cover rounded-lg"}):null}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:A.title}),s.jsx("p",{className:"opacity-80",children:A.description}),A.buttonText&&s.jsx(U,{style:{borderRadius:t.borderRadius},children:A.buttonText})]}),!q&&s.jsx("div",{className:"aspect-video",children:A.image?s.jsx("img",{src:A.image,alt:"",className:"w-full h-full object-cover rounded-lg"}):null})]})})}case"size-chart":{const A=e.settings;return s.jsx(To,{className:"py-12 md:py-16 px-4",style:{backgroundColor:A.backgroundColor||"#FFFFFF",color:A.textColor||t.textColor},children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[A.brandName&&s.jsx("h3",{className:"text-2xl md:text-3xl font-extrabold text-center mb-2",children:A.brandName}),s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center mb-8",children:A.title||"  "}),s.jsx("div",{className:"overflow-x-auto rounded-2xl shadow-lg border border-gray-200",children:s.jsxs("table",{className:"w-full text-center",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-yellow-400 text-gray-900",children:[s.jsx("th",{className:"px-6 py-4 text-base md:text-lg font-bold",children:"Size"}),s.jsx("th",{className:"px-6 py-4 text-base md:text-lg font-bold",children:"Chest (Inch)"}),s.jsx("th",{className:"px-6 py-4 text-base md:text-lg font-bold",children:"Length (Inch)"}),s.jsx("th",{className:"px-6 py-4 text-base md:text-lg font-bold",children:"Sleeve (Inch)"})]})}),s.jsx("tbody",{children:(A.rows||[]).map((q,L)=>s.jsxs("tr",{className:`border-b border-gray-200 ${L%2===0?"bg-white":"bg-gray-50"} hover:bg-gray-100 transition-colors`,children:[s.jsx("td",{className:"px-6 py-4 font-bold text-base md:text-lg",children:q.size}),s.jsx("td",{className:"px-6 py-4 text-base md:text-lg",children:q.chest}),s.jsx("td",{className:"px-6 py-4 text-base md:text-lg",children:q.length}),s.jsx("td",{className:"px-6 py-4 text-base md:text-lg",children:q.sleeve})]},L))})]})})]})})}case"testimonials":{const A=e.settings,q=A.reviewImages||[];return s.jsx(To,{className:"py-16 px-4",style:{backgroundColor:t.secondaryColor},children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[A.title&&s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10",children:A.title}),q.length>0&&s.jsxs("div",{className:"relative",children:[q.length>C&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>_(L=>Math.max(0,L-1)),className:"absolute -left-2 md:-left-5 top-1/2 -translate-y-1/2 z-10 bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white hover:scale-110 transition-all",disabled:k===0,children:s.jsx(io,{className:"h-5 w-5 text-gray-700"})}),s.jsx("button",{onClick:()=>_(L=>Math.min(I,L+1)),className:"absolute -right-2 md:-right-5 top-1/2 -translate-y-1/2 z-10 bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white hover:scale-110 transition-all",disabled:k>=I,children:s.jsx(Ia,{className:"h-5 w-5 text-gray-700"})})]}),s.jsx("div",{className:"overflow-hidden rounded-2xl",children:s.jsx("div",{className:"flex transition-transform duration-500 ease-in-out gap-4",style:{transform:`translateX(-${k*(100/C)}%)`},children:q.map((L,J)=>s.jsx("div",{className:"flex-shrink-0 rounded-2xl overflow-hidden shadow-md border border-gray-100 bg-white",style:{width:`calc(${100/C}% - ${(C-1)*16/C}px)`},children:s.jsx("img",{src:L,alt:`Customer review ${J+1}`,className:"w-full h-auto object-cover",loading:"lazy"})},J))})}),q.length>C&&s.jsx("div",{className:"flex justify-center gap-2 mt-6",children:Array.from({length:I+1}).map((L,J)=>s.jsx("button",{onClick:()=>_(J),className:`rounded-full transition-all duration-300 ${J===k?"w-8 h-2.5 bg-gray-800":"w-2.5 h-2.5 bg-gray-300 hover:bg-gray-400"}`},J))})]})]})})}case"faq":case"faq-accordion":{const A=e.settings,q=A.faqs||A.items||[];return s.jsx(To,{className:"py-16 px-4",style:{backgroundColor:A.backgroundColor||"#ffffff",color:A.textColor||"#1f2937"},children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[A.title&&s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10",children:A.title}),s.jsx(IU,{type:"single",collapsible:!0,className:"w-full space-y-3",children:q.map((L,J)=>s.jsxs(gE,{value:`faq-${J}`,className:"bg-white rounded-xl border border-gray-100 shadow-sm px-5 overflow-hidden data-[state=open]:shadow-md transition-shadow",children:[s.jsx(vE,{className:"text-left font-semibold text-base hover:no-underline py-5",children:L.question}),s.jsx(xE,{className:"text-gray-600 leading-relaxed pb-5",children:L.answer})]},J))})]})})}case"video":case"youtube-video":{const A=e.settings,q=A.videoUrl||A.youtubeUrl;if(!q)return null;const L=oU(q);if(L)return s.jsx("section",{className:"py-8 px-4",style:{backgroundColor:A.backgroundColor||"transparent",color:A.textColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[A.title&&s.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:A.title}),s.jsx("div",{className:"aspect-video relative w-full rounded-lg shadow-lg overflow-hidden",children:s.jsx("div",{className:"absolute inset-0",dangerouslySetInnerHTML:{__html:L}})})]})});let J=Vg(q);if((q.includes("facebook.com")||q.includes("fb.watch"))&&!q.includes("facebook.com/plugins/video.php")){const H=/^https?:\/\//i.test(q)?q:q.startsWith("//")?`https:${q}`:`https://${q}`;J=`https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(H)}&show_text=false&lazy=true`}const le=J.includes("youtube.com/embed")||J.includes("vimeo.com")||J.includes("facebook.com/plugins/video.php");return s.jsx("section",{className:"py-8 px-4",style:{backgroundColor:A.backgroundColor||"transparent",color:A.textColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[A.title&&s.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:A.title}),s.jsx("div",{className:"aspect-video",children:le?s.jsx("iframe",{src:J,className:"w-full h-full rounded-lg shadow-lg",scrolling:"no",frameBorder:0,allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",allowFullScreen:!0,...J.includes("facebook.com/plugins/video.php")?{}:{referrerPolicy:"no-referrer-when-downgrade"}}):s.jsx("video",{src:q,className:"w-full h-full rounded-lg",autoPlay:A.autoplay,controls:A.controls!==!1,loop:A.loop})})]})})}case"countdown":{const A=e.settings;return s.jsx("section",{className:"py-8 px-4 text-center",style:{backgroundColor:A.backgroundColor,color:A.textColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[A.title&&s.jsx("h2",{className:"text-xl font-bold mb-4",children:A.title}),s.jsx("div",{className:"flex justify-center gap-4 md:gap-8",children:[{label:"Days",value:o.days},{label:"Hours",value:o.hours},{label:"Minutes",value:o.minutes},{label:"Seconds",value:o.seconds}].map(q=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-5xl font-bold",children:String(q.value).padStart(2,"0")}),s.jsx("div",{className:"text-sm opacity-80",children:q.label})]},q.label))})]})})}case"divider":{const A=e.settings;return s.jsx("div",{className:"px-4",children:s.jsx("hr",{style:{borderStyle:A.style,borderColor:A.color,borderWidth:`${A.thickness} 0 0 0`,width:A.width,margin:"0 auto"}})})}case"spacer":{const A=e.settings;return s.jsx("div",{style:{height:A.height}})}case"hero-gradient":{const A=e.settings;return s.jsx("section",{className:"relative py-12 md:py-24 px-4 overflow-hidden",style:{background:`linear-gradient(135deg, ${A.gradientFrom||"#b8860b"} 0%, ${A.gradientTo||"#d4a017"} 100%)`,color:A.textColor||"#ffffff"},children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-2 gap-6 md:gap-8 items-center",children:[s.jsx("div",{className:"flex justify-center order-1 md:order-2 w-full",children:A.heroImage&&s.jsx("div",{className:"relative p-3 md:p-4 bg-white/20 backdrop-blur rounded-2xl max-w-[280px] md:max-w-full",children:s.jsx("img",{src:A.heroImage,alt:A.title,className:"w-full h-auto rounded-xl"})})}),s.jsxs("div",{className:"space-y-4 md:space-y-6 text-center md:text-left order-2 md:order-1",children:[A.badge&&s.jsx("div",{className:"flex justify-center md:justify-start",children:s.jsxs("span",{className:"inline-block px-4 py-2 bg-white/20 backdrop-blur rounded-full text-sm font-medium",children:[" ",A.badge]})}),s.jsx("h1",{className:"text-2xl md:text-5xl font-bold leading-tight",children:A.title}),s.jsx("p",{className:"text-base md:text-lg opacity-90",children:A.subtitle}),s.jsx("p",{className:"opacity-80 text-sm md:text-base",children:A.description}),A.features&&A.features.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3 justify-center md:justify-start",children:A.features.map((q,L)=>s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 md:px-4 md:py-2 bg-white/10 backdrop-blur rounded-full text-xs md:text-sm",children:[q.icon," ",q.text]},L))}),A.buttonText&&s.jsx("div",{className:"pt-2 md:pt-0 flex justify-center md:justify-start",children:s.jsxs(U,{size:"lg",className:"px-6 md:px-8 py-5 md:py-6 text-base md:text-lg bg-white text-gray-900 hover:bg-gray-100 shadow-lg",onClick:()=>{const q=document.getElementById("checkout");q&&q.scrollIntoView({behavior:"smooth"})},children:[" ",A.buttonText]})})]})]})})})}case"problem-section":{const A=e.settings;return s.jsx("section",{className:"py-16 px-4",style:{backgroundColor:A.backgroundColor||"#ffffff",color:A.textColor||"#1f2937"},children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-10",children:A.title}),s.jsx("div",{className:"grid grid-cols-1 gap-4 mb-8",children:(A.problems||[]).map((q,L)=>s.jsxs("div",{className:"flex items-start gap-4 p-6 bg-red-50 rounded-xl text-left",children:[s.jsx("span",{className:"text-3xl",children:q.icon}),s.jsx("p",{className:"text-lg",children:q.text})]},L))}),A.cta&&s.jsxs("p",{className:"text-xl font-medium text-primary",children:[" ",A.cta]})]})})}case"benefits-grid":{const A=e.settings;return s.jsx("section",{className:"py-16 px-4",style:{backgroundColor:A.backgroundColor||"#fef3c7",color:A.textColor||"#1f2937"},children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10",children:A.title}),s.jsx("div",{className:`grid gap-4 md:gap-6 ${(A.columns||3)===2?"grid-cols-1 sm:grid-cols-2":(A.columns||3)===3?"grid-cols-1 sm:grid-cols-2 md:grid-cols-3":(A.columns||3)===4?"grid-cols-1 sm:grid-cols-2 md:grid-cols-4":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3"}`,children:(A.benefits||[]).map((q,L)=>s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm text-center",children:[s.jsx("span",{className:"text-4xl mb-4 block",children:q.icon}),s.jsx("h3",{className:"text-lg font-bold mb-2",children:q.title}),s.jsx("p",{className:"text-sm opacity-80",children:q.description})]},L))})]})})}case"trust-badges":{const A=e.settings,q=L=>L&&L.replace(/^[\-\*]+\s*/g,"").trim();return s.jsx("section",{className:"py-16 px-4",style:{backgroundColor:A.backgroundColor||"#ffffff",color:A.textColor||"#1f2937"},children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10",children:A.title}),s.jsx("div",{className:"space-y-4",children:(A.badges||[]).map((L,J)=>s.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 border border-green-100 shadow-sm",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:q(L.title)}),L.description&&s.jsx("p",{className:"text-sm opacity-80 mt-1",children:q(L.description)})]},J))})]})})}case"guarantee-section":{const A=e.settings;return s.jsx("section",{className:"py-16 px-4",style:{backgroundColor:A.backgroundColor||"#f3f4f6",color:A.textColor||"#1f2937"},children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-10",children:A.title}),s.jsx("div",{className:"flex flex-wrap justify-center gap-6 mb-8",children:(A.guarantees||[]).map((q,L)=>s.jsxs("div",{className:"text-center p-6 rounded-xl bg-card text-card-foreground shadow-sm border border-border min-w-[140px]",children:[s.jsx("span",{className:"text-3xl mb-2 block",children:q.icon}),s.jsx("h3",{className:"font-bold text-sm",children:q.title}),s.jsx("p",{className:"text-xs opacity-70",children:q.subtitle})]},L))}),A.ctaText&&s.jsx("div",{className:"text-center",children:s.jsx(U,{size:"lg",variant:"outline",className:"px-8",onClick:()=>{const q=document.getElementById("checkout");q&&q.scrollIntoView({behavior:"smooth"})},children:A.ctaText})})]})})}case"final-cta":{const A=e.settings;return s.jsx("section",{className:"py-16 px-4 text-center",style:{backgroundColor:A.backgroundColor||"#fef3c7",color:A.textColor||"#1f2937"},children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("span",{className:"text-5xl mb-4 block",children:A.icon}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:A.title}),s.jsx("p",{className:"text-lg opacity-90 mb-6",children:A.subtitle}),s.jsxs("div",{className:"text-left inline-block mb-8",children:[s.jsx("h3",{className:"font-bold mb-3",children:"     "}),s.jsx("ul",{className:"space-y-2",children:(A.bulletPoints||[]).map((q,L)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-600",children:""})," ",q]},L))})]}),A.buttonText&&s.jsx("div",{className:"mb-6",children:s.jsxs(U,{size:"lg",className:"px-10 py-6 text-lg",style:{backgroundColor:t.primaryColor},onClick:()=>{const q=document.getElementById("checkout");q&&q.scrollIntoView({behavior:"smooth"})},children:[" ",A.buttonText]})}),A.footerText&&s.jsx("p",{className:"text-sm opacity-70",children:A.footerText})]})})}case"no-risk-order":{const A=e.settings;return s.jsx("section",{className:"py-16 px-4",style:{backgroundColor:A.backgroundColor||"#f5f5f5",color:A.textColor||"#1f2937"},children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-10",children:A.title}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:(A.badges||[]).map((q,L)=>s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 min-w-[140px] max-w-[160px] text-center",children:[s.jsx("span",{className:"text-4xl mb-3 block",children:q.icon}),s.jsx("h3",{className:"font-bold text-sm mb-1",children:q.title}),s.jsx("p",{className:"text-xs text-gray-500",children:q.description})]},L))}),A.trustMessage&&s.jsx("div",{className:"inline-block px-8 py-4 bg-white border-2 border-amber-400 rounded-xl text-amber-700 font-medium",children:A.trustMessage})]})})}case"family-cta":{const A=e.settings;return s.jsx("section",{className:"py-16 px-4 text-center",style:{backgroundColor:A.backgroundColor||"#fef3c7",color:A.textColor||"#1f2937"},children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("span",{className:"text-5xl mb-4 block",children:A.icon||""}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:A.title}),s.jsx("p",{className:"text-lg opacity-90 mb-8",children:A.subtitle}),s.jsx("div",{className:"text-left inline-block mb-8",children:(A.points||[]).map((q,L)=>s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("span",{className:"text-green-600",children:q.icon}),s.jsx("span",{children:q.text})]},L))}),A.buttonText&&s.jsx("div",{className:"mb-6",children:s.jsx(U,{size:"lg",className:"px-10 py-6 text-lg bg-red-500 hover:bg-red-600 text-white",onClick:()=>{const q=document.getElementById("checkout");q&&q.scrollIntoView({behavior:"smooth"})},children:A.buttonText})}),A.phoneNumbers&&s.jsxs("p",{className:"text-sm opacity-70 flex items-center justify-center gap-2",children:["     : ",A.phoneNumbers]})]})})}case"customer-screenshots":{const A=e.settings,q=A.columns||2;return s.jsx(To,{className:"py-16 px-4",style:{backgroundColor:A.backgroundColor||"#f9fafb",color:A.textColor||"#1f2937"},children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[A.title&&s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-3",children:A.title}),A.subtitle&&s.jsx("p",{className:"text-center text-gray-500 mb-10",children:A.subtitle}),s.jsx("div",{className:`grid gap-4 ${q===2?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4":q===3?"grid-cols-2 md:grid-cols-3":"grid-cols-2 md:grid-cols-3 lg:grid-cols-4"}`,children:(A.images||[]).map((L,J)=>s.jsx(Ue.div,{className:"rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 border border-gray-100 bg-white",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:J*.08},children:s.jsx("img",{src:L,alt:`Customer review ${J+1}`,className:"w-full h-auto object-cover",loading:"lazy"})},J))})]})})}default:return null}},$ve=["new-cotton-tarsel-light-pink","new-cotton-tarsel-blue"],uu=v.memo(({src:e,alt:t,className:r,priority:n=!1})=>{const[a,i]=v.useState(!1);return s.jsxs("div",{className:`relative overflow-hidden ${r}`,children:[!a&&s.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),s.jsx("img",{src:e,alt:t,loading:n?"eager":"lazy",decoding:"async",onLoad:()=>i(!0),className:`w-full h-full object-cover transition-opacity duration-200 ${a?"opacity-100":"opacity-0"}`})]})});uu.displayName="OptimizedImage";const Dve=v.memo(()=>{const[e]=v.useState(()=>Math.floor(Math.random()*20)+12),[t]=v.useState(()=>Math.floor(Math.random()*8)+5);return s.jsx("div",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-rose-500 text-white py-3 px-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-center gap-6 text-sm font-medium flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"flex h-2 w-2 relative",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),s.jsx(Dl,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-bold",children:[e," "]}),"  "]}),s.jsx("span",{className:"hidden sm:block text-white/50",children:"|"}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(oh,{className:"h-4 w-4 animate-pulse"})," ",s.jsxs("span",{className:"font-bold",children:[t,""]}),"   !"]})]})})});Dve.displayName="UrgencyBanner";const MU=v.memo(({products:e,onBuyNow:t,selectedProductId:r,onProductSelect:n})=>{var c,u,d;const a=e.find(h=>h.id===r)||e[0],[i,o]=v.useState(0);v.useEffect(()=>{var f;if(!((f=a==null?void 0:a.images)!=null&&f.length)||a.images.length<=1)return;const h=setInterval(()=>{o(m=>(m+1)%a.images.length)},3e3);return()=>clearInterval(h)},[a]),v.useEffect(()=>{o(0)},[r]);const l=a!=null&&a.original_price?Math.round((a.original_price-a.price)/a.original_price*100):0;return s.jsxs("section",{className:"relative py-4 sm:py-6 md:py-10 overflow-hidden bg-gradient-to-br from-rose-50 via-pink-50 to-amber-50",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 bg-rose-200/30 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-10 right-10 w-60 h-60 bg-pink-200/30 rounded-full blur-3xl"})]}),s.jsx("div",{className:"container mx-auto px-4 relative z-10 max-w-xl lg:max-w-6xl",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-10 items-center",children:[s.jsxs("div",{className:"lg:order-1",children:[s.jsxs("div",{className:"text-center lg:hidden mb-4",children:[s.jsx(Ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-3",children:s.jsxs("span",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-rose-500 to-pink-500 text-white px-6 py-2.5 rounded-full text-base font-bold shadow-lg",children:[s.jsx(oh,{className:"h-5 w-5"}),"  "]})}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"  "}),s.jsx("p",{className:"text-gray-600 text-base sm:text-lg",children:" ,  "})]}),s.jsx("div",{id:"product-selector",className:"flex justify-center gap-3 mb-4",children:e.map(h=>s.jsx(Ue.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(h.id),className:`relative px-4 py-2 rounded-full font-semibold transition-all text-sm ${r===h.id?"bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-lg scale-105":"bg-white text-gray-700 border-2 border-gray-200 hover:border-rose-300"}`,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full border-2 ${h.slug.includes("pink")?"bg-pink-300 border-pink-400":"bg-blue-300 border-blue-400"}`}),h.slug.includes("pink")?" ":""]})},h.id))}),s.jsx(nu,{mode:"wait",children:s.jsxs(Ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"relative",children:[l>0&&s.jsxs(Ge,{className:"absolute top-4 left-4 z-20 bg-red-500 text-white text-sm px-3 py-1.5 font-bold shadow-lg",children:["-",l,"% "]}),s.jsxs("div",{className:"relative aspect-square rounded-3xl overflow-hidden shadow-2xl bg-white ring-4 ring-rose-100 max-w-md mx-auto",children:[((c=a==null?void 0:a.images)==null?void 0:c[i])&&s.jsx(uu,{src:a.images[i],alt:a.name,className:"w-full h-full",priority:!0}),(a==null?void 0:a.images)&&a.images.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>o((i-1+a.images.length)%a.images.length),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 backdrop-blur-sm rounded-full p-2.5 shadow-xl hover:scale-110 transition-all",children:s.jsx(io,{className:"h-5 w-5 text-gray-700"})}),s.jsx("button",{onClick:()=>o((i+1)%a.images.length),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 backdrop-blur-sm rounded-full p-2.5 shadow-xl hover:scale-110 transition-all",children:s.jsx(Ia,{className:"h-5 w-5 text-gray-700"})}),s.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5 bg-black/20 backdrop-blur-sm px-3 py-2 rounded-full",children:a.images.map((h,f)=>s.jsx("button",{onClick:()=>o(f),className:`h-2 rounded-full transition-all ${f===i?"bg-white w-6":"bg-white/50 w-2"}`},f))})]})]}),(a==null?void 0:a.images)&&a.images.length>1&&s.jsx("div",{className:"flex gap-2 mt-4 justify-center",children:a.images.slice(0,6).map((h,f)=>s.jsx("button",{onClick:()=>o(f),className:`w-12 h-12 sm:w-14 sm:h-14 rounded-xl overflow-hidden border-2 transition-all ${f===i?"border-rose-500 scale-110 shadow-lg":"border-gray-200 opacity-60 hover:opacity-100"}`,children:s.jsx(uu,{src:h,alt:"",className:"w-full h-full"})},f))})]},a==null?void 0:a.id)}),s.jsx("div",{className:"text-center mt-6 lg:hidden",children:s.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[(a==null?void 0:a.original_price)&&a.original_price>a.price&&s.jsxs("span",{className:"text-gray-400 line-through text-xl sm:text-2xl",children:["",a.original_price.toLocaleString()]}),s.jsxs("span",{className:"text-rose-600 font-bold text-4xl sm:text-5xl",children:["",(u=a==null?void 0:a.price)==null?void 0:u.toLocaleString()," "]})]})})]}),s.jsxs("div",{className:"hidden lg:block lg:order-2 text-center lg:text-left",children:[s.jsx(Ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4",children:s.jsxs("span",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-rose-500 to-pink-500 text-white px-5 py-2 rounded-full text-sm font-bold shadow-lg",children:[s.jsx(oh,{className:"h-4 w-4"}),"  "]})}),s.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:"  "}),s.jsx("p",{className:"text-gray-600 text-lg mb-6",children:" ,  "}),s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 inline-block",children:s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[(a==null?void 0:a.original_price)&&a.original_price>a.price&&s.jsxs("span",{className:"text-gray-400 line-through text-2xl",children:["",a.original_price.toLocaleString()]}),s.jsxs("span",{className:"text-rose-600 font-bold text-4xl lg:text-5xl",children:["",(d=a==null?void 0:a.price)==null?void 0:d.toLocaleString()]})]})}),s.jsx("div",{children:s.jsxs(U,{onClick:t,size:"lg",className:"px-10 py-6 text-lg font-bold bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white rounded-2xl shadow-xl hover:shadow-2xl transition-all hover:scale-[1.02]",children:[s.jsx(ln,{className:"mr-2 h-5 w-5"}),"  "]})}),s.jsx("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[{icon:Ma,title:"% "},{icon:ur,title:" "},{icon:jb,title:"  "}].map((h,f)=>s.jsxs("div",{className:"flex flex-col items-center gap-1 p-3 bg-white/60 backdrop-blur-sm rounded-xl border border-rose-100",children:[s.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-full flex items-center justify-center",children:s.jsx(h.icon,{className:"h-5 w-5 text-rose-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700 text-center",children:h.title})]},f))})]})]})})]})});MU.displayName="HeroSection";const RU=v.memo(()=>s.jsx("section",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-rose-500 py-5",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"flex flex-wrap justify-center gap-4 md:gap-8",children:[{text:" ",icon:""},{text:" ",icon:""},{text:" ",icon:""},{text:" ",icon:""}].map((e,t)=>s.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-white font-semibold text-sm",children:[s.jsx("span",{children:e.icon}),s.jsx(Zh,{className:"h-4 w-4"}),s.jsx("span",{children:e.text})]},t))})})}));RU.displayName="FeaturesBanner";const $U=v.memo(({products:e})=>{const[t,r]=v.useState({});return s.jsx("section",{className:"py-12 md:py-16 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("span",{className:"inline-block bg-rose-100 text-rose-600 px-4 py-1.5 rounded-full text-sm font-medium mb-3",children:" "}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"   "}),s.jsx("p",{className:"text-gray-600 mt-2",children:"    "})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 lg:gap-8 max-w-5xl mx-auto",children:e.map(n=>{const a=n.original_price?Math.round((n.original_price-n.price)/n.original_price*100):0,i=t[n.id]||0,o=n.images||[];return s.jsxs(Ue.div,{whileHover:{y:-5},className:"bg-gradient-to-br from-rose-50 to-pink-50 rounded-3xl p-4 sm:p-6 shadow-lg border border-rose-100",children:[s.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden mb-4 shadow-md",children:[a>0&&s.jsxs(Ge,{className:"absolute top-3 left-3 z-10 bg-red-500 text-white text-sm px-3 py-1.5 font-bold shadow-lg",children:["-",a,"% "]}),s.jsx(uu,{src:o[i]||o[0]||"",alt:n.name,className:"w-full h-full"})]}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 text-center",children:n.name}),s.jsxs("div",{className:"text-center mt-2",children:[n.original_price&&n.original_price>n.price&&s.jsxs("span",{className:"text-gray-400 line-through text-base mr-2",children:["",n.original_price.toLocaleString()]}),s.jsxs("span",{className:"text-rose-600 font-bold text-xl sm:text-2xl",children:["",n.price.toLocaleString()]})]}),o.length>1&&s.jsx("div",{className:"flex gap-2 mt-4 justify-center",children:o.slice(0,4).map((l,c)=>s.jsx("button",{onClick:()=>r(u=>({...u,[n.id]:c})),className:`w-14 h-14 sm:w-16 sm:h-16 rounded-lg overflow-hidden shadow-sm border-2 transition-all ${i===c?"border-rose-500 scale-105":"border-transparent opacity-70 hover:opacity-100"}`,children:s.jsx(uu,{src:l,alt:"",className:"w-full h-full"})},c))})]},n.id)})})]})})});$U.displayName="ProductsGallery";const DU=v.memo(()=>s.jsx("section",{className:"py-10 md:py-14 bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center text-gray-900 mb-8",children:"  "}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4 max-w-3xl mx-auto",children:[{icon:ur,title:" ",sub:" ",color:"bg-blue-500"},{icon:ea,title:"- ",sub:"",color:"bg-green-500"},{icon:Ma,title:" ",sub:"",color:"bg-purple-500"}].map((e,t)=>s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-xl shadow-sm",children:[s.jsx("div",{className:`w-12 h-12 ${e.color} rounded-xl flex items-center justify-center flex-shrink-0`,children:s.jsx(e.icon,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-gray-900",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600",children:e.sub})]})]},t))})]})}));DU.displayName="DeliverySection";const LU=v.memo(({products:e})=>{const t=e.find(a=>a.long_description||a.description),r=(t==null?void 0:t.long_description)||(t==null?void 0:t.description);if(!r||!r.trim())return null;const n=r.split(`
`).filter(a=>a.trim());return s.jsx("section",{className:"py-10 md:py-14 bg-gradient-to-b from-white to-gray-50",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("span",{className:"inline-flex items-center gap-2 bg-rose-100 text-rose-600 px-4 py-1.5 rounded-full text-sm font-medium mb-3",children:" "}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:" "})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-pink-500 p-4",children:s.jsx("h3",{className:"text-lg font-bold text-white",children:"  "})}),s.jsx("div",{className:"p-6",children:s.jsx("ul",{className:"space-y-3",children:n.map((a,i)=>{const o=a.replace(/^[-*]\s*/,"").trim();return o?s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-rose-100 rounded-full flex items-center justify-center mt-0.5",children:s.jsx(Ni,{className:"h-4 w-4 text-rose-600"})}),s.jsx("span",{className:"text-gray-700 leading-relaxed",children:o})]},i):null})})})]})]})})})});LU.displayName="ProductDescriptionSection";const FU=v.memo(({videoUrl:e})=>{if(!e)return null;const t=(e||"").trim(),r=t.startsWith("<")||t.includes("<iframe"),n=i=>{const o=Vg(i);if(o.includes("facebook.com/plugins/video.php")){const l=o.includes("?")?"&":"?";return`${o}${l}show_text=false&lazy=true&autoplay=false`}return o},a=i=>i.replace(/width=["'][^"']*["']/gi,"").replace(/height=["'][^"']*["']/gi,"").replace(/style=["'][^"']*["']/gi,'style="position:absolute;inset:0;width:100%;height:100%;border:none;overflow:hidden"');return s.jsx("section",{className:"py-8 md:py-10 bg-gray-100",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("div",{className:"text-center mb-4",children:s.jsxs("span",{className:"inline-flex items-center gap-2 bg-rose-500 text-white px-4 py-1.5 rounded-full text-sm font-medium",children:[s.jsx(Pg,{className:"h-4 w-4"})," "]})}),s.jsx("div",{className:"max-w-[280px] sm:max-w-xs mx-auto",children:s.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg bg-gray-900",style:{aspectRatio:"9/16"},children:r?s.jsx("div",{className:"absolute inset-0",dangerouslySetInnerHTML:{__html:a(t)}}):t.match(/\.(mp4|webm|ogg)$/i)?s.jsx("video",{src:t,controls:!0,className:"absolute inset-0 w-full h-full object-cover",preload:"metadata",playsInline:!0}):s.jsx("iframe",{src:n(t),title:"Video",allowFullScreen:!1,allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture",referrerPolicy:"no-referrer-when-downgrade",className:"absolute inset-0 w-full h-full border-0 pointer-events-auto",scrolling:"no"})})})]})})});FU.displayName="VideoSection";const BU=v.memo(({products:e,onSubmit:t,isSubmitting:r,selectedProductId:n,onProductSelect:a,onPhoneCapture:i})=>{const[o,l]=v.useState({name:"",phone:"",address:"",note:"",quantity:1,selectedProductId:"",selectedVariationId:""}),[c,u]=v.useState("outside_dhaka"),d=v.useRef(null),[h,f]=v.useState({}),m=v.useRef(!1);v.useEffect(()=>{const _=o.phone.replace(/\s/g,"");_.length>=11&&/^01[3-9]\d{8}$/.test(_)&&!m.current&&(m.current=!0,i==null||i(_),console.log("[Cotton Tarsel] Early phone capture for Pixel:",_.substring(0,5)+"..."))},[o.phone,i]),v.useEffect(()=>{n&&l(_=>({..._,selectedProductId:n}))},[n]);const g=v.useMemo(()=>e.find(_=>_.id===o.selectedProductId),[e,o.selectedProductId]),p=v.useMemo(()=>{const _=new Set,j=[];for(const C of(g==null?void 0:g.variations)||[]){const I=String(C.name||"").trim().toLowerCase();I&&(_.has(I)||(_.add(I),j.push(C)))}return j},[g==null?void 0:g.variations]),x=v.useMemo(()=>p.find(_=>_.id===o.selectedVariationId),[p,o.selectedVariationId]),y=((x==null?void 0:x.price)||(g==null?void 0:g.price)||0)*o.quantity,w=ou[c],N=y+w;v.useEffect(()=>{l(_=>({..._,selectedVariationId:""}))},[o.selectedProductId]);const S=_=>{var j,C;if(_.preventDefault(),!o.selectedProductId){G.error("  "),(j=document.getElementById("checkout-product-selector"))==null||j.scrollIntoView({behavior:"smooth",block:"center"});return}if(p.length>0&&!o.selectedVariationId){G.error("  "),(C=d.current)==null||C.scrollIntoView({behavior:"smooth",block:"center"});return}if(!o.name.trim()||!o.phone.trim()||!o.address.trim()){G.error("   ");return}if(!/^01[3-9]\d{8}$/.test(o.phone.replace(/\s/g,""))){G.error("   ");return}t({...o,shippingZone:c,subtotal:y,shippingCost:w,total:N})},k=v.useCallback((_,j)=>{l(C=>({...C,[_]:j}))},[]);return s.jsx("section",{id:"checkout",className:"py-10 md:py-14 bg-gradient-to-b from-rose-50 to-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-lg mx-auto",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:" "}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"     "})]}),s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[s.jsxs("div",{id:"checkout-product-selector",className:`bg-white rounded-xl shadow-lg overflow-hidden border-2 ${o.selectedProductId?"border-transparent":"border-rose-300"}`,children:[s.jsxs("div",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-3 px-4 font-bold flex items-center gap-2",children:[s.jsx(Nl,{className:"h-4 w-4"}),"   ",!o.selectedProductId&&s.jsx("span",{className:"text-yellow-200",children:"*"})]}),s.jsxs("div",{className:"p-4",children:[!o.selectedProductId&&s.jsx("p",{className:"text-sm text-rose-500 mb-3 font-medium",children:"     "}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map(_=>{const j=h[_.id]||0,C=_.images||[];return s.jsxs("button",{type:"button",onClick:()=>{k("selectedProductId",_.id),a(_.id)},className:`relative p-3 rounded-xl border-2 transition-all ${o.selectedProductId===_.id?"border-rose-500 bg-rose-50 shadow-md":"border-gray-200 hover:border-rose-300"}`,children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-2",children:s.jsx(uu,{src:C[j]||C[0]||"",alt:_.name,className:"w-full h-full"})}),C.length>1&&s.jsx("div",{className:"flex gap-1 justify-center mb-2",children:C.slice(0,3).map((I,M)=>s.jsx("div",{onClick:$=>{$.stopPropagation(),f(W=>({...W,[_.id]:M}))},className:`w-10 h-10 rounded overflow-hidden border-2 cursor-pointer transition-all ${j===M?"border-rose-500 scale-105":"border-gray-200 opacity-70 hover:opacity-100"}`,children:s.jsx(uu,{src:I,alt:"",className:"w-full h-full"})},M))}),s.jsx("p",{className:"text-sm font-medium text-gray-800 line-clamp-1",children:_.slug.includes("pink")?" ":""}),s.jsxs("p",{className:"text-rose-600 font-bold",children:["",_.price.toLocaleString()]}),o.selectedProductId===_.id&&s.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-rose-500 rounded-full flex items-center justify-center",children:s.jsx(Ni,{className:"h-4 w-4 text-white"})})]},_.id)})})]})]}),p.length>0&&s.jsxs("div",{ref:d,className:"bg-white rounded-xl shadow-lg p-4 border",children:[s.jsxs("p",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Gi,{className:"h-4 w-4 text-rose-500"}),"   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(_=>s.jsx("button",{type:"button",onClick:()=>k("selectedVariationId",_.id),className:`px-5 py-3 rounded-xl font-semibold transition-all border-2 ${o.selectedVariationId===_.id?"border-rose-500 bg-rose-500 text-white shadow-md":"border-gray-200 bg-gray-50 text-gray-700 hover:border-rose-300"}`,children:_.name},_.id))}),!o.selectedVariationId&&s.jsx("p",{className:"text-xs text-red-500 mt-2",children:"*   "})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-700",children:""}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>k("quantity",Math.max(1,o.quantity-1)),className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 font-bold text-lg",children:""}),s.jsx("span",{className:"text-xl font-bold w-8 text-center",children:o.quantity}),s.jsx("button",{type:"button",onClick:()=>k("quantity",o.quantity+1),className:"w-10 h-10 rounded-full bg-rose-500 text-white flex items-center justify-center hover:bg-rose-600 font-bold text-lg",children:"+"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border space-y-3",children:[s.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(on,{className:"h-4 w-4 text-rose-500"})," "]}),s.jsx(F,{value:o.phone,onChange:_=>k("phone",_.target.value),placeholder:"  *",type:"tel",inputMode:"numeric",required:!0,className:"h-12 text-base rounded-lg border-2 focus:border-rose-500"}),s.jsx(F,{value:o.name,onChange:_=>k("name",_.target.value),placeholder:"  *",required:!0,className:"h-12 text-base rounded-lg border-2 focus:border-rose-500"}),s.jsxs("div",{className:"relative",children:[s.jsx(lo,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),s.jsx(wt,{value:o.address,onChange:_=>k("address",_.target.value),placeholder:"  (, , , ) *",required:!0,rows:2,className:"pl-10 text-base rounded-lg border-2 focus:border-rose-500 resize-none"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(B8,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),s.jsx(wt,{value:o.note,onChange:_=>k("note",_.target.value),placeholder:"           ()",rows:2,className:"pl-10 text-base rounded-lg border-2 focus:border-rose-500 resize-none"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border",children:[s.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-900 mb-3",children:[s.jsx(ur,{className:"h-4 w-4 text-rose-500"})," "]}),s.jsx(Ug,{address:o.address,selectedZone:c,onZoneChange:u})]}),s.jsx("div",{className:"bg-gradient-to-r from-rose-600 to-pink-600 rounded-xl p-4 text-white",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-rose-100",children:[" (",o.quantity,")"]}),s.jsxs("span",{children:["",y.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-rose-100",children:""}),s.jsxs("span",{children:["",w]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-rose-400",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["",N.toLocaleString()]})]})]})}),s.jsx(U,{type:"submit",disabled:r,className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white rounded-xl shadow-xl disabled:opacity-70",children:r?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Zh,{className:"h-5 w-5"}),"    ",N.toLocaleString()]})}),s.jsxs("div",{className:"text-center text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:[" : ",s.jsx("a",{href:"tel:+8801995909243",className:"font-bold text-gray-900",children:"01995909243"})]}),s.jsxs("a",{href:"https://wa.me/8801995909243",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-green-600 font-medium",children:[s.jsx(Qc,{className:"h-4 w-4"}),"WhatsApp"]})]})]})]})})})});BU.displayName="CheckoutSection";const aR=()=>{const e=en(),[t,r]=v.useState(!1),[n,a]=v.useState(!0),[i,o]=v.useState(""),l=v.useRef(null),c=v.useRef(!1),{isReady:u,trackViewContentWithEventId:d,trackInitiateCheckoutWithEventId:h,generateEventId:f,setUserData:m}=_u(),g=Nu(),p=v.useCallback(_=>{u&&m({phone:_})},[u,m]);v.useEffect(()=>{const _=()=>{if(l.current){const I=l.current.getBoundingClientRect().top<window.innerHeight*.7;a(!I)}};window.addEventListener("scroll",_,{passive:!0});const j=setTimeout(_,100);return()=>{window.removeEventListener("scroll",_),clearTimeout(j)}},[]);const{data:x,isLoading:b,error:y}=fr({queryKey:["cotton-tarsel-products"],queryFn:async()=>{const{data:_,error:j}=await Q.from("products").select("*").in("slug",$ve).eq("is_active",!0);if(j)throw j;if(!_||_.length===0)throw new Error("Products not found");return await Promise.all(_.map(async I=>{const{data:M}=await Q.from("product_variations").select("*").eq("product_id",I.id).eq("is_active",!0).order("sort_order");return{...I,variations:M||[]}}))},staleTime:5*60*1e3});v.useEffect(()=>{if(x&&x.length>0&&u&&!c.current){c.current=!0;const _=x[0],j=f("ViewContent");d({content_ids:x.map(C=>C.id),content_name:"Cotton Tarsel Collection",content_type:"product_group",value:_.price,currency:"BDT"},j),g.trackViewContent({contentId:_.id,contentName:"Cotton Tarsel Collection",value:_.price}),console.log("[Cotton Tarsel] ViewContent tracked with event_id:",j)}},[x,u,d,f,g]);const{data:w}=fr({queryKey:["cotton-tarsel-video-url"],queryFn:async()=>{const{data:_,error:j}=await Q.from("admin_settings").select("value").eq("key","cotton_tarsel_video_url").maybeSingle();if(j)throw j;return(_==null?void 0:_.value)||""},staleTime:5*60*1e3}),N=v.useCallback(()=>{if(!x||x.length===0||!u)return;const _=x[0],j=f("InitiateCheckout");h({content_ids:x.map(C=>C.id),num_items:1,value:_.price,currency:"BDT"},j),g.trackInitiateCheckout({contentIds:x.map(C=>C.id),value:_.price,numItems:1,eventId:j}),console.log("[Cotton Tarsel] InitiateCheckout tracked with event_id:",j)},[x,u,h,f,g]),S=v.useCallback(()=>{var _;N(),(_=document.getElementById("checkout"))==null||_.scrollIntoView({behavior:"smooth",block:"start"})},[N]),k=async _=>{const j=x==null?void 0:x.find(C=>C.id===_.selectedProductId);if(j){r(!0);try{const{data:C,error:I}=await Q.functions.invoke("place-order",{body:{userId:null,items:[{productId:j.id,variationId:_.selectedVariationId||null,quantity:_.quantity}],shipping:{name:_.name,phone:_.phone,address:_.address},shippingZone:_.shippingZone,orderSource:"landing_page",notes:_.note?`LP:cotton-tarsel-collection |  : ${_.note}`:"LP:cotton-tarsel-collection"}});if(I)throw I;if(C!=null&&C.error){G.error(C.error);return}if(!(C!=null&&C.orderId))throw new Error("Order was not created");e("/order-confirmation",{state:{orderNumber:C.orderNumber||C.orderId,customerName:_.name,phone:_.phone,total:_.total,items:[{productId:j.id,productName:j.name,price:_.subtotal/_.quantity,quantity:_.quantity}],numItems:_.quantity,fromLandingPage:!0,landingPageSlug:"cotton-tarsel-collection"}})}catch(C){console.error("Order error:",C),G.error("      ")}finally{r(!1)}}};return b?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-rose-50",children:s.jsx("div",{className:"w-12 h-12 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):y||!x||x.length===0?s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:"  "}),s.jsx(U,{onClick:()=>e("/"),className:"bg-rose-500 hover:bg-rose-600",children:"  "})]}):s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(MU,{products:x,onBuyNow:S,selectedProductId:i,onProductSelect:o}),s.jsx(RU,{}),s.jsx($U,{products:x}),s.jsx(LU,{products:x}),s.jsx(FU,{videoUrl:w}),s.jsx(DU,{}),s.jsx("div",{ref:l,children:s.jsx(BU,{products:x,onSubmit:k,isSubmitting:t,selectedProductId:i,onProductSelect:o,onPhoneCapture:p})}),n&&s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-3 bg-white/95 backdrop-blur-sm border-t md:hidden z-50 safe-area-inset-bottom",children:s.jsxs(U,{onClick:S,className:"w-full h-12 text-base font-bold bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-xl shadow-lg",children:[s.jsx(ln,{className:"mr-2 h-5 w-5"}),"  "]})})]})},Lve=["new-digital-tarsel-surma-color","new-digital-tarsel-black-color"],du=v.memo(({src:e,alt:t,className:r,priority:n=!1})=>{const[a,i]=v.useState(!1);return s.jsxs("div",{className:`relative overflow-hidden ${r}`,children:[!a&&s.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),s.jsx("img",{src:e,alt:t,loading:n?"eager":"lazy",decoding:"async",onLoad:()=>i(!0),className:`w-full h-full object-cover transition-opacity duration-200 ${a?"opacity-100":"opacity-0"}`})]})});du.displayName="OptimizedImage";const Fve=v.memo(()=>{const[e]=v.useState(()=>Math.floor(Math.random()*20)+12),[t]=v.useState(()=>Math.floor(Math.random()*8)+5);return s.jsx("div",{className:"bg-gradient-to-r from-slate-700 via-gray-800 to-slate-700 text-white py-3 px-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-center gap-6 text-sm font-medium flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"flex h-2 w-2 relative",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-amber-400"})]}),s.jsx(Dl,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-bold",children:[e," "]}),"  "]}),s.jsx("span",{className:"hidden sm:block text-white/50",children:"|"}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(oh,{className:"h-4 w-4 animate-pulse text-amber-400"})," ",s.jsxs("span",{className:"font-bold",children:[t,""]}),"   !"]})]})})});Fve.displayName="UrgencyBanner";const zU=v.memo(({products:e,onBuyNow:t,selectedProductId:r,onProductSelect:n})=>{var d,h,f;const a=e.find(m=>m.id===r)||e[0],[i,o]=v.useState(0);v.useEffect(()=>{var g;if(!((g=a==null?void 0:a.images)!=null&&g.length)||a.images.length<=1)return;const m=setInterval(()=>{o(p=>(p+1)%a.images.length)},3e3);return()=>clearInterval(m)},[a]),v.useEffect(()=>{o(0)},[r]);const l=a!=null&&a.original_price?Math.round((a.original_price-a.price)/a.original_price*100):0,c=m=>m.includes("surma")?" ":m.includes("black")?" ":"",u=m=>m.includes("surma")?"bg-slate-500 border-slate-600":m.includes("black")?"bg-gray-900 border-gray-800":"bg-gray-400 border-gray-500";return s.jsxs("section",{className:"relative py-4 sm:py-6 md:py-10 overflow-hidden bg-gradient-to-br from-slate-50 via-gray-50 to-zinc-100",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 bg-slate-200/30 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-10 right-10 w-60 h-60 bg-gray-200/30 rounded-full blur-3xl"})]}),s.jsx("div",{className:"container mx-auto px-4 relative z-10 max-w-xl lg:max-w-6xl",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-10 items-center",children:[s.jsxs("div",{className:"lg:order-1",children:[s.jsxs("div",{className:"text-center lg:hidden mb-4",children:[s.jsx(Ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-3",children:s.jsxs("span",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-slate-700 to-gray-800 text-white px-6 py-2.5 rounded-full text-base font-bold shadow-lg",children:[s.jsx(Gi,{className:"h-5 w-5 text-amber-400"}),"  "]})}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"  "}),s.jsx("p",{className:"text-gray-600 text-base sm:text-lg",children:" ,  "})]}),s.jsx("div",{id:"product-selector",className:"flex justify-center gap-3 mb-4",children:e.map(m=>s.jsx(Ue.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(m.id),className:`relative px-4 py-2 rounded-full font-semibold transition-all text-sm ${r===m.id?"bg-gradient-to-r from-slate-700 to-gray-800 text-white shadow-lg scale-105":"bg-white text-gray-700 border-2 border-gray-200 hover:border-slate-400"}`,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full border-2 ${u(m.slug)}`}),c(m.slug)]})},m.id))}),s.jsx(nu,{mode:"wait",children:s.jsxs(Ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"relative",children:[l>0&&s.jsxs(Ge,{className:"absolute top-4 left-4 z-20 bg-amber-500 text-white text-sm px-3 py-1.5 font-bold shadow-lg",children:["-",l,"% "]}),s.jsxs("div",{className:"relative aspect-square rounded-3xl overflow-hidden shadow-2xl bg-white ring-4 ring-slate-100 max-w-md mx-auto",children:[((d=a==null?void 0:a.images)==null?void 0:d[i])&&s.jsx(du,{src:a.images[i],alt:a.name,className:"w-full h-full",priority:!0}),(a==null?void 0:a.images)&&a.images.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>o((i-1+a.images.length)%a.images.length),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 backdrop-blur-sm rounded-full p-2.5 shadow-xl hover:scale-110 transition-all",children:s.jsx(io,{className:"h-5 w-5 text-gray-700"})}),s.jsx("button",{onClick:()=>o((i+1)%a.images.length),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 backdrop-blur-sm rounded-full p-2.5 shadow-xl hover:scale-110 transition-all",children:s.jsx(Ia,{className:"h-5 w-5 text-gray-700"})}),s.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5 bg-black/20 backdrop-blur-sm px-3 py-2 rounded-full",children:a.images.map((m,g)=>s.jsx("button",{onClick:()=>o(g),className:`h-2 rounded-full transition-all ${g===i?"bg-white w-6":"bg-white/50 w-2"}`},g))})]})]}),(a==null?void 0:a.images)&&a.images.length>1&&s.jsx("div",{className:"flex gap-2 mt-4 justify-center",children:a.images.slice(0,6).map((m,g)=>s.jsx("button",{onClick:()=>o(g),className:`w-12 h-12 sm:w-14 sm:h-14 rounded-xl overflow-hidden border-2 transition-all ${g===i?"border-slate-600 scale-110 shadow-lg":"border-gray-200 opacity-60 hover:opacity-100"}`,children:s.jsx(du,{src:m,alt:"",className:"w-full h-full"})},g))})]},a==null?void 0:a.id)}),s.jsx("div",{className:"text-center mt-6 lg:hidden",children:s.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[(a==null?void 0:a.original_price)&&a.original_price>a.price&&s.jsxs("span",{className:"text-gray-400 line-through text-xl sm:text-2xl",children:["",a.original_price.toLocaleString()]}),s.jsxs("span",{className:"text-slate-700 font-bold text-4xl sm:text-5xl",children:["",(h=a==null?void 0:a.price)==null?void 0:h.toLocaleString()," "]})]})})]}),s.jsxs("div",{className:"hidden lg:block lg:order-2 text-center lg:text-left",children:[s.jsx(Ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4",children:s.jsxs("span",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-slate-700 to-gray-800 text-white px-5 py-2 rounded-full text-sm font-bold shadow-lg",children:[s.jsx(Gi,{className:"h-4 w-4 text-amber-400"}),"  "]})}),s.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:"  "}),s.jsx("p",{className:"text-gray-600 text-lg mb-6",children:" ,  "}),s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 inline-block",children:s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[(a==null?void 0:a.original_price)&&a.original_price>a.price&&s.jsxs("span",{className:"text-gray-400 line-through text-2xl",children:["",a.original_price.toLocaleString()]}),s.jsxs("span",{className:"text-slate-700 font-bold text-4xl lg:text-5xl",children:["",(f=a==null?void 0:a.price)==null?void 0:f.toLocaleString()]})]})}),s.jsx("div",{children:s.jsxs(U,{onClick:t,size:"lg",className:"px-10 py-6 text-lg font-bold bg-gradient-to-r from-slate-700 to-gray-800 hover:from-slate-800 hover:to-gray-900 text-white rounded-2xl shadow-xl hover:shadow-2xl transition-all hover:scale-[1.02]",children:[s.jsx(ln,{className:"mr-2 h-5 w-5"}),"  "]})}),s.jsx("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[{icon:Ma,title:"% "},{icon:ur,title:" "},{icon:jb,title:"  "}].map((m,g)=>s.jsxs("div",{className:"flex flex-col items-center gap-1 p-3 bg-white/60 backdrop-blur-sm rounded-xl border border-slate-100",children:[s.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center",children:s.jsx(m.icon,{className:"h-5 w-5 text-slate-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700 text-center",children:m.title})]},g))})]})]})})]})});zU.displayName="HeroSection";const UU=v.memo(()=>s.jsx("section",{className:"bg-gradient-to-r from-slate-700 via-gray-800 to-slate-700 py-5",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"flex flex-wrap justify-center gap-4 md:gap-8",children:[{text:" ",icon:""},{text:" ",icon:""},{text:" ",icon:""},{text:" ",icon:""}].map((e,t)=>s.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-white font-semibold text-sm",children:[s.jsx("span",{children:e.icon}),s.jsx(Zh,{className:"h-4 w-4"}),s.jsx("span",{children:e.text})]},t))})})}));UU.displayName="FeaturesBanner";const VU=v.memo(({products:e})=>{const[t,r]=v.useState({}),n=a=>a.includes("surma")?" ":a.includes("black")?" ":"";return s.jsx("section",{className:"py-12 md:py-16 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("span",{className:"inline-block bg-slate-100 text-slate-600 px-4 py-1.5 rounded-full text-sm font-medium mb-3",children:" "}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"   "})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:e.map(a=>{var o,l;const i=t[a.id]||0;return s.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-100 rounded-2xl p-4 shadow-lg",children:[s.jsx("div",{className:"aspect-square rounded-xl overflow-hidden mb-3 bg-white",children:s.jsx(du,{src:((o=a.images)==null?void 0:o[i])||((l=a.images)==null?void 0:l[0])||"",alt:a.name,className:"w-full h-full"})}),a.images&&a.images.length>1&&s.jsx("div",{className:"flex gap-2 justify-center mb-3",children:a.images.slice(0,4).map((c,u)=>s.jsx("button",{onClick:()=>r(d=>({...d,[a.id]:u})),className:`w-12 h-12 rounded-lg overflow-hidden border-2 transition-all ${i===u?"border-slate-600 scale-105":"border-gray-200 opacity-70 hover:opacity-100"}`,children:s.jsx(du,{src:c,alt:"",className:"w-full h-full"})},u))}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:n(a.slug)}),s.jsxs("p",{className:"text-slate-600 font-bold text-lg",children:["",a.price.toLocaleString()]})]})]},a.id)})})]})})});VU.displayName="ProductsGallery";const WU=v.memo(()=>s.jsx("section",{className:"py-10 md:py-14 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("span",{className:"inline-block bg-slate-100 text-slate-600 px-4 py-1.5 rounded-full text-sm font-medium mb-3",children:" "}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"  "})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[{icon:ur,title:" ",sub:"-  ",color:"bg-slate-600"},{icon:jb,title:"  ",sub:"  ",color:"bg-gray-700"},{icon:Ma,title:" ",sub:"  ",color:"bg-slate-700"}].map((e,t)=>s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-br from-slate-50 to-gray-100 rounded-xl",children:[s.jsx("div",{className:`w-12 h-12 ${e.color} rounded-xl flex items-center justify-center flex-shrink-0`,children:s.jsx(e.icon,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-gray-900",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600",children:e.sub})]})]},t))})]})}));WU.displayName="DeliverySection";const qU=v.memo(({products:e})=>{const t=e.find(a=>a.long_description||a.description),r=(t==null?void 0:t.long_description)||(t==null?void 0:t.description);if(!r||!r.trim())return null;const n=r.split(`
`).filter(a=>a.trim());return s.jsx("section",{className:"py-10 md:py-14 bg-gradient-to-b from-white to-gray-50",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("span",{className:"inline-flex items-center gap-2 bg-slate-100 text-slate-600 px-4 py-1.5 rounded-full text-sm font-medium mb-3",children:" "}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:" "})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-slate-700 to-gray-800 p-4",children:s.jsx("h3",{className:"text-lg font-bold text-white",children:"  "})}),s.jsx("div",{className:"p-6",children:s.jsx("ul",{className:"space-y-3",children:n.map((a,i)=>{const o=a.replace(/^[-*]\s*/,"").trim();return o?s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-slate-100 rounded-full flex items-center justify-center mt-0.5",children:s.jsx(Ni,{className:"h-4 w-4 text-slate-600"})}),s.jsx("span",{className:"text-gray-700 leading-relaxed",children:o})]},i):null})})})]})]})})})});qU.displayName="ProductDescriptionSection";const HU=v.memo(({videoUrl:e})=>{if(!e)return null;const t=(e||"").trim(),r=t.startsWith("<")||t.includes("<iframe"),n=i=>{const o=Vg(i);if(o.includes("facebook.com/plugins/video.php")){const l=o.includes("?")?"&":"?";return`${o}${l}show_text=false&lazy=true&autoplay=false`}return o},a=i=>i.replace(/width=["'][^"']*["']/gi,"").replace(/height=["'][^"']*["']/gi,"").replace(/style=["'][^"']*["']/gi,'style="position:absolute;inset:0;width:100%;height:100%;border:none;overflow:hidden"');return s.jsx("section",{className:"py-8 md:py-10 bg-gray-100",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("div",{className:"text-center mb-4",children:s.jsxs("span",{className:"inline-flex items-center gap-2 bg-slate-700 text-white px-4 py-1.5 rounded-full text-sm font-medium",children:[s.jsx(Pg,{className:"h-4 w-4"})," "]})}),s.jsx("div",{className:"max-w-[280px] sm:max-w-xs mx-auto",children:s.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg bg-gray-900",style:{aspectRatio:"9/16"},children:r?s.jsx("div",{className:"absolute inset-0",dangerouslySetInnerHTML:{__html:a(t)}}):t.match(/\.(mp4|webm|ogg)$/i)?s.jsx("video",{src:t,controls:!0,className:"absolute inset-0 w-full h-full object-cover",preload:"metadata",playsInline:!0}):s.jsx("iframe",{src:n(t),title:"Video",allowFullScreen:!1,allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture",referrerPolicy:"no-referrer-when-downgrade",className:"absolute inset-0 w-full h-full border-0 pointer-events-auto",scrolling:"no"})})})]})})});HU.displayName="VideoSection";const GU=v.memo(({products:e,onSubmit:t,isSubmitting:r,selectedProductId:n,onProductSelect:a,onPhoneCapture:i})=>{const[o,l]=v.useState({name:"",phone:"",address:"",note:"",quantity:1,selectedProductId:"",selectedVariationId:""}),[c,u]=v.useState("outside_dhaka"),d=v.useRef(null),[h,f]=v.useState({}),m=v.useRef(!1);v.useEffect(()=>{const j=o.phone.replace(/\s/g,"");j.length>=11&&/^01[3-9]\d{8}$/.test(j)&&!m.current&&(m.current=!0,i==null||i(j),console.log("[Digital Tarsel] Early phone capture for Pixel:",j.substring(0,5)+"..."))},[o.phone,i]),v.useEffect(()=>{n&&l(j=>({...j,selectedProductId:n}))},[n]);const g=v.useMemo(()=>e.find(j=>j.id===o.selectedProductId),[e,o.selectedProductId]),p=v.useMemo(()=>{const j=new Set,C=[];for(const I of(g==null?void 0:g.variations)||[]){const M=String(I.name||"").trim().toLowerCase();M&&(j.has(M)||(j.add(M),C.push(I)))}return C},[g==null?void 0:g.variations]),x=v.useMemo(()=>p.find(j=>j.id===o.selectedVariationId),[p,o.selectedVariationId]),y=((x==null?void 0:x.price)||(g==null?void 0:g.price)||0)*o.quantity,w=ou[c],N=y+w;v.useEffect(()=>{l(j=>({...j,selectedVariationId:""}))},[o.selectedProductId]);const S=j=>j.includes("surma")?" ":j.includes("black")?" ":"",k=j=>{var C,I;if(j.preventDefault(),!o.selectedProductId){G.error("  "),(C=document.getElementById("checkout-product-selector"))==null||C.scrollIntoView({behavior:"smooth",block:"center"});return}if(p.length>0&&!o.selectedVariationId){G.error("  "),(I=d.current)==null||I.scrollIntoView({behavior:"smooth",block:"center"});return}if(!o.name.trim()||!o.phone.trim()||!o.address.trim()){G.error("   ");return}if(!/^01[3-9]\d{8}$/.test(o.phone.replace(/\s/g,""))){G.error("   ");return}t({...o,shippingZone:c,subtotal:y,shippingCost:w,total:N})},_=v.useCallback((j,C)=>{l(I=>({...I,[j]:C}))},[]);return s.jsx("section",{id:"checkout",className:"py-10 md:py-14 bg-gradient-to-b from-slate-50 to-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-lg mx-auto",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:" "}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"     "})]}),s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{id:"checkout-product-selector",className:`bg-white rounded-xl shadow-lg overflow-hidden border-2 ${o.selectedProductId?"border-transparent":"border-slate-400"}`,children:[s.jsxs("div",{className:"bg-gradient-to-r from-slate-700 to-gray-800 text-white py-3 px-4 font-bold flex items-center gap-2",children:[s.jsx(Nl,{className:"h-4 w-4"}),"   ",!o.selectedProductId&&s.jsx("span",{className:"text-amber-300",children:"*"})]}),s.jsxs("div",{className:"p-4",children:[!o.selectedProductId&&s.jsx("p",{className:"text-sm text-slate-600 mb-3 font-medium",children:"     "}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map(j=>{const C=h[j.id]||0,I=j.images||[];return s.jsxs("button",{type:"button",onClick:()=>{_("selectedProductId",j.id),a(j.id)},className:`relative p-3 rounded-xl border-2 transition-all ${o.selectedProductId===j.id?"border-slate-600 bg-slate-50 shadow-md":"border-gray-200 hover:border-slate-400"}`,children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-2",children:s.jsx(du,{src:I[C]||I[0]||"",alt:j.name,className:"w-full h-full"})}),I.length>1&&s.jsx("div",{className:"flex gap-1 justify-center mb-2",children:I.slice(0,3).map((M,$)=>s.jsx("div",{onClick:W=>{W.stopPropagation(),f(V=>({...V,[j.id]:$}))},className:`w-10 h-10 rounded overflow-hidden border-2 cursor-pointer transition-all ${C===$?"border-slate-600 scale-105":"border-gray-200 opacity-70 hover:opacity-100"}`,children:s.jsx(du,{src:M,alt:"",className:"w-full h-full"})},$))}),s.jsx("p",{className:"text-sm font-medium text-gray-800 line-clamp-1",children:S(j.slug)}),s.jsxs("p",{className:"text-slate-600 font-bold",children:["",j.price.toLocaleString()]}),o.selectedProductId===j.id&&s.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-slate-600 rounded-full flex items-center justify-center",children:s.jsx(Ni,{className:"h-4 w-4 text-white"})})]},j.id)})})]})]}),p.length>0&&s.jsxs("div",{ref:d,className:"bg-white rounded-xl shadow-lg p-4 border",children:[s.jsxs("p",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Gi,{className:"h-4 w-4 text-slate-600"}),"   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(j=>s.jsx("button",{type:"button",onClick:()=>_("selectedVariationId",j.id),className:`px-5 py-3 rounded-xl font-semibold transition-all border-2 ${o.selectedVariationId===j.id?"border-slate-600 bg-slate-600 text-white shadow-md":"border-gray-200 bg-gray-50 text-gray-700 hover:border-slate-400"}`,children:j.name},j.id))}),!o.selectedVariationId&&s.jsx("p",{className:"text-xs text-red-500 mt-2",children:"*   "})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-700",children:""}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>_("quantity",Math.max(1,o.quantity-1)),className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 font-bold text-lg",children:""}),s.jsx("span",{className:"text-xl font-bold w-8 text-center",children:o.quantity}),s.jsx("button",{type:"button",onClick:()=>_("quantity",o.quantity+1),className:"w-10 h-10 rounded-full bg-slate-600 text-white flex items-center justify-center hover:bg-slate-700 font-bold text-lg",children:"+"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border space-y-3",children:[s.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(on,{className:"h-4 w-4 text-slate-600"})," "]}),s.jsx(F,{value:o.phone,onChange:j=>_("phone",j.target.value),placeholder:"  *",type:"tel",inputMode:"numeric",required:!0,className:"h-12 text-base rounded-lg border-2 focus:border-slate-500"}),s.jsx(F,{value:o.name,onChange:j=>_("name",j.target.value),placeholder:"  *",required:!0,className:"h-12 text-base rounded-lg border-2 focus:border-slate-500"}),s.jsxs("div",{className:"relative",children:[s.jsx(lo,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),s.jsx(wt,{value:o.address,onChange:j=>_("address",j.target.value),placeholder:"  (, , , ) *",required:!0,rows:2,className:"pl-10 text-base rounded-lg border-2 focus:border-slate-500 resize-none"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(B8,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),s.jsx(wt,{value:o.note,onChange:j=>_("note",j.target.value),placeholder:"  ()",rows:2,className:"pl-10 text-base rounded-lg border-2 focus:border-slate-500 resize-none"})]})]}),s.jsx(Ug,{selectedZone:c,onZoneChange:u,address:o.address}),s.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-gray-100 rounded-xl p-4 border-2 border-slate-200",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsxs("span",{className:"font-medium",children:["",y.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsxs("span",{className:"font-medium",children:["",w]})]}),s.jsx("div",{className:"h-px bg-slate-200 my-2"}),s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:":"}),s.jsxs("span",{className:"text-slate-700",children:["",N.toLocaleString()]})]})]})}),s.jsx(U,{type:"submit",disabled:r,className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-slate-700 to-gray-800 hover:from-slate-800 hover:to-gray-900 text-white rounded-xl shadow-xl",children:r?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})," ..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(ln,{className:"h-5 w-5"}),"  "]})})]})]})})})});GU.displayName="CheckoutSection";const iR=()=>{const e=en(),[t,r]=v.useState(!1),[n,a]=v.useState(""),[i,o]=v.useState(!0),l=v.useRef(null),c=v.useRef(!1),{isReady:u,trackViewContentWithEventId:d,trackInitiateCheckoutWithEventId:h,generateEventId:f,setUserData:m}=_u(),g=Nu(),p=v.useCallback(_=>{u&&m({phone:_})},[u,m]);v.useEffect(()=>{const _=()=>{if(l.current){const I=l.current.getBoundingClientRect().top<window.innerHeight*.7;o(!I)}};window.addEventListener("scroll",_,{passive:!0});const j=setTimeout(_,100);return()=>{window.removeEventListener("scroll",_),clearTimeout(j)}},[]);const{data:x,isLoading:b,error:y}=fr({queryKey:["digital-tarsel-products"],queryFn:async()=>{const{data:_,error:j}=await Q.from("products").select("*").in("slug",Lve).eq("is_active",!0);if(j)throw j;if(!_||_.length===0)throw new Error("Products not found");return await Promise.all(_.map(async I=>{const{data:M}=await Q.from("product_variations").select("*").eq("product_id",I.id).eq("is_active",!0).order("sort_order");return{...I,variations:M||[]}}))},staleTime:5*60*1e3});v.useEffect(()=>{if(x&&x.length>0&&u&&!c.current){c.current=!0;const _=x[0],j=f("ViewContent");d({content_ids:x.map(C=>C.id),content_name:"Digital Tarsel Collection",content_type:"product_group",value:_.price,currency:"BDT"},j),g.trackViewContent({contentId:_.id,contentName:"Digital Tarsel Collection",value:_.price}),console.log("[Digital Tarsel] ViewContent tracked with event_id:",j)}},[x,u,d,f,g]);const{data:w}=fr({queryKey:["digital-tarsel-video-url"],queryFn:async()=>{const{data:_,error:j}=await Q.from("admin_settings").select("value").eq("key","digital_tarsel_video_url").maybeSingle();if(j)throw j;return(_==null?void 0:_.value)||""},staleTime:5*60*1e3}),N=v.useCallback(()=>{if(!x||x.length===0||!u)return;const _=x[0],j=f("InitiateCheckout");h({content_ids:x.map(C=>C.id),num_items:1,value:_.price,currency:"BDT"},j),g.trackInitiateCheckout({contentIds:x.map(C=>C.id),value:_.price,numItems:1,eventId:j}),console.log("[Digital Tarsel] InitiateCheckout tracked with event_id:",j)},[x,u,h,f,g]),S=v.useCallback(()=>{var _;N(),(_=document.getElementById("checkout"))==null||_.scrollIntoView({behavior:"smooth",block:"start"})},[N]),k=async _=>{const j=x==null?void 0:x.find(C=>C.id===_.selectedProductId);if(j){r(!0);try{const{data:C,error:I}=await Q.functions.invoke("place-order",{body:{userId:null,items:[{productId:j.id,variationId:_.selectedVariationId||null,quantity:_.quantity}],shipping:{name:_.name,phone:_.phone,address:_.address},shippingZone:_.shippingZone,orderSource:"landing_page",notes:_.note?`LP:digital-tarsel-collection |  : ${_.note}`:"LP:digital-tarsel-collection"}});if(I)throw I;if(C!=null&&C.error){G.error(C.error);return}if(!(C!=null&&C.orderId))throw new Error("Order was not created");e("/order-confirmation",{state:{orderNumber:C.orderNumber||C.orderId,customerName:_.name,phone:_.phone,total:_.total,items:[{productId:j.id,productName:j.name,price:_.subtotal/_.quantity,quantity:_.quantity}],numItems:_.quantity,fromLandingPage:!0,landingPageSlug:"digital-tarsel-collection"}})}catch(C){console.error("Order error:",C),G.error("      ")}finally{r(!1)}}};return b?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:s.jsx("div",{className:"w-12 h-12 border-4 border-slate-600 border-t-transparent rounded-full animate-spin"})}):y||!x||x.length===0?s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:"  "}),s.jsx(U,{onClick:()=>e("/"),className:"bg-slate-600 hover:bg-slate-700",children:"  "})]}):s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(zU,{products:x,onBuyNow:S,selectedProductId:n,onProductSelect:a}),s.jsx(UU,{}),s.jsx(VU,{products:x}),s.jsx(qU,{products:x}),s.jsx(HU,{videoUrl:w}),s.jsx(WU,{}),s.jsx("div",{ref:l,children:s.jsx(GU,{products:x,onSubmit:k,isSubmitting:t,selectedProductId:n,onProductSelect:a,onPhoneCapture:p})}),i&&s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-3 bg-white/95 backdrop-blur-sm border-t md:hidden z-50 safe-area-inset-bottom",children:s.jsxs(U,{onClick:S,className:"w-full h-12 text-base font-bold bg-gradient-to-r from-slate-700 to-gray-800 text-white rounded-xl shadow-lg",children:[s.jsx(ln,{className:"mr-2 h-5 w-5"}),"  "]})})]})},KU=v.forwardRef(({className:e,activeClassName:t,pendingClassName:r,to:n,...a},i)=>s.jsx(ise,{ref:i,to:n,className:({isActive:o,isPending:l})=>de(e,o&&t,l&&r),...a}));KU.displayName="NavLink";const Wj=768;function Bve(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Wj-1}px)`),n=()=>{t(window.innerWidth<Wj)};return r.addEventListener("change",n),t(window.innerWidth<Wj),()=>r.removeEventListener("change",n)},[]),!!e}var iw="Dialog",[XU,YU]=On(iw),[zve,qa]=XU(iw),QU=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=Es({prop:n,defaultProp:a??!1,onChange:i,caller:iw});return s.jsx(zve,{scope:t,triggerRef:l,contentRef:c,contentId:Ks(),titleId:Ks(),descriptionId:Ks(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};QU.displayName=iw;var ZU="DialogTrigger",JU=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qa(ZU,r),i=lt(t,a.triggerRef);return s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wE(a.open),...n,ref:i,onClick:Ie(e.onClick,a.onOpenToggle)})});JU.displayName=ZU;var yE="DialogPortal",[Uve,eV]=XU(yE,{forceMount:void 0}),tV=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=qa(yE,t);return s.jsx(Uve,{scope:t,forceMount:r,children:v.Children.map(n,o=>s.jsx(Wn,{present:r||i.open,children:s.jsx(Sg,{asChild:!0,container:a,children:o})}))})};tV.displayName=yE;var e0="DialogOverlay",rV=v.forwardRef((e,t)=>{const r=eV(e0,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=qa(e0,e.__scopeDialog);return i.modal?s.jsx(Wn,{present:n||i.open,children:s.jsx(Wve,{...a,ref:t})}):null});rV.displayName=e0;var Vve=Xc("DialogOverlay.RemoveScroll"),Wve=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qa(e0,r);return s.jsx(Jb,{as:Vve,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Be.div,{"data-state":wE(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),hu="DialogContent",nV=v.forwardRef((e,t)=>{const r=eV(hu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=qa(hu,e.__scopeDialog);return s.jsx(Wn,{present:n||i.open,children:i.modal?s.jsx(qve,{...a,ref:t}):s.jsx(Hve,{...a,ref:t})})});nV.displayName=hu;var qve=v.forwardRef((e,t)=>{const r=qa(hu,e.__scopeDialog),n=v.useRef(null),a=lt(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return iE(i)},[]),s.jsx(sV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault())})}),Hve=v.forwardRef((e,t)=>{const r=qa(hu,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(sV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),sV=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=qa(hu,r),c=v.useRef(null),u=lt(t,c);return sE(),s.jsxs(s.Fragment,{children:[s.jsx(Qb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Yh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":wE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Kve,{titleId:l.titleId}),s.jsx(Yve,{contentRef:c,descriptionId:l.descriptionId})]})]})}),bE="DialogTitle",aV=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qa(bE,r);return s.jsx(Be.h2,{id:a.titleId,...n,ref:t})});aV.displayName=bE;var iV="DialogDescription",oV=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qa(iV,r);return s.jsx(Be.p,{id:a.descriptionId,...n,ref:t})});oV.displayName=iV;var lV="DialogClose",cV=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qa(lV,r);return s.jsx(Be.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});cV.displayName=lV;function wE(e){return e?"open":"closed"}var uV="DialogTitleWarning",[Gve,dV]=hZ(uV,{contentName:hu,titleName:bE,docsSlug:"dialog"}),Kve=({titleId:e})=>{const t=dV(uV),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Xve="DialogDescriptionWarning",Yve=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dV(Xve).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},jE=QU,hV=JU,_E=tV,Wg=rV,qg=nV,Hg=aV,Gg=oV,ow=cV;const Qve=jE,Zve=_E,fV=v.forwardRef(({className:e,...t},r)=>s.jsx(Wg,{className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));fV.displayName=Wg.displayName;const Jve=Qh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),mV=v.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(Zve,{children:[s.jsx(fV,{}),s.jsxs(qg,{ref:a,className:de(Jve({side:e}),t),...n,children:[r,s.jsxs(ow,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mV.displayName=qg.displayName;const exe=v.forwardRef(({className:e,...t},r)=>s.jsx(Hg,{ref:r,className:de("text-lg font-semibold text-foreground",e),...t}));exe.displayName=Hg.displayName;const txe=v.forwardRef(({className:e,...t},r)=>s.jsx(Gg,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));txe.displayName=Gg.displayName;const rxe="sidebar:state",nxe=60*60*24*7,sxe="16rem",axe="18rem",ixe="3rem",oxe="b",pV=v.createContext(null);function lw(){const e=v.useContext(pV);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const gV=v.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o},l)=>{const c=Bve(),[u,d]=v.useState(!1),[h,f]=v.useState(e),m=t??h,g=v.useCallback(y=>{const w=typeof y=="function"?y(m):y;r?r(w):f(w),document.cookie=`${rxe}=${w}; path=/; max-age=${nxe}`},[r,m]),p=v.useCallback(()=>c?d(y=>!y):g(y=>!y),[c,g,d]);v.useEffect(()=>{const y=w=>{w.key===oxe&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p]);const x=m?"expanded":"collapsed",b=v.useMemo(()=>({state:x,open:m,setOpen:g,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:p}),[x,m,g,c,u,d,p]);return s.jsx(pV.Provider,{value:b,children:s.jsx(eP,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":sxe,"--sidebar-width-icon":ixe,...a},className:de("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:i})})})});gV.displayName="SidebarProvider";const vV=v.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=lw();return r==="none"?s.jsx("div",{className:de("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:a}):l?s.jsx(Qve,{open:u,onOpenChange:d,...i,children:s.jsx(mV,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":axe},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:de("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:de("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});vV.displayName="Sidebar";const xV=v.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=lw();return s.jsxs(U,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:de("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[s.jsx(yJ,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});xV.displayName="SidebarTrigger";const lxe=v.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=lw();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:de("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});lxe.displayName="SidebarRail";const cxe=v.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:de("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));cxe.displayName="SidebarInset";const uxe=v.forwardRef(({className:e,...t},r)=>s.jsx(F,{ref:r,"data-sidebar":"input",className:de("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));uxe.displayName="SidebarInput";const dxe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:de("flex flex-col gap-2 p-2",e),...t}));dxe.displayName="SidebarHeader";const hxe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:de("flex flex-col gap-2 p-2",e),...t}));hxe.displayName="SidebarFooter";const fxe=v.forwardRef(({className:e,...t},r)=>s.jsx(iu,{ref:r,"data-sidebar":"separator",className:de("mx-2 w-auto bg-sidebar-border",e),...t}));fxe.displayName="SidebarSeparator";const yV=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:de("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));yV.displayName="SidebarContent";const bV=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:de("relative flex w-full min-w-0 flex-col p-2",e),...t}));bV.displayName="SidebarGroup";const wV=v.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Xh:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:de("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});wV.displayName="SidebarGroupLabel";const mxe=v.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Xh:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:de("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});mxe.displayName="SidebarGroupAction";const jV=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:de("w-full text-sm",e),...t}));jV.displayName="SidebarGroupContent";const _V=v.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:de("flex w-full min-w-0 flex-col gap-1",e),...t}));_V.displayName="SidebarMenu";const NV=v.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:de("group/menu-item relative",e),...t}));NV.displayName="SidebarMenuItem";const pxe=Qh("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),SV=v.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o},l)=>{const c=e?Xh:"button",{isMobile:u,state:d}=lw(),h=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:de(pxe({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(IF,{children:[s.jsx(MF,{asChild:!0,children:h}),s.jsx(tP,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):h});SV.displayName="SidebarMenuButton";const gxe=v.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const i=t?Xh:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:de("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});gxe.displayName="SidebarMenuAction";const vxe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:de("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));vxe.displayName="SidebarMenuBadge";const xxe=v.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=v.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:de("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&s.jsx(St,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(St,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});xxe.displayName="SidebarMenuSkeleton";const yxe=v.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:de("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));yxe.displayName="SidebarMenuSub";const bxe=v.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));bxe.displayName="SidebarMenuSubItem";const wxe=v.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},i)=>{const o=e?Xh:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:de("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});wxe.displayName="SidebarMenuSubButton";const jxe=[{title:"Dashboard",url:"/admin",icon:H8},{title:"Reports",url:"/admin/reports",icon:um},{title:"Products",url:"/admin/products",icon:Tr},{title:"Categories",url:"/admin/categories",icon:z8},{title:"Orders",url:"/admin/orders",icon:En},{title:"Incomplete Orders",url:"/admin/incomplete-orders",icon:En},{title:"Order Protection",url:"/admin/order-protection",icon:Ma},{title:"Contact Messages",url:"/admin/contact-submissions",icon:sp},{title:"Landing Pages",url:"/admin/landing-pages",icon:PN},{title:"Courier History",url:"/admin/courier-history",icon:Jh},{title:"Courier Settings",url:"/admin/courier-settings",icon:ur},{title:"Users",url:"/admin/users",icon:Dl},{title:"Inventory",url:"/admin/inventory",icon:lJ},{title:"Slider Settings",url:"/admin/banners",icon:xi},{title:"Marketing",url:"/admin/marketing",icon:PN},{title:"SMS",url:"/admin/sms",icon:sp},{title:"Social Media",url:"/admin/social-media",icon:jJ},{title:"Shop Settings",url:"/admin/shop-settings",icon:Zc},{title:"Site Settings",url:"/admin/site-settings",icon:Zc},{title:"Home Page Edit",url:"/admin/home-page-edit",icon:q8},{title:"Landing Video",url:"/admin/landing-video-settings",icon:ip}];function _xe(){const{signOut:e}=zl(),t=en(),r=Va(),{data:n=0}=fr({queryKey:["unread-contact-submissions"],queryFn:async()=>{const{count:o,error:l}=await Q.from("contact_submissions").select("*",{count:"exact",head:!0}).eq("is_read",!1);if(l)throw l;return o||0},refetchInterval:3e4}),{data:a=0}=fr({queryKey:["pending-orders-count"],queryFn:async()=>{const{count:o,error:l}=await Q.from("orders").select("*",{count:"exact",head:!0}).eq("status","pending");if(l)throw l;return o||0},refetchInterval:3e4}),i=async()=>{await e(),t("/")};return s.jsxs(vV,{className:"border-r border-sidebar-border",children:[s.jsx("div",{className:"p-4 border-b border-sidebar-border",children:s.jsx("h1",{className:"font-display text-xl font-bold text-sidebar-foreground",children:"Admin Panel"})}),s.jsx(yV,{className:"px-2",children:s.jsxs(bV,{children:[s.jsx(wV,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Management"}),s.jsx(jV,{children:s.jsx(_V,{children:jxe.map(o=>{const l=r.pathname===o.url||o.url!=="/admin"&&r.pathname.startsWith(o.url);return s.jsx(NV,{children:s.jsx(SV,{asChild:!0,children:s.jsxs(KU,{to:o.url,end:o.url==="/admin",className:`flex items-center gap-3 px-3 py-2 rounded-md transition-colors ${l?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50"}`,activeClassName:"bg-sidebar-accent text-sidebar-accent-foreground font-medium",children:[s.jsx(o.icon,{className:"h-4 w-4"}),s.jsx("span",{children:o.title}),o.url==="/admin/orders"&&a>0&&s.jsx(Ge,{variant:"destructive",className:"ml-auto text-xs px-1.5 py-0.5 min-w-[20px] h-5 flex items-center justify-center",children:a}),o.url==="/admin/contact-submissions"&&n>0&&s.jsx(Ge,{variant:"destructive",className:"ml-auto text-xs px-1.5 py-0.5 min-w-[20px] h-5 flex items-center justify-center",children:n}),l&&o.url!=="/admin/contact-submissions"&&o.url!=="/admin/orders"&&s.jsx(Ia,{className:"h-4 w-4 ml-auto"})]})})},o.title)})})})]})}),s.jsx("div",{className:"mt-auto p-4 border-t border-sidebar-border",children:s.jsxs(U,{variant:"ghost",className:"w-full justify-start gap-3 text-sidebar-foreground hover:bg-destructive/10 hover:text-destructive",onClick:i,children:[s.jsx(MC,{className:"h-4 w-4"}),"Sign Out"]})})]})}function Nxe(){return s.jsxs("header",{className:"h-14 border-b border-border bg-background flex items-center px-4 gap-4",children:[s.jsx(xV,{className:"md:hidden",children:s.jsx(RC,{className:"h-5 w-5"})}),s.jsx("div",{className:"flex-1"}),s.jsx(U,{variant:"outline",size:"sm",asChild:!0,children:s.jsx("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:"View Store"})})]})}function At({children:e}){const{user:t,isLoading:r,isAdmin:n}=zl(),a=en();return v.useEffect(()=>{!r&&!t?a("/auth"):!r&&t&&!n&&a("/")},[t,r,n,a]),r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"space-y-4 w-64",children:[s.jsx(St,{className:"h-8 w-full"}),s.jsx(St,{className:"h-4 w-3/4"}),s.jsx(St,{className:"h-4 w-1/2"})]})}):!t||!n?null:s.jsx(gV,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[s.jsx(_xe,{}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx(Nxe,{}),s.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e})]})]})})}var Je=function(){return Je=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Je.apply(this,arguments)};function Sxe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function kV(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Kg(e){return e.mode==="multiple"}function Xg(e){return e.mode==="range"}function cw(e){return e.mode==="single"}var kxe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Cxe(e,t){return ot(e,"LLLL y",t)}function Pxe(e,t){return ot(e,"d",t)}function Exe(e,t){return ot(e,"LLLL",t)}function Txe(e){return"".concat(e)}function Oxe(e,t){return ot(e,"cccccc",t)}function Axe(e,t){return ot(e,"yyyy",t)}var Ixe=Object.freeze({__proto__:null,formatCaption:Cxe,formatDay:Pxe,formatMonthCaption:Exe,formatWeekNumber:Txe,formatWeekdayName:Oxe,formatYearCaption:Axe}),Mxe=function(e,t,r){return ot(e,"do MMMM (EEEE)",r)},Rxe=function(){return"Month: "},$xe=function(){return"Go to next month"},Dxe=function(){return"Go to previous month"},Lxe=function(e,t){return ot(e,"cccc",t)},Fxe=function(e){return"Week n. ".concat(e)},Bxe=function(){return"Year: "},zxe=Object.freeze({__proto__:null,labelDay:Mxe,labelMonthDropdown:Rxe,labelNext:$xe,labelPrevious:Dxe,labelWeekNumber:Fxe,labelWeekday:Lxe,labelYearDropdown:Bxe});function Uxe(){var e="buttons",t=kxe,r=Jz,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Ixe,labels:zxe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Vxe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Bn(n):t&&(i=new Date(t,0,1)),a?o=Xb(a):r&&(o=new Date(r,11,31)),{fromDate:i?xs(i):void 0,toDate:o?xs(o):void 0}}var CV=v.createContext(void 0);function Wxe(e){var t,r=e.initialProps,n=Uxe(),a=Vxe(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(cw(r)||Kg(r)||Xg(r))&&(c=r.onSelect);var u=Je(Je(Je({},n),r),{captionLayout:l,classNames:Je(Je({},n.classNames),r.classNames),components:Je({},r.components),formatters:Je(Je({},n.formatters),r.formatters),fromDate:i,labels:Je(Je({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Je(Je({},n.modifiers),r.modifiers),modifiersClassNames:Je(Je({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Je(Je({},n.styles),r.styles),toDate:o});return s.jsx(CV.Provider,{value:u,children:e.children})}function rr(){var e=v.useContext(CV);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function PV(e){var t=rr(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function qxe(e){return s.jsx("svg",Je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function EV(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=rr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:qxe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Hxe(e){var t,r=rr(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(Xme(n,a))for(var f=Bn(n),m=n.getMonth();m<=a.getMonth();m++)h.push($j(f,m));else for(var f=Bn(new Date),m=0;m<=11;m++)h.push($j(f,m));var g=function(x){var b=Number(x.target.value),y=$j(Bn(e.displayMonth),b);e.onChange(y)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:EV;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(x){return s.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function Gxe(e){var t,r=e.displayMonth,n=rr(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),g=i.getFullYear(),p=m;p<=g;p++)f.push(WM(Yz(new Date),p));var x=function(y){var w=WM(Bn(r),Number(y.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:EV;return s.jsx(b,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:d(r,{locale:o}),children:f.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:d(y,{locale:o})},y.getFullYear())})})}function Kxe(e,t){var r=v.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function Xxe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Op(i,a)<0){var u=-1*(c-1);a=Ba(i,u)}return o&&Op(a,o)<0&&(a=o),Bn(a)}function Yxe(){var e=rr(),t=Xxe(e),r=Kxe(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Bn(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function Qxe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Bn(e),i=Bn(Ba(a,n)),o=Op(i,a),l=[],c=0;c<o;c++){var u=Ba(a,c);l.push(u)}return r&&(l=l.reverse()),l}function Zxe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Bn(e);if(!r)return Ba(l,o);var c=Op(r,e);if(!(c<i))return Ba(l,o)}}function Jxe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Bn(e);if(!r)return Ba(l,-o);var c=Op(l,r);if(!(c<=0))return Ba(l,-o)}}var TV=v.createContext(void 0);function eye(e){var t=rr(),r=Yxe(),n=r[0],a=r[1],i=Qxe(n,t),o=Zxe(n,t),l=Jxe(n,t),c=function(h){return i.some(function(f){return nE(h,f)})},u=function(h,f){c(h)||(f&&s7(h,f)?a(Ba(h,1+t.numberOfMonths*-1)):a(h))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(TV.Provider,{value:d,children:e.children})}function Yg(){var e=v.useContext(TV);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function oR(e){var t,r=rr(),n=r.classNames,a=r.styles,i=r.components,o=Yg().goToMonth,l=function(d){o(Ba(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:PV,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(Hxe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Gxe,{onChange:l,displayMonth:e.displayMonth})]})}function tye(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function rye(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var t0=v.forwardRef(function(e,t){var r=rr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Je(Je({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Je({},e,{ref:t,type:"button",className:o,style:l}))});function nye(e){var t,r,n=rr(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),x=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:rye,b=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:tye;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(t0,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(t0,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(b,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function lR(e){var t=rr().numberOfMonths,r=Yg(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return nE(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(nye,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:a,previousMonth:n,onPreviousClick:f,onNextClick:m})}function sye(e){var t,r=rr(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:PV,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(oR,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(oR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(lR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(lR,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function aye(e){var t=rr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function iye(e,t,r){for(var n=r?au(new Date):za(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=$n(n,i);a.push(o)}return a}function oye(){var e=rr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=iye(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},h)})]})}function lye(){var e,t=rr(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:oye;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function cye(e){var t=rr(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var NE=v.createContext(void 0);function uye(e){if(!Kg(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(NE.Provider,{value:t,children:e.children})}return s.jsx(dye,{initialProps:e.initialProps,children:e.children})}function dye(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,h){var f,m;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var x=n?kV([],n):[];if(d.selected){var b=x.findIndex(function(y){return es(u,y)});x.splice(b,1)}else x.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,x,u,d,h)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,h=n.some(function(f){return es(f,u)});return!!(d&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(NE.Provider,{value:c,children:r})}function SE(){var e=v.useContext(NE);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function hye(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?es(a,e)&&es(n,e)?void 0:es(a,e)?{from:a,to:void 0}:es(n,e)?void 0:YS(n,e)?{from:e,to:a}:{from:n,to:e}:a?YS(e,a)?{from:a,to:e}:{from:e,to:a}:n?s7(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var kE=v.createContext(void 0);function fye(e){if(!Xg(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(kE.Provider,{value:t,children:e.children})}return s.jsx(mye,{initialProps:e.initialProps,children:e.children})}function mye(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var x,b;(x=t.onDayClick)===null||x===void 0||x.call(t,m,g,p);var y=hye(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,y,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],es(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:Wx(i,l-1),before:$n(i,l-1)}),i&&o&&d.disabled.push({after:i,before:$n(i,l-1)}),!i&&o&&d.disabled.push({after:Wx(o,l-1),before:$n(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:$n(i,-c+1)}),d.disabled.push({after:$n(i,c-1)})),i&&o){var h=ii(o,i)+1,f=c-h;d.disabled.push({before:Wx(i,f)}),d.disabled.push({after:$n(o,f)})}!i&&o&&(d.disabled.push({before:$n(o,-c+1)}),d.disabled.push({after:$n(o,c-1)}))}return s.jsx(kE.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function CE(){var e=v.useContext(kE);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Gx(e){return Array.isArray(e)?kV([],e):e!==void 0?[e]:[]}function pye(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Gx(a)}),t}var Ua;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ua||(Ua={}));var gye=Ua.Selected,Ei=Ua.Disabled,vye=Ua.Hidden,xye=Ua.Today,qj=Ua.RangeEnd,Hj=Ua.RangeMiddle,Gj=Ua.RangeStart,yye=Ua.Outside;function bye(e,t,r){var n,a=(n={},n[gye]=Gx(e.selected),n[Ei]=Gx(e.disabled),n[vye]=Gx(e.hidden),n[xye]=[e.today],n[qj]=[],n[Hj]=[],n[Gj]=[],n[yye]=[],n);return e.fromDate&&a[Ei].push({before:e.fromDate}),e.toDate&&a[Ei].push({after:e.toDate}),Kg(e)?a[Ei]=a[Ei].concat(t.modifiers[Ei]):Xg(e)&&(a[Ei]=a[Ei].concat(r.modifiers[Ei]),a[Gj]=r.modifiers[Gj],a[Hj]=r.modifiers[Hj],a[qj]=r.modifiers[qj]),a}var OV=v.createContext(void 0);function wye(e){var t=rr(),r=SE(),n=CE(),a=bye(t,r,n),i=pye(t.modifiers),o=Je(Je({},a),i);return s.jsx(OV.Provider,{value:o,children:e.children})}function AV(){var e=v.useContext(OV);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function jye(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function _ye(e){return!!(e&&typeof e=="object"&&"from"in e)}function Nye(e){return!!(e&&typeof e=="object"&&"after"in e)}function Sye(e){return!!(e&&typeof e=="object"&&"before"in e)}function kye(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Cye(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ii(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ii(e,n)>=0&&ii(a,e)>=0;return o}return a?es(a,e):n?es(n,e):!1}function Pye(e){return rE(e)}function Eye(e){return Array.isArray(e)&&e.every(rE)}function Tye(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Pye(r))return es(e,r);if(Eye(r))return r.includes(e);if(_ye(r))return Cye(e,r);if(kye(r))return r.dayOfWeek.includes(e.getDay());if(jye(r)){var n=ii(r.before,e),a=ii(r.after,e),i=n>0,o=a<0,l=YS(r.before,r.after);return l?o&&i:i||o}return Nye(r)?ii(e,r.after)>0:Sye(r)?ii(r.before,e)>0:typeof r=="function"?r(e):!1})}function PE(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return Tye(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!nE(e,r)&&(a.outside=!0),a}function Oye(e,t){for(var r=Bn(e[0]),n=Xb(e[e.length-1]),a,i,o=r;o<=n;){var l=PE(o,t),c=!l.disabled&&!l.hidden;if(!c){o=$n(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=$n(o,1)}return i||a}var Aye=365;function IV(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,h=a.locale,f={day:$n,week:XS,month:Ba,year:Hfe,startOfWeek:function(x){return a.ISOWeek?au(x):za(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return a.ISOWeek?Qz(x):Yb(x,{locale:h,weekStartsOn:c})}},m=f[r](e,n==="after"?1:-1);n==="before"&&u?m=Gfe([u,m]):n==="after"&&d&&(m=Kfe([d,m]));var g=!0;if(i){var p=PE(m,i);g=!p.disabled&&!p.hidden}return g?m:l.count>Aye?l.lastFocused:IV(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:Je(Je({},l),{count:l.count+1})})}var MV=v.createContext(void 0);function Iye(e){var t=Yg(),r=AV(),n=v.useState(),a=n[0],i=n[1],o=v.useState(),l=o[0],c=o[1],u=Oye(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(a),i(void 0)},f=function(x){i(x)},m=rr(),g=function(x,b){if(a){var y=IV(a,{moveBy:x,direction:b,context:m,modifiers:r});es(a,y)||(t.goToDate(y,a),f(y))}},p={focusedDay:a,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(MV.Provider,{value:p,children:e.children})}function EE(){var e=v.useContext(MV);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Mye(e,t){var r=AV(),n=PE(e,r,t);return n}var TE=v.createContext(void 0);function Rye(e){if(!cw(e.initialProps)){var t={selected:void 0};return s.jsx(TE.Provider,{value:t,children:e.children})}return s.jsx($ye,{initialProps:e.initialProps,children:e.children})}function $ye(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(TE.Provider,{value:a,children:r})}function RV(){var e=v.useContext(TE);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Dye(e,t){var r=rr(),n=RV(),a=SE(),i=CE(),o=EE(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,x=o.focusYearAfter,b=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(R){var O,T,D,X;cw(r)?(O=n.onDayClick)===null||O===void 0||O.call(n,e,t,R):Kg(r)?(T=a.onDayClick)===null||T===void 0||T.call(a,e,t,R):Xg(r)?(D=i.onDayClick)===null||D===void 0||D.call(i,e,t,R):(X=r.onDayClick)===null||X===void 0||X.call(r,e,t,R)},N=function(R){var O;f(e),(O=r.onDayFocus)===null||O===void 0||O.call(r,e,t,R)},S=function(R){var O;h(),(O=r.onDayBlur)===null||O===void 0||O.call(r,e,t,R)},k=function(R){var O;(O=r.onDayMouseEnter)===null||O===void 0||O.call(r,e,t,R)},_=function(R){var O;(O=r.onDayMouseLeave)===null||O===void 0||O.call(r,e,t,R)},j=function(R){var O;(O=r.onDayPointerEnter)===null||O===void 0||O.call(r,e,t,R)},C=function(R){var O;(O=r.onDayPointerLeave)===null||O===void 0||O.call(r,e,t,R)},I=function(R){var O;(O=r.onDayTouchCancel)===null||O===void 0||O.call(r,e,t,R)},M=function(R){var O;(O=r.onDayTouchEnd)===null||O===void 0||O.call(r,e,t,R)},$=function(R){var O;(O=r.onDayTouchMove)===null||O===void 0||O.call(r,e,t,R)},W=function(R){var O;(O=r.onDayTouchStart)===null||O===void 0||O.call(r,e,t,R)},V=function(R){var O;(O=r.onDayKeyUp)===null||O===void 0||O.call(r,e,t,R)},E=function(R){var O;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),u();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),d();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?p():m();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?x():g();break;case"Home":R.preventDefault(),R.stopPropagation(),b();break;case"End":R.preventDefault(),R.stopPropagation(),y();break}(O=r.onDayKeyDown)===null||O===void 0||O.call(r,e,t,R)},P={onClick:w,onFocus:N,onBlur:S,onKeyDown:E,onKeyUp:V,onMouseEnter:k,onMouseLeave:_,onPointerEnter:j,onPointerLeave:C,onTouchCancel:I,onTouchEnd:M,onTouchMove:$,onTouchStart:W};return P}function Lye(){var e=rr(),t=RV(),r=SE(),n=CE(),a=cw(e)?t.selected:Kg(e)?r.selected:Xg(e)?n.selected:void 0;return a}function Fye(e){return Object.values(Ua).includes(e)}function Bye(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Fye(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function zye(e,t){var r=Je({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Je(Je({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Uye(e,t,r){var n,a,i,o=rr(),l=EE(),c=Mye(e,t),u=Dye(e,c),d=Lye(),h=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var k;c.outside||l.focusedDay&&h&&es(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,h,c.outside]);var f=Bye(o,c).join(" "),m=zye(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:cye,x=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:f,children:x,role:"gridcell"},y=l.focusTarget&&es(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&es(l.focusedDay,e),N=Je(Je(Je({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),u),S={isButton:h,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:N,divProps:b};return S}function Vye(e){var t=v.useRef(null),r=Uye(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(t0,Je({name:"day",ref:t},r.buttonProps)):s.jsx("div",Je({},r.divProps))}function Wye(e){var t=e.number,r=e.dates,n=rr(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),f=function(m){a(t,r,m)};return s.jsx(t0,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:d})}function qye(e){var t,r,n=rr(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Vye,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Wye,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},Hme(h))})]})}function cR(e,t,r){for(var n=r!=null&&r.ISOWeek?Qz(t):Yb(t,r),a=r!=null&&r.ISOWeek?au(e):za(e,r),i=ii(n,a),o=[],l=0;l<=i;l++)o.push($n(a,l));var c=o.reduce(function(u,d){var h=r!=null&&r.ISOWeek?e7(d):r7(d,r),f=u.find(function(m){return m.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function Hye(e,t){var r=cR(Bn(e),Xb(e),t);if(t!=null&&t.useFixedWeeks){var n=Kme(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=XS(i,6-n),l=cR(XS(i,1),o,t);r.push.apply(r,l)}}return r}function Gye(e){var t,r,n,a=rr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,m=a.ISOWeek,g=Hye(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:lye,x=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:qye,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:aye;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(y){return s.jsx(x,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(b,{displayMonth:e.displayMonth})]})}function Kye(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Xye=Kye()?v.useLayoutEffect:v.useEffect,Kj=!1,Yye=0;function uR(){return"react-day-picker-".concat(++Yye)}function Qye(e){var t,r=e??(Kj?uR():null),n=v.useState(r),a=n[0],i=n[1];return Xye(function(){a===null&&i(uR())},[]),v.useEffect(function(){Kj===!1&&(Kj=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Zye(e){var t,r,n=rr(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=Yg().displayMonths,u=Qye(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(h.push(i.caption_start),f=Je(Je({},f),o.caption_start)),g&&(h.push(i.caption_end),f=Je(Je({},f),o.caption_end)),p&&(h.push(i.caption_between),f=Je(Je({},f),o.caption_between));var x=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:sye;return s.jsxs("div",{className:h.join(" "),style:f,children:[s.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Gye,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Jye(e){var t=rr(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function e0e(e){var t,r,n=e.initialProps,a=rr(),i=EE(),o=Yg(),l=v.useState(!1),c=l[0],u=l[1];v.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var h=Je(Je({},a.styles.root),a.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var x;return Je(Je({},g),(x={},x[p]=n[p],x))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Jye;return s.jsx("div",Je({className:d.join(" "),style:h,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:s.jsx(m,{children:o.displayMonths.map(function(g,p){return s.jsx(Zye,{displayIndex:p,displayMonth:g},p)})})}))}function t0e(e){var t=e.children,r=Sxe(e,["children"]);return s.jsx(Wxe,{initialProps:r,children:s.jsx(eye,{children:s.jsx(Rye,{initialProps:r,children:s.jsx(uye,{initialProps:r,children:s.jsx(fye,{initialProps:r,children:s.jsx(wye,{children:s.jsx(Iye,{children:t})})})})})})})}function r0e(e){return s.jsx(t0e,Je({},e,{children:s.jsx(e0e,{initialProps:e})}))}function Al({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(r0e,{showOutsideDays:r,className:de("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:de(Cp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:de(Cp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(io,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(Ia,{className:"h-4 w-4"})},...n})}Al.displayName="Calendar";var uw="Popover",[$V,DHe]=On(uw,[nf]),Qg=nf(),[n0e,Hl]=$V(uw),DV=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Qg(t),c=v.useRef(null),[u,d]=v.useState(!1),[h,f]=Es({prop:n,defaultProp:a??!1,onChange:i,caller:uw});return s.jsx(YC,{...l,children:s.jsx(n0e,{scope:t,contentId:Ks(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:r})})};DV.displayName=uw;var LV="PopoverAnchor",s0e=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hl(LV,r),i=Qg(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(kb,{...i,...n,ref:t})});s0e.displayName=LV;var FV="PopoverTrigger",BV=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hl(FV,r),i=Qg(r),o=lt(t,a.triggerRef),l=s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qV(a.open),...n,ref:o,onClick:Ie(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(kb,{asChild:!0,...i,children:l})});BV.displayName=FV;var OE="PopoverPortal",[a0e,i0e]=$V(OE,{forceMount:void 0}),zV=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Hl(OE,t);return s.jsx(a0e,{scope:t,forceMount:r,children:s.jsx(Wn,{present:r||i.open,children:s.jsx(Sg,{asChild:!0,container:a,children:n})})})};zV.displayName=OE;var yh="PopoverContent",UV=v.forwardRef((e,t)=>{const r=i0e(yh,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Hl(yh,e.__scopePopover);return s.jsx(Wn,{present:n||i.open,children:i.modal?s.jsx(l0e,{...a,ref:t}):s.jsx(c0e,{...a,ref:t})})});UV.displayName=yh;var o0e=Xc("PopoverContent.RemoveScroll"),l0e=v.forwardRef((e,t)=>{const r=Hl(yh,e.__scopePopover),n=v.useRef(null),a=lt(t,n),i=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return iE(o)},[]),s.jsx(Jb,{as:o0e,allowPinchZoom:!0,children:s.jsx(VV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),c0e=v.forwardRef((e,t)=>{const r=Hl(yh,e.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(VV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),VV=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=Hl(yh,r),m=Qg(r);return sE(),s.jsx(Qb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Yh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(QC,{"data-state":qV(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),WV="PopoverClose",u0e=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hl(WV,r);return s.jsx(Be.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});u0e.displayName=WV;var d0e="PopoverArrow",h0e=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Qg(r);return s.jsx(ZC,{...a,...n,ref:t})});h0e.displayName=d0e;function qV(e){return e?"open":"closed"}var f0e=DV,m0e=BV,p0e=zV,HV=UV;const fu=f0e,mu=m0e,Il=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(p0e,{children:s.jsx(HV,{ref:a,align:t,sideOffset:r,className:de("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Il.displayName=HV.displayName;const dR=e=>{const t=new Date,r=new Date(t);r.setHours(23,59,59,999);let n=new Date(t);switch(n.setHours(0,0,0,0),e.range){case"today":break;case"week":n.setDate(n.getDate()-7);break;case"month":n.setMonth(n.getMonth()-1);break;case"custom":e.startDate&&e.endDate&&(n=new Date(e.startDate),n.setHours(0,0,0,0),r.setTime(e.endDate.getTime()),r.setHours(23,59,59,999));break}return{start:n,end:r}},g0e=async e=>{const{start:t,end:r}=dR(e||{range:"week"}),[n,a,i]=await Promise.all([Q.from("orders").select("id, total, status, created_at, payment_status"),Q.from("products").select("id, stock, is_active"),Q.from("profiles").select("id")]),o=n.data||[],l=a.data||[],c=i.data||[],u=o.filter(m=>{const g=new Date(m.created_at);return g>=t&&g<=r}),d=u.filter(m=>m.payment_status==="paid").reduce((m,g)=>m+Number(g.total),0),h=u.filter(m=>m.status==="pending").length,f=l.filter(m=>m.stock<10&&m.is_active).length;return{totalOrders:u.length,totalProducts:l.length,totalUsers:c.length,totalRevenue:d,pendingOrders:h,lowStockProducts:f,recentOrders:u,dateRange:{start:t,end:r}}},GV=async()=>{const{data:e,error:t}=await Q.from("products").select(`
      *,
      categories:category_id (id, name)
    `).order("created_at",{ascending:!1});if(t)throw t;return e},hR=async e=>{const{data:t,error:r}=await Q.from("products").insert([e]).select().single();if(r)throw r;return t},v0e=async(e,t)=>{const{data:r,error:n}=await Q.from("products").update(t).eq("id",e).select().single();if(n)throw n;return r},x0e=async e=>{const{error:t}=await Q.from("products").delete().eq("id",e);if(t)throw t},KV=async()=>{const{data:e,error:t}=await Q.from("categories").select("*").order("sort_order",{ascending:!0});if(t)throw t;return e},y0e=async e=>{const{data:t,error:r}=await Q.from("categories").insert([e]).select().single();if(r)throw r;return t},b0e=async(e,t)=>{const{data:r,error:n}=await Q.from("categories").update(t).eq("id",e).select().single();if(n)throw n;return r},w0e=async e=>{const{error:t}=await Q.from("categories").delete().eq("id",e);if(t)throw t},j0e=async()=>{const{data:e,error:t}=await Q.from("orders").select(`
      *,
      order_items (*)
    `).order("created_at",{ascending:!1});if(t)throw t;return e},fR=async(e,t,r)=>{const n={status:t};r&&(n.tracking_number=r);const{data:a,error:i}=await Q.from("orders").update(n).eq("id",e).select().single();if(i)throw i;return a},_0e=async e=>{const{error:t}=await Q.from("sms_logs").delete().eq("order_id",e);if(t)throw t;const{error:r}=await Q.from("order_items").delete().eq("order_id",e);if(r)throw r;const{error:n}=await Q.from("orders").delete().eq("id",e);if(n)throw n},N0e=async()=>{const{data:e,error:t}=await Q.from("profiles").select("*").order("created_at",{ascending:!1});if(t)throw t;const{data:r,error:n}=await Q.from("user_roles").select("user_id, role");if(n)throw n;return(e==null?void 0:e.map(a=>({...a,user_roles:(r==null?void 0:r.filter(i=>i.user_id===a.user_id))||[]})))||[]},S0e=async(e,t)=>{const{data:r}=await Q.from("user_roles").select("id").eq("user_id",e).single();if(r){const{error:n}=await Q.from("user_roles").update({role:t}).eq("user_id",e);if(n)throw n}else{const{error:n}=await Q.from("user_roles").insert([{user_id:e,role:t}]);if(n)throw n}},k0e=async(e,t)=>{const{data:r,error:n}=await Q.from("products").update({stock:t}).eq("id",e).select().single();if(n)throw n;return r},C0e=async()=>{const{data:e,error:t}=await Q.from("banners").select("*").order("sort_order",{ascending:!0});if(t)throw t;return e},P0e=async e=>{const{data:t,error:r}=await Q.from("banners").insert([e]).select().single();if(r)throw r;return t},mR=async(e,t)=>{const{data:r,error:n}=await Q.from("banners").update(t).eq("id",e).select().single();if(n)throw n;return r},E0e=async e=>{const{error:t}=await Q.from("banners").delete().eq("id",e);if(t)throw t},T0e=async()=>{const{data:e,error:t}=await Q.from("draft_orders").select("*").order("updated_at",{ascending:!1});if(t)throw t;return e},O0e=async e=>{const{error:t}=await Q.from("draft_orders").delete().eq("id",e);if(t)throw t};var A0e=Array.isArray,os=A0e,I0e=typeof am=="object"&&am&&am.Object===Object&&am,XV=I0e,M0e=XV,R0e=typeof self=="object"&&self&&self.Object===Object&&self,$0e=M0e||R0e||Function("return this")(),ki=$0e,D0e=ki,L0e=D0e.Symbol,Zg=L0e,pR=Zg,YV=Object.prototype,F0e=YV.hasOwnProperty,B0e=YV.toString,qf=pR?pR.toStringTag:void 0;function z0e(e){var t=F0e.call(e,qf),r=e[qf];try{e[qf]=void 0;var n=!0}catch{}var a=B0e.call(e);return n&&(t?e[qf]=r:delete e[qf]),a}var U0e=z0e,V0e=Object.prototype,W0e=V0e.toString;function q0e(e){return W0e.call(e)}var H0e=q0e,gR=Zg,G0e=U0e,K0e=H0e,X0e="[object Null]",Y0e="[object Undefined]",vR=gR?gR.toStringTag:void 0;function Q0e(e){return e==null?e===void 0?Y0e:X0e:vR&&vR in Object(e)?G0e(e):K0e(e)}var wo=Q0e;function Z0e(e){return e!=null&&typeof e=="object"}var jo=Z0e,J0e=wo,ebe=jo,tbe="[object Symbol]";function rbe(e){return typeof e=="symbol"||ebe(e)&&J0e(e)==tbe}var hf=rbe,nbe=os,sbe=hf,abe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ibe=/^\w*$/;function obe(e,t){if(nbe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||sbe(e)?!0:ibe.test(e)||!abe.test(e)||t!=null&&e in Object(t)}var AE=obe;function lbe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Gl=lbe;const ff=Bt(Gl);var cbe=wo,ube=Gl,dbe="[object AsyncFunction]",hbe="[object Function]",fbe="[object GeneratorFunction]",mbe="[object Proxy]";function pbe(e){if(!ube(e))return!1;var t=cbe(e);return t==hbe||t==fbe||t==dbe||t==mbe}var IE=pbe;const pt=Bt(IE);var gbe=ki,vbe=gbe["__core-js_shared__"],xbe=vbe,Xj=xbe,xR=function(){var e=/[^.]+$/.exec(Xj&&Xj.keys&&Xj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ybe(e){return!!xR&&xR in e}var bbe=ybe,wbe=Function.prototype,jbe=wbe.toString;function _be(e){if(e!=null){try{return jbe.call(e)}catch{}try{return e+""}catch{}}return""}var QV=_be,Nbe=IE,Sbe=bbe,kbe=Gl,Cbe=QV,Pbe=/[\\^$.*+?()[\]{}|]/g,Ebe=/^\[object .+?Constructor\]$/,Tbe=Function.prototype,Obe=Object.prototype,Abe=Tbe.toString,Ibe=Obe.hasOwnProperty,Mbe=RegExp("^"+Abe.call(Ibe).replace(Pbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rbe(e){if(!kbe(e)||Sbe(e))return!1;var t=Nbe(e)?Mbe:Ebe;return t.test(Cbe(e))}var $be=Rbe;function Dbe(e,t){return e==null?void 0:e[t]}var Lbe=Dbe,Fbe=$be,Bbe=Lbe;function zbe(e,t){var r=Bbe(e,t);return Fbe(r)?r:void 0}var Su=zbe,Ube=Su,Vbe=Ube(Object,"create"),dw=Vbe,yR=dw;function Wbe(){this.__data__=yR?yR(null):{},this.size=0}var qbe=Wbe;function Hbe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Gbe=Hbe,Kbe=dw,Xbe="__lodash_hash_undefined__",Ybe=Object.prototype,Qbe=Ybe.hasOwnProperty;function Zbe(e){var t=this.__data__;if(Kbe){var r=t[e];return r===Xbe?void 0:r}return Qbe.call(t,e)?t[e]:void 0}var Jbe=Zbe,ewe=dw,twe=Object.prototype,rwe=twe.hasOwnProperty;function nwe(e){var t=this.__data__;return ewe?t[e]!==void 0:rwe.call(t,e)}var swe=nwe,awe=dw,iwe="__lodash_hash_undefined__";function owe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=awe&&t===void 0?iwe:t,this}var lwe=owe,cwe=qbe,uwe=Gbe,dwe=Jbe,hwe=swe,fwe=lwe;function mf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mf.prototype.clear=cwe;mf.prototype.delete=uwe;mf.prototype.get=dwe;mf.prototype.has=hwe;mf.prototype.set=fwe;var mwe=mf;function pwe(){this.__data__=[],this.size=0}var gwe=pwe;function vwe(e,t){return e===t||e!==e&&t!==t}var ME=vwe,xwe=ME;function ywe(e,t){for(var r=e.length;r--;)if(xwe(e[r][0],t))return r;return-1}var hw=ywe,bwe=hw,wwe=Array.prototype,jwe=wwe.splice;function _we(e){var t=this.__data__,r=bwe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():jwe.call(t,r,1),--this.size,!0}var Nwe=_we,Swe=hw;function kwe(e){var t=this.__data__,r=Swe(t,e);return r<0?void 0:t[r][1]}var Cwe=kwe,Pwe=hw;function Ewe(e){return Pwe(this.__data__,e)>-1}var Twe=Ewe,Owe=hw;function Awe(e,t){var r=this.__data__,n=Owe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Iwe=Awe,Mwe=gwe,Rwe=Nwe,$we=Cwe,Dwe=Twe,Lwe=Iwe;function pf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pf.prototype.clear=Mwe;pf.prototype.delete=Rwe;pf.prototype.get=$we;pf.prototype.has=Dwe;pf.prototype.set=Lwe;var fw=pf,Fwe=Su,Bwe=ki,zwe=Fwe(Bwe,"Map"),RE=zwe,bR=mwe,Uwe=fw,Vwe=RE;function Wwe(){this.size=0,this.__data__={hash:new bR,map:new(Vwe||Uwe),string:new bR}}var qwe=Wwe;function Hwe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Gwe=Hwe,Kwe=Gwe;function Xwe(e,t){var r=e.__data__;return Kwe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var mw=Xwe,Ywe=mw;function Qwe(e){var t=Ywe(this,e).delete(e);return this.size-=t?1:0,t}var Zwe=Qwe,Jwe=mw;function e1e(e){return Jwe(this,e).get(e)}var t1e=e1e,r1e=mw;function n1e(e){return r1e(this,e).has(e)}var s1e=n1e,a1e=mw;function i1e(e,t){var r=a1e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var o1e=i1e,l1e=qwe,c1e=Zwe,u1e=t1e,d1e=s1e,h1e=o1e;function gf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gf.prototype.clear=l1e;gf.prototype.delete=c1e;gf.prototype.get=u1e;gf.prototype.has=d1e;gf.prototype.set=h1e;var $E=gf,ZV=$E,f1e="Expected a function";function DE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(f1e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(DE.Cache||ZV),r}DE.Cache=ZV;var JV=DE;const m1e=Bt(JV);var p1e=JV,g1e=500;function v1e(e){var t=p1e(e,function(n){return r.size===g1e&&r.clear(),n}),r=t.cache;return t}var x1e=v1e,y1e=x1e,b1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,w1e=/\\(\\)?/g,j1e=y1e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(b1e,function(r,n,a,i){t.push(a?i.replace(w1e,"$1"):n||r)}),t}),_1e=j1e;function N1e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var LE=N1e,wR=Zg,S1e=LE,k1e=os,C1e=hf,P1e=1/0,jR=wR?wR.prototype:void 0,_R=jR?jR.toString:void 0;function eW(e){if(typeof e=="string")return e;if(k1e(e))return S1e(e,eW)+"";if(C1e(e))return _R?_R.call(e):"";var t=e+"";return t=="0"&&1/e==-P1e?"-0":t}var E1e=eW,T1e=E1e;function O1e(e){return e==null?"":T1e(e)}var tW=O1e,A1e=os,I1e=AE,M1e=_1e,R1e=tW;function $1e(e,t){return A1e(e)?e:I1e(e,t)?[e]:M1e(R1e(e))}var rW=$1e,D1e=hf,L1e=1/0;function F1e(e){if(typeof e=="string"||D1e(e))return e;var t=e+"";return t=="0"&&1/e==-L1e?"-0":t}var pw=F1e,B1e=rW,z1e=pw;function U1e(e,t){t=B1e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[z1e(t[r++])];return r&&r==n?e:void 0}var FE=U1e,V1e=FE;function W1e(e,t,r){var n=e==null?void 0:V1e(e,t);return n===void 0?r:n}var nW=W1e;const Ys=Bt(nW);function q1e(e){return e==null}var H1e=q1e;const xt=Bt(H1e);var G1e=wo,K1e=os,X1e=jo,Y1e="[object String]";function Q1e(e){return typeof e=="string"||!K1e(e)&&X1e(e)&&G1e(e)==Y1e}var Z1e=Q1e;const pu=Bt(Z1e);var sW={exports:{}},zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE=Symbol.for("react.element"),zE=Symbol.for("react.portal"),gw=Symbol.for("react.fragment"),vw=Symbol.for("react.strict_mode"),xw=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),bw=Symbol.for("react.context"),J1e=Symbol.for("react.server_context"),ww=Symbol.for("react.forward_ref"),jw=Symbol.for("react.suspense"),_w=Symbol.for("react.suspense_list"),Nw=Symbol.for("react.memo"),Sw=Symbol.for("react.lazy"),eje=Symbol.for("react.offscreen"),aW;aW=Symbol.for("react.module.reference");function na(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case BE:switch(e=e.type,e){case gw:case xw:case vw:case jw:case _w:return e;default:switch(e=e&&e.$$typeof,e){case J1e:case bw:case ww:case Sw:case Nw:case yw:return e;default:return t}}case zE:return t}}}zt.ContextConsumer=bw;zt.ContextProvider=yw;zt.Element=BE;zt.ForwardRef=ww;zt.Fragment=gw;zt.Lazy=Sw;zt.Memo=Nw;zt.Portal=zE;zt.Profiler=xw;zt.StrictMode=vw;zt.Suspense=jw;zt.SuspenseList=_w;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(e){return na(e)===bw};zt.isContextProvider=function(e){return na(e)===yw};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===BE};zt.isForwardRef=function(e){return na(e)===ww};zt.isFragment=function(e){return na(e)===gw};zt.isLazy=function(e){return na(e)===Sw};zt.isMemo=function(e){return na(e)===Nw};zt.isPortal=function(e){return na(e)===zE};zt.isProfiler=function(e){return na(e)===xw};zt.isStrictMode=function(e){return na(e)===vw};zt.isSuspense=function(e){return na(e)===jw};zt.isSuspenseList=function(e){return na(e)===_w};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gw||e===xw||e===vw||e===jw||e===_w||e===eje||typeof e=="object"&&e!==null&&(e.$$typeof===Sw||e.$$typeof===Nw||e.$$typeof===yw||e.$$typeof===bw||e.$$typeof===ww||e.$$typeof===aW||e.getModuleId!==void 0)};zt.typeOf=na;sW.exports=zt;var tje=sW.exports,rje=wo,nje=jo,sje="[object Number]";function aje(e){return typeof e=="number"||nje(e)&&rje(e)==sje}var iW=aje;const ije=Bt(iW);var oje=iW;function lje(e){return oje(e)&&e!=+e}var cje=lje;const Jg=Bt(cje);var Ea=function(t){return t===0?0:t>0?1:-1},_c=function(t){return pu(t)&&t.indexOf("%")===t.length-1},je=function(t){return ije(t)&&!Jg(t)},uje=function(t){return xt(t)},Zr=function(t){return je(t)||pu(t)},dje=0,ev=function(t){var r=++dje;return"".concat(t||"").concat(r)},gu=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&!pu(t))return n;var i;if(_c(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Jg(i)&&(i=n),a&&i>r&&(i=r),i},Uo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},hje=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ka=function(t,r){return je(t)&&je(r)?function(n){return t+n*(r-t)}:function(){return r}};function r0(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ys(n,t))===r})}var fje=function(t,r){return je(t)&&je(r)?t-r:pu(t)&&pu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function $d(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ak(e){"@babel/helpers - typeof";return ak=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ak(e)}var mje=["viewBox","children"],pje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NR=["points","pathLength"],Yj={svg:mje,polygon:NR,polyline:NR},UE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],n0=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!ff(n))return null;var a={};return Object.keys(n).forEach(function(i){UE.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},gje=function(t,r,n){return function(a){return t(r,n,a),null}},s0=function(t,r,n){if(!ff(t)||ak(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];UE.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=gje(o,r,n))}),a},vje=["children"],xje=["children"];function SR(e,t){if(e==null)return{};var r=yje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ik(e){"@babel/helpers - typeof";return ik=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ik(e)}var kR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},CR=null,Qj=null,VE=function e(t){if(t===CR&&Array.isArray(Qj))return Qj;var r=[];return v.Children.forEach(t,function(n){xt(n)||(tje.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Qj=r,CR=t,r};function Qs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Xi(a)}):n=[Xi(t)],VE(e).forEach(function(a){var i=Ys(a,"type.displayName")||Ys(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ms(e,t){var r=Qs(e,t);return r&&r[0]}var PR=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!je(n)||n<=0||!je(a)||a<=0)},bje=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wje=function(t){return t&&t.type&&pu(t.type)&&bje.indexOf(t.type)>=0},jje=function(t){return t&&ik(t)==="object"&&"clipDot"in t},_je=function(t,r,n,a){var i,o=(i=Yj==null?void 0:Yj[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!pt(t)&&(a&&o.includes(r)||pje.includes(r))||n&&UE.includes(r)},_t=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!ff(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;_je((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},ok=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ER(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!ER(i,o))return!1}return!0},ER=function(t,r){if(xt(t)&&xt(r))return!0;if(!xt(t)&&!xt(r)){var n=t.props||{},a=n.children,i=SR(n,vje),o=r.props||{},l=o.children,c=SR(o,xje);return a&&l?$d(i,c)&&ok(a,l):!a&&!l?$d(i,c):!1}return!1},TR=function(t,r){var n=[],a={};return VE(t).forEach(function(i,o){if(wje(i))n.push(i);else if(i){var l=Xi(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var h=u(i,l,o);n.push(h),a[l]=!0}}}),n},Nje=function(t){var r=t&&t.type;return r&&kR[r]?kR[r]:null},Sje=function(t,r){return VE(r).indexOf(t)},kje=["children","width","height","viewBox","className","style","title","desc"];function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lk.apply(this,arguments)}function Cje(e,t){if(e==null)return{};var r=Pje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ck(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Cje(e,kje),d=a||{width:r,height:n,x:0,y:0},h=Nt("recharts-surface",i);return B.createElement("svg",lk({},_t(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,l),B.createElement("desc",null,c),t)}var Eje=["children","className"];function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}function Tje(e,t){if(e==null)return{};var r=Oje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ir=B.forwardRef(function(e,t){var r=e.children,n=e.className,a=Tje(e,Eje),i=Nt("recharts-layer",n);return B.createElement("g",uk({className:i},_t(a,!0),{ref:t}),r)}),Yi=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Aje(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Ije=Aje,Mje=Ije;function Rje(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Mje(e,t,r)}var $je=Rje,Dje="\\ud800-\\udfff",Lje="\\u0300-\\u036f",Fje="\\ufe20-\\ufe2f",Bje="\\u20d0-\\u20ff",zje=Lje+Fje+Bje,Uje="\\ufe0e\\ufe0f",Vje="\\u200d",Wje=RegExp("["+Vje+Dje+zje+Uje+"]");function qje(e){return Wje.test(e)}var oW=qje;function Hje(e){return e.split("")}var Gje=Hje,lW="\\ud800-\\udfff",Kje="\\u0300-\\u036f",Xje="\\ufe20-\\ufe2f",Yje="\\u20d0-\\u20ff",Qje=Kje+Xje+Yje,Zje="\\ufe0e\\ufe0f",Jje="["+lW+"]",dk="["+Qje+"]",hk="\\ud83c[\\udffb-\\udfff]",e_e="(?:"+dk+"|"+hk+")",cW="[^"+lW+"]",uW="(?:\\ud83c[\\udde6-\\uddff]){2}",dW="[\\ud800-\\udbff][\\udc00-\\udfff]",t_e="\\u200d",hW=e_e+"?",fW="["+Zje+"]?",r_e="(?:"+t_e+"(?:"+[cW,uW,dW].join("|")+")"+fW+hW+")*",n_e=fW+hW+r_e,s_e="(?:"+[cW+dk+"?",dk,uW,dW,Jje].join("|")+")",a_e=RegExp(hk+"(?="+hk+")|"+s_e+n_e,"g");function i_e(e){return e.match(a_e)||[]}var o_e=i_e,l_e=Gje,c_e=oW,u_e=o_e;function d_e(e){return c_e(e)?u_e(e):l_e(e)}var h_e=d_e,f_e=$je,m_e=oW,p_e=h_e,g_e=tW;function v_e(e){return function(t){t=g_e(t);var r=m_e(t)?p_e(t):void 0,n=r?r[0]:t.charAt(0),a=r?f_e(r,1).join(""):t.slice(1);return n[e]()+a}}var x_e=v_e,y_e=x_e,b_e=y_e("toUpperCase"),w_e=b_e;const kw=Bt(w_e);function Qt(e){return function(){return e}}const mW=Math.cos,a0=Math.sin,Ha=Math.sqrt,i0=Math.PI,Cw=2*i0,fk=Math.PI,mk=2*fk,uc=1e-6,j_e=mk-uc;function pW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function __e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class N_e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pW:__e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>uc)if(!(Math.abs(h*c-u*d)>uc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,x=m*m+g*g,b=Math.sqrt(p),y=Math.sqrt(f),w=i*Math.tan((fk-Math.acos((p+f-x)/(2*b*y)))/2),N=w/y,S=w/b;Math.abs(N-1)>uc&&this._append`L${t+N*d},${r+N*h}`,this._append`A${i},${i},0,0,${+(h*m>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>uc||Math.abs(this._y1-d)>uc)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%mk+mk),f>j_e?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>uc&&this._append`A${n},${n},0,${+(f>=fk)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function WE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new N_e(t)}function qE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gW(e){this._context=e}gW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pw(e){return new gW(e)}function vW(e){return e[0]}function xW(e){return e[1]}function yW(e,t){var r=Qt(!0),n=null,a=Pw,i=null,o=WE(l);e=typeof e=="function"?e:e===void 0?vW:Qt(e),t=typeof t=="function"?t:t===void 0?xW:Qt(t);function l(c){var u,d=(c=qE(c)).length,h,f=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,u,c),+t(h,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Qt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Qt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Qt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function tx(e,t,r){var n=null,a=Qt(!0),i=null,o=Pw,l=null,c=WE(u);e=typeof e=="function"?e:e===void 0?vW:Qt(+e),t=typeof t=="function"?t:Qt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?xW:Qt(+r);function u(h){var f,m,g,p=(h=qE(h)).length,x,b=!1,y,w=new Array(p),N=new Array(p);for(i==null&&(l=o(y=c())),f=0;f<=p;++f){if(!(f<p&&a(x=h[f],f,h))===b)if(b=!b)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=m;--g)l.point(w[g],N[g]);l.lineEnd(),l.areaEnd()}b&&(w[f]=+e(x,f,h),N[f]=+t(x,f,h),l.point(n?+n(x,f,h):w[f],r?+r(x,f,h):N[f]))}if(y)return l=null,y+""||null}function d(){return yW().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Qt(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Qt(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Qt(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Qt(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Qt(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Qt(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Qt(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class bW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function S_e(e){return new bW(e,!0)}function k_e(e){return new bW(e,!1)}const HE={draw(e,t){const r=Ha(t/i0);e.moveTo(r,0),e.arc(0,0,r,0,Cw)}},C_e={draw(e,t){const r=Ha(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},wW=Ha(1/3),P_e=wW*2,E_e={draw(e,t){const r=Ha(t/P_e),n=r*wW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},T_e={draw(e,t){const r=Ha(t),n=-r/2;e.rect(n,n,r,r)}},O_e=.8908130915292852,jW=a0(i0/10)/a0(7*i0/10),A_e=a0(Cw/10)*jW,I_e=-mW(Cw/10)*jW,M_e={draw(e,t){const r=Ha(t*O_e),n=A_e*r,a=I_e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Cw*i/5,l=mW(o),c=a0(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Zj=Ha(3),R_e={draw(e,t){const r=-Ha(t/(Zj*3));e.moveTo(0,r*2),e.lineTo(-Zj*r,-r),e.lineTo(Zj*r,-r),e.closePath()}},Rs=-.5,$s=Ha(3)/2,pk=1/Ha(12),$_e=(pk/2+1)*3,D_e={draw(e,t){const r=Ha(t/$_e),n=r/2,a=r*pk,i=n,o=r*pk+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Rs*n-$s*a,$s*n+Rs*a),e.lineTo(Rs*i-$s*o,$s*i+Rs*o),e.lineTo(Rs*l-$s*c,$s*l+Rs*c),e.lineTo(Rs*n+$s*a,Rs*a-$s*n),e.lineTo(Rs*i+$s*o,Rs*o-$s*i),e.lineTo(Rs*l+$s*c,Rs*c-$s*l),e.closePath()}};function L_e(e,t){let r=null,n=WE(a);e=typeof e=="function"?e:Qt(e||HE),t=typeof t=="function"?t:Qt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Qt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Qt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function o0(){}function l0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _W(e){this._context=e}_W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:l0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:l0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F_e(e){return new _W(e)}function NW(e){this._context=e}NW.prototype={areaStart:o0,areaEnd:o0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:l0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B_e(e){return new NW(e)}function SW(e){this._context=e}SW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:l0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z_e(e){return new SW(e)}function kW(e){this._context=e}kW.prototype={areaStart:o0,areaEnd:o0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function U_e(e){return new kW(e)}function OR(e){return e<0?-1:1}function AR(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(OR(i)+OR(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function IR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Jj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function c0(e){this._context=e}c0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jj(this,this._t0,IR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jj(this,IR(this,r=AR(this,e,t)),r);break;default:Jj(this,this._t0,r=AR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function CW(e){this._context=new PW(e)}(CW.prototype=Object.create(c0.prototype)).point=function(e,t){c0.prototype.point.call(this,t,e)};function PW(e){this._context=e}PW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function V_e(e){return new c0(e)}function W_e(e){return new CW(e)}function EW(e){this._context=e}EW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=MR(e),a=MR(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function MR(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function q_e(e){return new EW(e)}function Ew(e,t){this._context=e,this._t=t}Ew.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function H_e(e){return new Ew(e,.5)}function G_e(e){return new Ew(e,0)}function K_e(e){return new Ew(e,1)}function bh(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function gk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function X_e(e,t){return e[t]}function Y_e(e){const t=[];return t.key=e,t}function Q_e(){var e=Qt([]),t=gk,r=bh,n=X_e;function a(i){var o=Array.from(e.apply(this,arguments),Y_e),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,i)]).data=h;for(l=0,d=qE(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Qt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Qt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?gk:typeof i=="function"?i:Qt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??bh,a):r},a}function Z_e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}bh(e,t)}}function J_e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}bh(e,t)}}function eNe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[n][1]||0,f=d[n-1][1]||0,m=(h-f)/2,g=0;g<l;++g){var p=e[t[g]],x=p[n][1]||0,b=p[n-1][1]||0;m+=x-b}c+=h,u+=m*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,bh(e,t)}}function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}var tNe=["type","size","sizeType"];function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vk.apply(this,arguments)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){rNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rNe(e,t,r){return t=nNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nNe(e){var t=sNe(e,"string");return Mp(t)=="symbol"?t:t+""}function sNe(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aNe(e,t){if(e==null)return{};var r=iNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TW={symbolCircle:HE,symbolCross:C_e,symbolDiamond:E_e,symbolSquare:T_e,symbolStar:M_e,symbolTriangle:R_e,symbolWye:D_e},oNe=Math.PI/180,lNe=function(t){var r="symbol".concat(kw(t));return TW[r]||HE},cNe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*oNe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},uNe=function(t,r){TW["symbol".concat(kw(t))]=r},GE=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=aNe(t,tNe),u=$R($R({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=lNe(n),b=L_e().type(x).size(cNe(i,l,n));return b()},h=u.className,f=u.cx,m=u.cy,g=_t(u,!0);return f===+f&&m===+m&&i===+i?B.createElement("path",vk({},g,{className:Nt("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};GE.registerSymbol=uNe;function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xk.apply(this,arguments)}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){Rp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AW(n.key),n)}}function mNe(e,t,r){return t&&fNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pNe(e,t,r){return t=u0(t),gNe(e,OW()?Reflect.construct(t,r||[],u0(e).constructor):t.apply(e,r))}function gNe(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vNe(e)}function vNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OW=function(){return!!e})()}function u0(e){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u0(e)}function xNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yk(e,t)}function Rp(e,t,r){return t=AW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=yNe(e,"string");return wh(t)=="symbol"?t:t+""}function yNe(e,t){if(wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ds=32,KE=function(e){function t(){return hNe(this,t),pNe(this,t,arguments)}return xNe(t,e),mNe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ds/2,o=Ds/6,l=Ds/3,c=n.inactive?a:n.color;if(n.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ds,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ds,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return B.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ds/8,"h").concat(Ds,"v").concat(Ds*3/4,"h").concat(-Ds,"z"),className:"recharts-legend-icon"});if(B.isValidElement(n.legendIcon)){var u=dNe({},n);return delete u.legendIcon,B.cloneElement(n.legendIcon,u)}return B.createElement(GE,{fill:c,cx:i,cy:i,size:Ds,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ds,height:Ds},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,x=Nt(Rp(Rp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=pt(m.value)?null:m.value;Yi(!pt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return B.createElement("li",xk({className:x,style:h,key:"legend-item-".concat(g)},s0(n.props,m,g)),B.createElement(ck,{width:o,height:o,viewBox:d,style:f},n.renderIcon(m)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Rp(KE,"displayName","Legend");Rp(KE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bNe=fw;function wNe(){this.__data__=new bNe,this.size=0}var jNe=wNe;function _Ne(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var NNe=_Ne;function SNe(e){return this.__data__.get(e)}var kNe=SNe;function CNe(e){return this.__data__.has(e)}var PNe=CNe,ENe=fw,TNe=RE,ONe=$E,ANe=200;function INe(e,t){var r=this.__data__;if(r instanceof ENe){var n=r.__data__;if(!TNe||n.length<ANe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ONe(n)}return r.set(e,t),this.size=r.size,this}var MNe=INe,RNe=fw,$Ne=jNe,DNe=NNe,LNe=kNe,FNe=PNe,BNe=MNe;function vf(e){var t=this.__data__=new RNe(e);this.size=t.size}vf.prototype.clear=$Ne;vf.prototype.delete=DNe;vf.prototype.get=LNe;vf.prototype.has=FNe;vf.prototype.set=BNe;var IW=vf,zNe="__lodash_hash_undefined__";function UNe(e){return this.__data__.set(e,zNe),this}var VNe=UNe;function WNe(e){return this.__data__.has(e)}var qNe=WNe,HNe=$E,GNe=VNe,KNe=qNe;function d0(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new HNe;++t<r;)this.add(e[t])}d0.prototype.add=d0.prototype.push=GNe;d0.prototype.has=KNe;var MW=d0;function XNe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var RW=XNe;function YNe(e,t){return e.has(t)}var $W=YNe,QNe=MW,ZNe=RW,JNe=$W,eSe=1,tSe=2;function rSe(e,t,r,n,a,i){var o=r&eSe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,m=r&tSe?new QNe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var g=e[h],p=t[h];if(n)var x=o?n(p,g,h,t,e,i):n(g,p,h,e,t,i);if(x!==void 0){if(x)continue;f=!1;break}if(m){if(!ZNe(t,function(b,y){if(!JNe(m,y)&&(g===b||a(g,b,r,n,i)))return m.push(y)})){f=!1;break}}else if(!(g===p||a(g,p,r,n,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var DW=rSe,nSe=ki,sSe=nSe.Uint8Array,aSe=sSe;function iSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var oSe=iSe;function lSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var XE=lSe,LR=Zg,FR=aSe,cSe=ME,uSe=DW,dSe=oSe,hSe=XE,fSe=1,mSe=2,pSe="[object Boolean]",gSe="[object Date]",vSe="[object Error]",xSe="[object Map]",ySe="[object Number]",bSe="[object RegExp]",wSe="[object Set]",jSe="[object String]",_Se="[object Symbol]",NSe="[object ArrayBuffer]",SSe="[object DataView]",BR=LR?LR.prototype:void 0,e_=BR?BR.valueOf:void 0;function kSe(e,t,r,n,a,i,o){switch(r){case SSe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case NSe:return!(e.byteLength!=t.byteLength||!i(new FR(e),new FR(t)));case pSe:case gSe:case ySe:return cSe(+e,+t);case vSe:return e.name==t.name&&e.message==t.message;case bSe:case jSe:return e==t+"";case xSe:var l=dSe;case wSe:var c=n&fSe;if(l||(l=hSe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=mSe,o.set(e,t);var d=uSe(l(e),l(t),n,a,i,o);return o.delete(e),d;case _Se:if(e_)return e_.call(e)==e_.call(t)}return!1}var CSe=kSe;function PSe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var LW=PSe,ESe=LW,TSe=os;function OSe(e,t,r){var n=t(e);return TSe(e)?n:ESe(n,r(e))}var ASe=OSe;function ISe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var MSe=ISe;function RSe(){return[]}var $Se=RSe,DSe=MSe,LSe=$Se,FSe=Object.prototype,BSe=FSe.propertyIsEnumerable,zR=Object.getOwnPropertySymbols,zSe=zR?function(e){return e==null?[]:(e=Object(e),DSe(zR(e),function(t){return BSe.call(e,t)}))}:LSe,USe=zSe;function VSe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var WSe=VSe,qSe=wo,HSe=jo,GSe="[object Arguments]";function KSe(e){return HSe(e)&&qSe(e)==GSe}var XSe=KSe,UR=XSe,YSe=jo,FW=Object.prototype,QSe=FW.hasOwnProperty,ZSe=FW.propertyIsEnumerable,JSe=UR(function(){return arguments}())?UR:function(e){return YSe(e)&&QSe.call(e,"callee")&&!ZSe.call(e,"callee")},YE=JSe,h0={exports:{}};function eke(){return!1}var tke=eke;h0.exports;(function(e,t){var r=ki,n=tke,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(h0,h0.exports);var BW=h0.exports,rke=9007199254740991,nke=/^(?:0|[1-9]\d*)$/;function ske(e,t){var r=typeof e;return t=t??rke,!!t&&(r=="number"||r!="symbol"&&nke.test(e))&&e>-1&&e%1==0&&e<t}var QE=ske,ake=9007199254740991;function ike(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ake}var ZE=ike,oke=wo,lke=ZE,cke=jo,uke="[object Arguments]",dke="[object Array]",hke="[object Boolean]",fke="[object Date]",mke="[object Error]",pke="[object Function]",gke="[object Map]",vke="[object Number]",xke="[object Object]",yke="[object RegExp]",bke="[object Set]",wke="[object String]",jke="[object WeakMap]",_ke="[object ArrayBuffer]",Nke="[object DataView]",Ske="[object Float32Array]",kke="[object Float64Array]",Cke="[object Int8Array]",Pke="[object Int16Array]",Eke="[object Int32Array]",Tke="[object Uint8Array]",Oke="[object Uint8ClampedArray]",Ake="[object Uint16Array]",Ike="[object Uint32Array]",or={};or[Ske]=or[kke]=or[Cke]=or[Pke]=or[Eke]=or[Tke]=or[Oke]=or[Ake]=or[Ike]=!0;or[uke]=or[dke]=or[_ke]=or[hke]=or[Nke]=or[fke]=or[mke]=or[pke]=or[gke]=or[vke]=or[xke]=or[yke]=or[bke]=or[wke]=or[jke]=!1;function Mke(e){return cke(e)&&lke(e.length)&&!!or[oke(e)]}var Rke=Mke;function $ke(e){return function(t){return e(t)}}var zW=$ke,f0={exports:{}};f0.exports;(function(e,t){var r=XV,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(f0,f0.exports);var Dke=f0.exports,Lke=Rke,Fke=zW,VR=Dke,WR=VR&&VR.isTypedArray,Bke=WR?Fke(WR):Lke,UW=Bke,zke=WSe,Uke=YE,Vke=os,Wke=BW,qke=QE,Hke=UW,Gke=Object.prototype,Kke=Gke.hasOwnProperty;function Xke(e,t){var r=Vke(e),n=!r&&Uke(e),a=!r&&!n&&Wke(e),i=!r&&!n&&!a&&Hke(e),o=r||n||a||i,l=o?zke(e.length,String):[],c=l.length;for(var u in e)(t||Kke.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qke(u,c)))&&l.push(u);return l}var Yke=Xke,Qke=Object.prototype;function Zke(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Qke;return e===r}var Jke=Zke;function e2e(e,t){return function(r){return e(t(r))}}var VW=e2e,t2e=VW,r2e=t2e(Object.keys,Object),n2e=r2e,s2e=Jke,a2e=n2e,i2e=Object.prototype,o2e=i2e.hasOwnProperty;function l2e(e){if(!s2e(e))return a2e(e);var t=[];for(var r in Object(e))o2e.call(e,r)&&r!="constructor"&&t.push(r);return t}var c2e=l2e,u2e=IE,d2e=ZE;function h2e(e){return e!=null&&d2e(e.length)&&!u2e(e)}var tv=h2e,f2e=Yke,m2e=c2e,p2e=tv;function g2e(e){return p2e(e)?f2e(e):m2e(e)}var Tw=g2e,v2e=ASe,x2e=USe,y2e=Tw;function b2e(e){return v2e(e,y2e,x2e)}var w2e=b2e,qR=w2e,j2e=1,_2e=Object.prototype,N2e=_2e.hasOwnProperty;function S2e(e,t,r,n,a,i){var o=r&j2e,l=qR(e),c=l.length,u=qR(t),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:N2e.call(t,f)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++h<c;){f=l[h];var b=e[f],y=t[f];if(n)var w=o?n(y,b,f,t,e,i):n(b,y,f,e,t,i);if(!(w===void 0?b===y||a(b,y,r,n,i):w)){p=!1;break}x||(x=f=="constructor")}if(p&&!x){var N=e.constructor,S=t.constructor;N!=S&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof S=="function"&&S instanceof S)&&(p=!1)}return i.delete(e),i.delete(t),p}var k2e=S2e,C2e=Su,P2e=ki,E2e=C2e(P2e,"DataView"),T2e=E2e,O2e=Su,A2e=ki,I2e=O2e(A2e,"Promise"),M2e=I2e,R2e=Su,$2e=ki,D2e=R2e($2e,"Set"),WW=D2e,L2e=Su,F2e=ki,B2e=L2e(F2e,"WeakMap"),z2e=B2e,bk=T2e,wk=RE,jk=M2e,_k=WW,Nk=z2e,qW=wo,xf=QV,HR="[object Map]",U2e="[object Object]",GR="[object Promise]",KR="[object Set]",XR="[object WeakMap]",YR="[object DataView]",V2e=xf(bk),W2e=xf(wk),q2e=xf(jk),H2e=xf(_k),G2e=xf(Nk),dc=qW;(bk&&dc(new bk(new ArrayBuffer(1)))!=YR||wk&&dc(new wk)!=HR||jk&&dc(jk.resolve())!=GR||_k&&dc(new _k)!=KR||Nk&&dc(new Nk)!=XR)&&(dc=function(e){var t=qW(e),r=t==U2e?e.constructor:void 0,n=r?xf(r):"";if(n)switch(n){case V2e:return YR;case W2e:return HR;case q2e:return GR;case H2e:return KR;case G2e:return XR}return t});var K2e=dc,t_=IW,X2e=DW,Y2e=CSe,Q2e=k2e,QR=K2e,ZR=os,JR=BW,Z2e=UW,J2e=1,e$="[object Arguments]",t$="[object Array]",rx="[object Object]",eCe=Object.prototype,r$=eCe.hasOwnProperty;function tCe(e,t,r,n,a,i){var o=ZR(e),l=ZR(t),c=o?t$:QR(e),u=l?t$:QR(t);c=c==e$?rx:c,u=u==e$?rx:u;var d=c==rx,h=u==rx,f=c==u;if(f&&JR(e)){if(!JR(t))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new t_),o||Z2e(e)?X2e(e,t,r,n,a,i):Y2e(e,t,c,r,n,a,i);if(!(r&J2e)){var m=d&&r$.call(e,"__wrapped__"),g=h&&r$.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,x=g?t.value():t;return i||(i=new t_),a(p,x,r,n,i)}}return f?(i||(i=new t_),Q2e(e,t,r,n,a,i)):!1}var rCe=tCe,nCe=rCe,n$=jo;function HW(e,t,r,n,a){return e===t?!0:e==null||t==null||!n$(e)&&!n$(t)?e!==e&&t!==t:nCe(e,t,r,n,HW,a)}var JE=HW,sCe=IW,aCe=JE,iCe=1,oCe=2;function lCe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new sCe;if(n)var f=n(u,d,c,e,t,h);if(!(f===void 0?aCe(d,u,iCe|oCe,n,h):f))return!1}}return!0}var cCe=lCe,uCe=Gl;function dCe(e){return e===e&&!uCe(e)}var GW=dCe,hCe=GW,fCe=Tw;function mCe(e){for(var t=fCe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,hCe(a)]}return t}var pCe=mCe;function gCe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var KW=gCe,vCe=cCe,xCe=pCe,yCe=KW;function bCe(e){var t=xCe(e);return t.length==1&&t[0][2]?yCe(t[0][0],t[0][1]):function(r){return r===e||vCe(r,e,t)}}var wCe=bCe;function jCe(e,t){return e!=null&&t in Object(e)}var _Ce=jCe,NCe=rW,SCe=YE,kCe=os,CCe=QE,PCe=ZE,ECe=pw;function TCe(e,t,r){t=NCe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=ECe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&PCe(a)&&CCe(o,a)&&(kCe(e)||SCe(e)))}var OCe=TCe,ACe=_Ce,ICe=OCe;function MCe(e,t){return e!=null&&ICe(e,t,ACe)}var RCe=MCe,$Ce=JE,DCe=nW,LCe=RCe,FCe=AE,BCe=GW,zCe=KW,UCe=pw,VCe=1,WCe=2;function qCe(e,t){return FCe(e)&&BCe(t)?zCe(UCe(e),t):function(r){var n=DCe(r,e);return n===void 0&&n===t?LCe(r,e):$Ce(t,n,VCe|WCe)}}var HCe=qCe;function GCe(e){return e}var yf=GCe;function KCe(e){return function(t){return t==null?void 0:t[e]}}var XCe=KCe,YCe=FE;function QCe(e){return function(t){return YCe(t,e)}}var ZCe=QCe,JCe=XCe,ePe=ZCe,tPe=AE,rPe=pw;function nPe(e){return tPe(e)?JCe(rPe(e)):ePe(e)}var sPe=nPe,aPe=wCe,iPe=HCe,oPe=yf,lPe=os,cPe=sPe;function uPe(e){return typeof e=="function"?e:e==null?oPe:typeof e=="object"?lPe(e)?iPe(e[0],e[1]):aPe(e):cPe(e)}var Kl=uPe;function dPe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var XW=dPe;function hPe(e){return e!==e}var fPe=hPe;function mPe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var pPe=mPe,gPe=XW,vPe=fPe,xPe=pPe;function yPe(e,t,r){return t===t?xPe(e,t,r):gPe(e,vPe,r)}var bPe=yPe,wPe=bPe;function jPe(e,t){var r=e==null?0:e.length;return!!r&&wPe(e,t,0)>-1}var _Pe=jPe;function NPe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var SPe=NPe;function kPe(){}var CPe=kPe,r_=WW,PPe=CPe,EPe=XE,TPe=1/0,OPe=r_&&1/EPe(new r_([,-0]))[1]==TPe?function(e){return new r_(e)}:PPe,APe=OPe,IPe=MW,MPe=_Pe,RPe=SPe,$Pe=$W,DPe=APe,LPe=XE,FPe=200;function BPe(e,t,r){var n=-1,a=MPe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=RPe;else if(i>=FPe){var u=t?null:DPe(e);if(u)return LPe(u);o=!1,a=$Pe,c=new IPe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],h=t?t(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(d)}else a(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var zPe=BPe,UPe=Kl,VPe=zPe;function WPe(e,t){return e&&e.length?VPe(e,UPe(t)):[]}var qPe=WPe;const s$=Bt(qPe);function YW(e,t,r){return t===!0?s$(e,r):pt(t)?s$(e,t):e}function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}var HPe=["ref"];function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(n){Ow(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZW(n.key),n)}}function KPe(e,t,r){return t&&i$(e.prototype,t),r&&i$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XPe(e,t,r){return t=m0(t),YPe(e,QW()?Reflect.construct(t,r||[],m0(e).constructor):t.apply(e,r))}function YPe(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QPe(e)}function QPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QW=function(){return!!e})()}function m0(e){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m0(e)}function ZPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(e,t)}function Ow(e,t,r){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=JPe(e,"string");return jh(t)=="symbol"?t:t+""}function JPe(e,t){if(jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eEe(e,t){if(e==null)return{};var r=tEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rEe(e){return e.value}function nEe(e,t){if(B.isValidElement(e))return B.cloneElement(e,t);if(typeof e=="function")return B.createElement(e,t);t.ref;var r=eEe(t,HPe);return B.createElement(KE,r)}var o$=1,Dd=function(e){function t(){var r;GPe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=XPe(this,t,[].concat(a)),Ow(r,"lastBoundingBox",{width:-1,height:-1}),r}return ZPe(t,e),KPe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>o$||Math.abs(a.height-this.lastBoundingBox.height)>o$)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ti({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();f={top:((d||0)-g.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ti(Ti({},h),f)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=Ti(Ti({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return B.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){n.wrapperNode=m}},nEe(i,Ti(Ti({},this.props),{},{payload:YW(d,u,rEe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ti(Ti({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&je(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);Ow(Dd,"displayName","Legend");Ow(Dd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var l$=Zg,sEe=YE,aEe=os,c$=l$?l$.isConcatSpreadable:void 0;function iEe(e){return aEe(e)||sEe(e)||!!(c$&&e&&e[c$])}var oEe=iEe,lEe=LW,cEe=oEe;function JW(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=cEe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?JW(l,t-1,r,n,a):lEe(a,l):n||(a[a.length]=l)}return a}var eq=JW;function uEe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var dEe=uEe,hEe=dEe,fEe=hEe(),mEe=fEe,pEe=mEe,gEe=Tw;function vEe(e,t){return e&&pEe(e,t,gEe)}var tq=vEe,xEe=tv;function yEe(e,t){return function(r,n){if(r==null)return r;if(!xEe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var bEe=yEe,wEe=tq,jEe=bEe,_Ee=jEe(wEe),eT=_Ee,NEe=eT,SEe=tv;function kEe(e,t){var r=-1,n=SEe(e)?Array(e.length):[];return NEe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var rq=kEe;function CEe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var PEe=CEe,u$=hf;function EEe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=u$(e),o=t!==void 0,l=t===null,c=t===t,u=u$(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var TEe=EEe,OEe=TEe;function AEe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=OEe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var IEe=AEe,n_=LE,MEe=FE,REe=Kl,$Ee=rq,DEe=PEe,LEe=zW,FEe=IEe,BEe=yf,zEe=os;function UEe(e,t,r){t.length?t=n_(t,function(i){return zEe(i)?function(o){return MEe(o,i.length===1?i[0]:i)}:i}):t=[BEe];var n=-1;t=n_(t,LEe(REe));var a=$Ee(e,function(i,o,l){var c=n_(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return DEe(a,function(i,o){return FEe(i,o,r)})}var VEe=UEe;function WEe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var qEe=WEe,HEe=qEe,d$=Math.max;function GEe(e,t,r){return t=d$(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=d$(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),HEe(e,this,l)}}var KEe=GEe;function XEe(e){return function(){return e}}var YEe=XEe,QEe=Su,ZEe=function(){try{var e=QEe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nq=ZEe,JEe=YEe,h$=nq,eTe=yf,tTe=h$?function(e,t){return h$(e,"toString",{configurable:!0,enumerable:!1,value:JEe(t),writable:!0})}:eTe,rTe=tTe,nTe=800,sTe=16,aTe=Date.now;function iTe(e){var t=0,r=0;return function(){var n=aTe(),a=sTe-(n-r);if(r=n,a>0){if(++t>=nTe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var oTe=iTe,lTe=rTe,cTe=oTe,uTe=cTe(lTe),dTe=uTe,hTe=yf,fTe=KEe,mTe=dTe;function pTe(e,t){return mTe(fTe(e,t,hTe),e+"")}var gTe=pTe,vTe=ME,xTe=tv,yTe=QE,bTe=Gl;function wTe(e,t,r){if(!bTe(r))return!1;var n=typeof t;return(n=="number"?xTe(r)&&yTe(t,r.length):n=="string"&&t in r)?vTe(r[t],e):!1}var Aw=wTe,jTe=eq,_Te=VEe,NTe=gTe,f$=Aw,STe=NTe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&f$(e,t[0],t[1])?t=[]:r>2&&f$(t[0],t[1],t[2])&&(t=[t[0]]),_Te(e,jTe(t,1),[])}),kTe=STe;const tT=Bt(kTe);function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kk.apply(this,arguments)}function CTe(e,t){return OTe(e)||TTe(e,t)||ETe(e,t)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ETe(e,t){if(e){if(typeof e=="string")return m$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m$(e,t)}}function m$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function OTe(e){if(Array.isArray(e))return e}function p$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(r),!0).forEach(function(n){ATe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ATe(e,t,r){return t=ITe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ITe(e){var t=MTe(e,"string");return $p(t)=="symbol"?t:t+""}function MTe(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RTe(e){return Array.isArray(e)&&Zr(e[0])&&Zr(e[1])?e.join(" ~ "):e}var $Te=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,f=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var $={padding:0,margin:0},W=(f?tT(d,f):d).map(function(V,E){if(V.type==="none")return null;var P=s_({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),R=V.formatter||h||RTe,O=V.value,T=V.name,D=O,X=T;if(R&&D!=null&&X!=null){var A=R(O,T,V,E,d);if(Array.isArray(A)){var q=CTe(A,2);D=q[0],X=q[1]}else D=A}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:P},Zr(X)?B.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Zr(X)?B.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,B.createElement("span",{className:"recharts-tooltip-item-value"},D),B.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:$},W)}return null},N=s_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=s_({margin:0},u),k=!xt(p),_=k?p:"",j=Nt("recharts-default-tooltip",m),C=Nt("recharts-tooltip-label",g);k&&x&&d!==void 0&&d!==null&&(_=x(p,d));var I=y?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",kk({className:j,style:N},I),B.createElement("p",{className:C,style:S},B.isValidElement(_)?_:"".concat(_)),w())};function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function nx(e,t,r){return t=DTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DTe(e){var t=LTe(e,"string");return Dp(t)=="symbol"?t:t+""}function LTe(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hf="recharts-tooltip-wrapper",FTe={visibility:"hidden"};function BTe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Nt(Hf,nx(nx(nx(nx({},"".concat(Hf,"-right"),je(r)&&t&&je(t.x)&&r>=t.x),"".concat(Hf,"-left"),je(r)&&t&&je(t.x)&&r<t.x),"".concat(Hf,"-bottom"),je(n)&&t&&je(t.y)&&n>=t.y),"".concat(Hf,"-top"),je(n)&&t&&je(t.y)&&n<t.y))}function g$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&je(i[n]))return i[n];var d=r[n]-l-a,h=r[n]+a;if(t[n])return o[n]?d:h;if(o[n]){var f=d,m=c[n];return f<m?Math.max(h,c[n]):Math.max(d,c[n])}var g=h+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(h,c[n])}function zTe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function UTe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=g$({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=g$({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=zTe({translateX:d,translateY:h,useTranslate3d:l})):u=FTe,{cssProperties:u,cssClasses:BTe({translateX:d,translateY:h,coordinate:r})}}function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function v$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(r),!0).forEach(function(n){Pk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aq(n.key),n)}}function qTe(e,t,r){return t&&WTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HTe(e,t,r){return t=p0(t),GTe(e,sq()?Reflect.construct(t,r||[],p0(e).constructor):t.apply(e,r))}function GTe(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KTe(e)}function KTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sq=function(){return!!e})()}function p0(e){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p0(e)}function XTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}function Ck(e,t){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ck(e,t)}function Pk(e,t,r){return t=aq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=YTe(e,"string");return _h(t)=="symbol"?t:t+""}function YTe(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y$=1,QTe=function(e){function t(){var r;VTe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=HTe(this,t,[].concat(a)),Pk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Pk(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return XTe(t,e),qTe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>y$||Math.abs(n.height-this.state.lastBoundingBox.height)>y$)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,w=UTe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),N=w.cssClasses,S=w.cssProperties,k=x$(x$({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return B.createElement("div",{tabIndex:-1,className:N,style:k,ref:function(j){n.wrapperNode=j}},u)}}])}(v.PureComponent),ZTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qi={isSsr:ZTe(),get:function(t){return Qi[t]},set:function(t,r){if(typeof t=="string")Qi[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Qi[a]=t[a]})}}};function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function b$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b$(Object(r),!0).forEach(function(n){rT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oq(n.key),n)}}function tOe(e,t,r){return t&&eOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rOe(e,t,r){return t=g0(t),nOe(e,iq()?Reflect.construct(t,r||[],g0(e).constructor):t.apply(e,r))}function nOe(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sOe(e)}function sOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iq=function(){return!!e})()}function g0(e){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g0(e)}function aOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ek(e,t)}function Ek(e,t){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ek(e,t)}function rT(e,t,r){return t=oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oq(e){var t=iOe(e,"string");return Nh(t)=="symbol"?t:t+""}function iOe(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oOe(e){return e.dataKey}function lOe(e,t){return B.isValidElement(e)?B.cloneElement(e,t):typeof e=="function"?B.createElement(e,t):B.createElement($Te,t)}var Xa=function(e){function t(){return JTe(this,t),rOe(this,t,arguments)}return aOe(t,e),tOe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,f=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,x=a.position,b=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,N=a.wrapperStyle,S=g??[];h&&S.length&&(S=YW(g.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),p,oOe));var k=S.length>0;return B.createElement(QTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:d,hasPayload:k,offset:m,position:x,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:N},lOe(u,w$(w$({},this.props),{},{payload:S})))}}])}(v.PureComponent);rT(Xa,"displayName","Tooltip");rT(Xa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cOe=ki,uOe=function(){return cOe.Date.now()},dOe=uOe,hOe=/\s/;function fOe(e){for(var t=e.length;t--&&hOe.test(e.charAt(t)););return t}var mOe=fOe,pOe=mOe,gOe=/^\s+/;function vOe(e){return e&&e.slice(0,pOe(e)+1).replace(gOe,"")}var xOe=vOe,yOe=xOe,j$=Gl,bOe=hf,_$=NaN,wOe=/^[-+]0x[0-9a-f]+$/i,jOe=/^0b[01]+$/i,_Oe=/^0o[0-7]+$/i,NOe=parseInt;function SOe(e){if(typeof e=="number")return e;if(bOe(e))return _$;if(j$(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=j$(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=yOe(e);var r=jOe.test(e);return r||_Oe.test(e)?NOe(e.slice(2),r?2:8):wOe.test(e)?_$:+e}var lq=SOe,kOe=Gl,a_=dOe,N$=lq,COe="Expected a function",POe=Math.max,EOe=Math.min;function TOe(e,t,r){var n,a,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(COe);t=N$(t)||0,kOe(r)&&(d=!!r.leading,h="maxWait"in r,i=h?POe(N$(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f);function m(k){var _=n,j=a;return n=a=void 0,u=k,o=e.apply(j,_),o}function g(k){return u=k,l=setTimeout(b,t),d?m(k):o}function p(k){var _=k-c,j=k-u,C=t-_;return h?EOe(C,i-j):C}function x(k){var _=k-c,j=k-u;return c===void 0||_>=t||_<0||h&&j>=i}function b(){var k=a_();if(x(k))return y(k);l=setTimeout(b,p(k))}function y(k){return l=void 0,f&&n?m(k):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function N(){return l===void 0?o:y(a_())}function S(){var k=a_(),_=x(k);if(n=arguments,a=this,c=k,_){if(l===void 0)return g(c);if(h)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return S.cancel=w,S.flush=N,S}var OOe=TOe,AOe=OOe,IOe=Gl,MOe="Expected a function";function ROe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(MOe);return IOe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),AOe(e,t,{leading:n,maxWait:t,trailing:a})}var $Oe=ROe;const cq=Bt($Oe);function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function S$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S$(Object(r),!0).forEach(function(n){DOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DOe(e,t,r){return t=LOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LOe(e){var t=FOe(e,"string");return Lp(t)=="symbol"?t:t+""}function FOe(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BOe(e,t){return WOe(e)||VOe(e,t)||UOe(e,t)||zOe()}function zOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UOe(e,t){if(e){if(typeof e=="string")return k$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k$(e,t)}}function k$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WOe(e){if(Array.isArray(e))return e}var qOe=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,b=e.className,y=e.onResize,w=e.style,N=w===void 0?{}:w,S=v.useRef(null),k=v.useRef();k.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var _=v.useState({containerWidth:a.width,containerHeight:a.height}),j=BOe(_,2),C=j[0],I=j[1],M=v.useCallback(function(W,V){I(function(E){var P=Math.round(W),R=Math.round(V);return E.containerWidth===P&&E.containerHeight===R?E:{containerWidth:P,containerHeight:R}})},[]);v.useEffect(function(){var W=function(T){var D,X=T[0].contentRect,A=X.width,q=X.height;M(A,q),(D=k.current)===null||D===void 0||D.call(k,A,q)};p>0&&(W=cq(W,p,{trailing:!0,leading:!1}));var V=new ResizeObserver(W),E=S.current.getBoundingClientRect(),P=E.width,R=E.height;return M(P,R),V.observe(S.current),function(){V.disconnect()}},[M,p]);var $=v.useMemo(function(){var W=C.containerWidth,V=C.containerHeight;if(W<0||V<0)return null;Yi(_c(o)||_c(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Yi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var E=_c(o)?W:o,P=_c(c)?V:c;r&&r>0&&(E?P=E/r:P&&(E=P*r),f&&P>f&&(P=f)),Yi(E>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,P,o,c,d,h,r);var R=!Array.isArray(m)&&Xi(m.type).endsWith("Chart");return B.Children.map(m,function(O){return B.isValidElement(O)?v.cloneElement(O,sx({width:E,height:P},R?{style:sx({height:"100%",width:"100%",maxHeight:P,maxWidth:E},O.props.style)}:{})):O})},[r,m,c,f,h,d,C,o]);return B.createElement("div",{id:x?"".concat(x):void 0,className:Nt("recharts-responsive-container",b),style:sx(sx({},N),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},$)}),uq=function(t){return null};uq.displayName="Cell";function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function C$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C$(Object(r),!0).forEach(function(n){HOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HOe(e,t,r){return t=GOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GOe(e){var t=KOe(e,"string");return Fp(t)=="symbol"?t:t+""}function KOe(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wu={widthCache:{},cacheCount:0},XOe=2e3,YOe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P$="recharts_measurement_span";function QOe(e){var t=Tk({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var $m=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qi.isSsr)return{width:0,height:0};var n=QOe(r),a=JSON.stringify({text:t,copyStyle:n});if(Wu.widthCache[a])return Wu.widthCache[a];try{var i=document.getElementById(P$);i||(i=document.createElement("span"),i.setAttribute("id",P$),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Tk(Tk({},YOe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Wu.widthCache[a]=c,++Wu.cacheCount>XOe&&(Wu.cacheCount=0,Wu.widthCache={}),c}catch{return{width:0,height:0}}},ZOe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function v0(e,t){return rAe(e)||tAe(e,t)||eAe(e,t)||JOe()}function JOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eAe(e,t){if(e){if(typeof e=="string")return E$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E$(e,t)}}function E$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function rAe(e){if(Array.isArray(e))return e}function nAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aAe(n.key),n)}}function sAe(e,t,r){return t&&T$(e.prototype,t),r&&T$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aAe(e){var t=iAe(e,"string");return Bp(t)=="symbol"?t:t+""}function iAe(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var O$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,A$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oAe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lAe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cAe=Object.keys(dq),wd="NaN";function uAe(e,t){return e*dq[t]}var ax=function(){function e(t,r){nAe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!oAe.test(r)&&(this.num=NaN,this.unit=""),cAe.includes(r)&&(this.num=uAe(t,r),this.unit="px")}return sAe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=lAe.exec(r))!==null&&n!==void 0?n:[],i=v0(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function hq(e){if(e.includes(wd))return wd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=O$.exec(t))!==null&&r!==void 0?r:[],a=v0(n,4),i=a[1],o=a[2],l=a[3],c=ax.parse(i??""),u=ax.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return wd;t=t.replace(O$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=A$.exec(t))!==null&&h!==void 0?h:[],m=v0(f,4),g=m[1],p=m[2],x=m[3],b=ax.parse(g??""),y=ax.parse(x??""),w=p==="+"?b.add(y):b.subtract(y);if(w.isNaN())return wd;t=t.replace(A$,w.toString())}return t}var I$=/\(([^()]*)\)/;function dAe(e){for(var t=e;t.includes("(");){var r=I$.exec(t),n=v0(r,2),a=n[1];t=t.replace(I$,hq(a))}return t}function hAe(e){var t=e.replace(/\s+/g,"");return t=dAe(t),t=hq(t),t}function fAe(e){try{return hAe(e)}catch{return wd}}function i_(e){var t=fAe(e.slice(5,-1));return t===wd?"":t}var mAe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pAe=["dx","dy","angle","className","breakAll"];function Ok(){return Ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ok.apply(this,arguments)}function M$(e,t){if(e==null)return{};var r=gAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R$(e,t){return bAe(e)||yAe(e,t)||xAe(e,t)||vAe()}function vAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xAe(e,t){if(e){if(typeof e=="string")return $$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $$(e,t)}}function $$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bAe(e){if(Array.isArray(e))return e}var fq=/[ \f\n\r\t\v\u2028\u2029]+/,mq=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];xt(r)||(n?i=r.toString().split(""):i=r.toString().split(fq));var o=i.map(function(c){return{word:c,width:$m(c,a).width}}),l=n?0:$m("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},wAe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=je(o),h=l,f=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce(function(P,R){var O=R.word,T=R.width,D=P[P.length-1];if(D&&(a==null||i||D.width+T+n<Number(a)))D.words.push(O),D.width+=T+n;else{var X={words:[O],width:T};P.push(X)}return P},[])},m=f(r),g=function(E){return E.reduce(function(P,R){return P.width>R.width?P:R})};if(!d)return m;for(var p="",x=function(E){var P=h.slice(0,E),R=mq({breakAll:u,style:c,children:P+p}).wordsWithComputedWidth,O=f(R),T=O.length>o||g(O).width>Number(a);return[T,O]},b=0,y=h.length-1,w=0,N;b<=y&&w<=h.length-1;){var S=Math.floor((b+y)/2),k=S-1,_=x(k),j=R$(_,2),C=j[0],I=j[1],M=x(S),$=R$(M,1),W=$[0];if(!C&&!W&&(b=S+1),C&&W&&(y=S-1),!C&&W){N=I;break}w++}return N||m},D$=function(t){var r=xt(t)?[]:t.toString().split(fq);return[{words:r}]},jAe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Qi.isSsr){var c,u,d=mq({breakAll:o,children:a,style:i});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return D$(a);return wAe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return D$(a)},L$="#808080",x0=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,m=f===void 0?"start":f,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,b=x===void 0?L$:x,y=M$(t,mAe),w=v.useMemo(function(){return jAe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),N=y.dx,S=y.dy,k=y.angle,_=y.className,j=y.breakAll,C=M$(y,pAe);if(!Zr(n)||!Zr(i))return null;var I=n+(je(N)?N:0),M=i+(je(S)?S:0),$;switch(p){case"start":$=i_("calc(".concat(u,")"));break;case"middle":$=i_("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:$=i_("calc(".concat(w.length-1," * -").concat(l,")"));break}var W=[];if(h){var V=w[0].width,E=y.width;W.push("scale(".concat((je(E)?E/V:1)/V,")"))}return k&&W.push("rotate(".concat(k,", ").concat(I,", ").concat(M,")")),W.length&&(C.transform=W.join(" ")),B.createElement("text",Ok({},_t(C,!0),{x:I,y:M,className:Nt("recharts-text",_),textAnchor:m,fill:b.includes("url")?L$:b}),w.map(function(P,R){var O=P.words.join(j?"":" ");return B.createElement("tspan",{x:I,dy:R===0?$:l,key:"".concat(O,"-").concat(R)},O)}))};function vl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _Ae(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nT(e){let t,r,n;e.length!==2?(t=vl,r=(l,c)=>vl(e(l),c),n=(l,c)=>e(l)-c):(t=e===vl||e===_Ae?e:NAe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function NAe(){return 0}function pq(e){return e===null?NaN:+e}function*SAe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const kAe=nT(vl),rv=kAe.right;nT(pq).center;class F$ extends Map{constructor(t,r=EAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(B$(this,t))}has(t){return super.has(B$(this,t))}set(t,r){return super.set(CAe(this,t),r)}delete(t){return super.delete(PAe(this,t))}}function B$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function CAe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function PAe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function EAe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function TAe(e=vl){if(e===vl)return gq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OAe=Math.sqrt(50),AAe=Math.sqrt(10),IAe=Math.sqrt(2);function y0(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=OAe?10:i>=AAe?5:i>=IAe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?y0(e,t,r*2):[l,c,u]}function Ak(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?y0(t,e,r):y0(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Ik(e,t,r){return t=+t,e=+e,r=+r,y0(e,t,r)[2]}function Mk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ik(t,e,r):Ik(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function z$(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function U$(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vq(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?gq:TAe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*h/c+f)),g=Math.min(n,Math.floor(t+(c-u)*h/c+f));vq(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(Gf(e,r,t),a(e[n],i)>0&&Gf(e,r,n);o<l;){for(Gf(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Gf(e,r,l):(++l,Gf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Gf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function MAe(e,t,r){if(e=Float64Array.from(SAe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return U$(e);if(t>=1)return z$(e);var n,a=(n-1)*t,i=Math.floor(a),o=z$(vq(e,i).subarray(0,i+1)),l=U$(e.subarray(i+1));return o+(l-o)*(a-i)}}function RAe(e,t,r=pq){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function $Ae(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function sa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _o(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Rk=Symbol("implicit");function sT(){var e=new F$,t=[],r=[],n=Rk;function a(i){let o=e.get(i);if(o===void 0){if(n!==Rk)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new F$;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return sT(t,r).unknown(n)},sa.apply(a,arguments),a}function zp(){var e=sT().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,m=a<n,g=m?a:n,p=m?n:a;i=(p-g)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(f-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=$Ae(f).map(function(b){return g+i*b});return r(m?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([n,a]=f,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(f){return[n,a]=f,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return zp(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},sa.apply(h(),arguments)}function xq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xq(t())},e}function Dm(){return xq(zp.apply(null,arguments).paddingInner(1))}function aT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yq(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function nv(){}var Up=.7,b0=1/Up,Ld="\\s*([+-]?\\d+)\\s*",Vp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DAe=/^#([0-9a-f]{3,8})$/,LAe=new RegExp(`^rgb\\(${Ld},${Ld},${Ld}\\)$`),FAe=new RegExp(`^rgb\\(${pi},${pi},${pi}\\)$`),BAe=new RegExp(`^rgba\\(${Ld},${Ld},${Ld},${Vp}\\)$`),zAe=new RegExp(`^rgba\\(${pi},${pi},${pi},${Vp}\\)$`),UAe=new RegExp(`^hsl\\(${Vp},${pi},${pi}\\)$`),VAe=new RegExp(`^hsla\\(${Vp},${pi},${pi},${Vp}\\)$`),V$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aT(nv,Wp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:W$,formatHex:W$,formatHex8:WAe,formatHsl:qAe,formatRgb:q$,toString:q$});function W$(){return this.rgb().formatHex()}function WAe(){return this.rgb().formatHex8()}function qAe(){return bq(this).formatHsl()}function q$(){return this.rgb().formatRgb()}function Wp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=DAe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?H$(t):r===3?new ts(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ix(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ix(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=LAe.exec(e))?new ts(t[1],t[2],t[3],1):(t=FAe.exec(e))?new ts(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BAe.exec(e))?ix(t[1],t[2],t[3],t[4]):(t=zAe.exec(e))?ix(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UAe.exec(e))?X$(t[1],t[2]/100,t[3]/100,1):(t=VAe.exec(e))?X$(t[1],t[2]/100,t[3]/100,t[4]):V$.hasOwnProperty(e)?H$(V$[e]):e==="transparent"?new ts(NaN,NaN,NaN,0):null}function H$(e){return new ts(e>>16&255,e>>8&255,e&255,1)}function ix(e,t,r,n){return n<=0&&(e=t=r=NaN),new ts(e,t,r,n)}function HAe(e){return e instanceof nv||(e=Wp(e)),e?(e=e.rgb(),new ts(e.r,e.g,e.b,e.opacity)):new ts}function $k(e,t,r,n){return arguments.length===1?HAe(e):new ts(e,t,r,n??1)}function ts(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}aT(ts,$k,yq(nv,{brighter(e){return e=e==null?b0:Math.pow(b0,e),new ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Up:Math.pow(Up,e),new ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ts(zc(this.r),zc(this.g),zc(this.b),w0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:G$,formatHex:G$,formatHex8:GAe,formatRgb:K$,toString:K$}));function G$(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}`}function GAe(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}${Nc((isNaN(this.opacity)?1:this.opacity)*255)}`}function K$(){const e=w0(this.opacity);return`${e===1?"rgb(":"rgba("}${zc(this.r)}, ${zc(this.g)}, ${zc(this.b)}${e===1?")":`, ${e})`}`}function w0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nc(e){return e=zc(e),(e<16?"0":"")+e.toString(16)}function X$(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pa(e,t,r,n)}function bq(e){if(e instanceof Pa)return new Pa(e.h,e.s,e.l,e.opacity);if(e instanceof nv||(e=Wp(e)),!e)return new Pa;if(e instanceof Pa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Pa(o,l,c,e.opacity)}function KAe(e,t,r,n){return arguments.length===1?bq(e):new Pa(e,t,r,n??1)}function Pa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}aT(Pa,KAe,yq(nv,{brighter(e){return e=e==null?b0:Math.pow(b0,e),new Pa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Up:Math.pow(Up,e),new Pa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ts(o_(e>=240?e-240:e+120,a,n),o_(e,a,n),o_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Pa(Y$(this.h),ox(this.s),ox(this.l),w0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=w0(this.opacity);return`${e===1?"hsl(":"hsla("}${Y$(this.h)}, ${ox(this.s)*100}%, ${ox(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Y$(e){return e=(e||0)%360,e<0?e+360:e}function ox(e){return Math.max(0,Math.min(1,e||0))}function o_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const iT=e=>()=>e;function XAe(e,t){return function(r){return e+r*t}}function YAe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function QAe(e){return(e=+e)==1?wq:function(t,r){return r-t?YAe(t,r,e):iT(isNaN(t)?r:t)}}function wq(e,t){var r=t-e;return r?XAe(e,r):iT(isNaN(e)?t:e)}const Q$=function e(t){var r=QAe(t);function n(a,i){var o=r((a=$k(a)).r,(i=$k(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=wq(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function ZAe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function JAe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function e4e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=bf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function t4e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function j0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function r4e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Dk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l_=new RegExp(Dk.source,"g");function n4e(e){return function(){return e}}function s4e(e){return function(t){return e(t)+""}}function a4e(e,t){var r=Dk.lastIndex=l_.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Dk.exec(e))&&(a=l_.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:j0(n,a)})),r=l_.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?s4e(c[0].x):n4e(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function bf(e,t){var r=typeof t,n;return t==null||r==="boolean"?iT(t):(r==="number"?j0:r==="string"?(n=Wp(t))?(t=n,Q$):a4e:t instanceof Wp?Q$:t instanceof Date?t4e:JAe(t)?ZAe:Array.isArray(t)?e4e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?r4e:j0)(e,t)}function oT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function i4e(e,t){t===void 0&&(t=e,e=bf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function o4e(e){return function(){return e}}function _0(e){return+e}var Z$=[0,1];function Ln(e){return e}function Lk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:o4e(isNaN(t)?NaN:.5)}function l4e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function c4e(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Lk(a,n),i=r(o,i)):(n=Lk(n,a),i=r(i,o)),function(l){return i(n(l))}}function u4e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Lk(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=rv(e,l,1,n)-1;return i[c](a[c](l))}}function sv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Iw(){var e=Z$,t=Z$,r=bf,n,a,i,o=Ln,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==Ln&&(o=l4e(e[0],e[f-1])),l=f>2?u4e:c4e,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return h.invert=function(f){return o(a((u||(u=l(t,e.map(n),j0)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,_0),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),r=oT,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Ln,d()):o!==Ln},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return n=f,a=m,d()}}function lT(){return Iw()(Ln,Ln)}function d4e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function N0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Sh(e){return e=N0(Math.abs(e)),e?e[1]:NaN}function h4e(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function f4e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var m4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qp(e){if(!(t=m4e.exec(e)))throw new Error("invalid format: "+e);var t;return new cT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qp.prototype=cT.prototype;function cT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function p4e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var jq;function g4e(e,t){var r=N0(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(jq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+N0(e,Math.max(0,t+i-1))[0]}function J$(e,t){var r=N0(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const e5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:d4e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>J$(e*100,t),r:J$,s:g4e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function t5(e){return e}var r5=Array.prototype.map,n5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function v4e(e){var t=e.grouping===void 0||e.thousands===void 0?t5:h4e(r5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?t5:f4e(r5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=qp(h);var f=h.fill,m=h.align,g=h.sign,p=h.symbol,x=h.zero,b=h.width,y=h.comma,w=h.precision,N=h.trim,S=h.type;S==="n"?(y=!0,S="g"):e5[S]||(w===void 0&&(w=12),N=!0,S="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var k=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",_=p==="$"?n:/[%p]/.test(S)?o:"",j=e5[S],C=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(M){var $=k,W=_,V,E,P;if(S==="c")W=j(M)+W,M="";else{M=+M;var R=M<0||1/M<0;if(M=isNaN(M)?c:j(Math.abs(M),w),N&&(M=p4e(M)),R&&+M==0&&g!=="+"&&(R=!1),$=(R?g==="("?g:l:g==="-"||g==="("?"":g)+$,W=(S==="s"?n5[8+jq/3]:"")+W+(R&&g==="("?")":""),C){for(V=-1,E=M.length;++V<E;)if(P=M.charCodeAt(V),48>P||P>57){W=(P===46?a+M.slice(V+1):M.slice(V))+W,M=M.slice(0,V);break}}}y&&!x&&(M=t(M,1/0));var O=$.length+M.length+W.length,T=O<b?new Array(b-O+1).join(f):"";switch(y&&x&&(M=t(T+M,T.length?b-W.length:1/0),T=""),m){case"<":M=$+M+W+T;break;case"=":M=$+T+M+W;break;case"^":M=T.slice(0,O=T.length>>1)+$+M+W+T.slice(O);break;default:M=T+$+M+W;break}return i(M)}return I.toString=function(){return h+""},I}function d(h,f){var m=u((h=qp(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Sh(f)/3)))*3,p=Math.pow(10,-g),x=n5[8+g/3];return function(b){return m(p*b)+x}}return{format:u,formatPrefix:d}}var lx,uT,_q;x4e({thousands:",",grouping:[3],currency:["$",""]});function x4e(e){return lx=v4e(e),uT=lx.format,_q=lx.formatPrefix,lx}function y4e(e){return Math.max(0,-Sh(Math.abs(e)))}function b4e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sh(t)/3)))*3-Sh(Math.abs(e)))}function w4e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sh(t)-Sh(e))+1}function Nq(e,t,r,n){var a=Mk(e,t,r),i;switch(n=qp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=b4e(a,o))&&(n.precision=i),_q(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=w4e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=y4e(a))&&(n.precision=i-(n.type==="%")*2);break}}return uT(n)}function Xl(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ak(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Nq(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Ik(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function S0(){var e=lT();return e.copy=function(){return sv(e,S0())},sa.apply(e,arguments),Xl(e)}function Sq(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Sq(e).unknown(t)},e=arguments.length?Array.from(e,_0):[0,1],Xl(r)}function kq(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function s5(e){return Math.log(e)}function a5(e){return Math.exp(e)}function j4e(e){return-Math.log(-e)}function _4e(e){return-Math.exp(-e)}function N4e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function S4e(e){return e===10?N4e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function k4e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function i5(e){return(t,r)=>-e(-t,r)}function dT(e){const t=e(s5,a5),r=t.domain;let n=10,a,i;function o(){return a=k4e(n),i=S4e(n),r()[0]<0?(a=i5(a),i=i5(i),e(j4e,_4e)):e(s5,a5),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=a(u),m=a(d),g,p;const x=l==null?10:+l;let b=[];if(!(n%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(g=1;g<n;++g)if(p=f<0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;b.push(p)}}else for(;f<=m;++f)for(g=n-1;g>=1;--g)if(p=f>0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;b.push(p)}b.length*2<x&&(b=Ak(u,d,x))}else b=Ak(f,m,Math.min(m-f,x)).map(i);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qp(c)).precision==null&&(c.trim=!0),c=uT(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},t.nice=()=>r(kq(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Cq(){const e=dT(Iw()).domain([1,10]);return e.copy=()=>sv(e,Cq()).base(e.base()),sa.apply(e,arguments),e}function o5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function l5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hT(e){var t=1,r=e(o5(t),l5(t));return r.constant=function(n){return arguments.length?e(o5(t=+n),l5(t)):t},Xl(r)}function Pq(){var e=hT(Iw());return e.copy=function(){return sv(e,Pq()).constant(e.constant())},sa.apply(e,arguments)}function c5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function C4e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function P4e(e){return e<0?-e*e:e*e}function fT(e){var t=e(Ln,Ln),r=1;function n(){return r===1?e(Ln,Ln):r===.5?e(C4e,P4e):e(c5(r),c5(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Xl(t)}function mT(){var e=fT(Iw());return e.copy=function(){return sv(e,mT()).exponent(e.exponent())},sa.apply(e,arguments),e}function E4e(){return mT.apply(null,arguments).exponent(.5)}function u5(e){return Math.sign(e)*e*e}function T4e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Eq(){var e=lT(),t=[0,1],r=!1,n;function a(i){var o=T4e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(u5(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,_0)).map(u5)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Eq(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},sa.apply(a,arguments),Xl(a)}function Tq(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=RAe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[rv(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(vl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Tq().domain(e).range(t).unknown(n)},sa.apply(i,arguments)}function Oq(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[rv(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Oq().domain([e,t]).range(a).unknown(i)},sa.apply(Xl(o),arguments)}function Aq(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[rv(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Aq().domain(e).range(t).unknown(r)},sa.apply(a,arguments)}const c_=new Date,u_=new Date;function tn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>tn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(c_.setTime(+i),u_.setTime(+o),e(c_),e(u_),Math.floor(r(c_,u_))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const k0=tn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);k0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):k0);k0.range;const Ui=1e3,Hs=Ui*60,Vi=Hs*60,po=Vi*24,pT=po*7,d5=po*30,d_=po*365,Sc=tn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getUTCSeconds());Sc.range;const gT=tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ui)},(e,t)=>{e.setTime(+e+t*Hs)},(e,t)=>(t-e)/Hs,e=>e.getMinutes());gT.range;const vT=tn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hs)},(e,t)=>(t-e)/Hs,e=>e.getUTCMinutes());vT.range;const xT=tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ui-e.getMinutes()*Hs)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getHours());xT.range;const yT=tn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getUTCHours());yT.range;const av=tn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hs)/po,e=>e.getDate()-1);av.range;const Mw=tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/po,e=>e.getUTCDate()-1);Mw.range;const Iq=tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/po,e=>Math.floor(e/po));Iq.range;function ku(e){return tn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hs)/pT)}const Rw=ku(0),C0=ku(1),O4e=ku(2),A4e=ku(3),kh=ku(4),I4e=ku(5),M4e=ku(6);Rw.range;C0.range;O4e.range;A4e.range;kh.range;I4e.range;M4e.range;function Cu(e){return tn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/pT)}const $w=Cu(0),P0=Cu(1),R4e=Cu(2),$4e=Cu(3),Ch=Cu(4),D4e=Cu(5),L4e=Cu(6);$w.range;P0.range;R4e.range;$4e.range;Ch.range;D4e.range;L4e.range;const bT=tn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bT.range;const wT=tn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());wT.range;const go=tn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());go.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});go.range;const vo=tn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});vo.range;function Mq(e,t,r,n,a,i){const o=[[Sc,1,Ui],[Sc,5,5*Ui],[Sc,15,15*Ui],[Sc,30,30*Ui],[i,1,Hs],[i,5,5*Hs],[i,15,15*Hs],[i,30,30*Hs],[a,1,Vi],[a,3,3*Vi],[a,6,6*Vi],[a,12,12*Vi],[n,1,po],[n,2,2*po],[r,1,pT],[t,1,d5],[t,3,3*d5],[e,1,d_]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),g=m?m.range(u,+d+1):[];return f?g.reverse():g}function c(u,d,h){const f=Math.abs(d-u)/h,m=nT(([,,x])=>x).right(o,f);if(m===o.length)return e.every(Mk(u/d_,d/d_,h));if(m===0)return k0.every(Math.max(Mk(u,d,h),1));const[g,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return g.every(p)}return[l,c]}const[F4e,B4e]=Mq(vo,wT,$w,Iq,yT,vT),[z4e,U4e]=Mq(go,bT,Rw,av,xT,gT);function h_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function f_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function V4e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Xf(a),d=Yf(a),h=Xf(i),f=Yf(i),m=Xf(o),g=Yf(o),p=Xf(l),x=Yf(l),b=Xf(c),y=Yf(c),w={a:R,A:O,b:T,B:D,c:null,d:v5,e:v5,f:hIe,g:jIe,G:NIe,H:cIe,I:uIe,j:dIe,L:Rq,m:fIe,M:mIe,p:X,q:A,Q:b5,s:w5,S:pIe,u:gIe,U:vIe,V:xIe,w:yIe,W:bIe,x:null,X:null,y:wIe,Y:_Ie,Z:SIe,"%":y5},N={a:q,A:L,b:J,B:le,c:null,d:x5,e:x5,f:EIe,g:FIe,G:zIe,H:kIe,I:CIe,j:PIe,L:Dq,m:TIe,M:OIe,p:H,q:re,Q:b5,s:w5,S:AIe,u:IIe,U:MIe,V:RIe,w:$Ie,W:DIe,x:null,X:null,y:LIe,Y:BIe,Z:UIe,"%":y5},S={a:I,A:M,b:$,B:W,c:V,d:p5,e:p5,f:aIe,g:m5,G:f5,H:g5,I:g5,j:tIe,L:sIe,m:eIe,M:rIe,p:C,q:J4e,Q:oIe,s:lIe,S:nIe,u:K4e,U:X4e,V:Y4e,w:G4e,W:Q4e,x:E,X:P,y:m5,Y:f5,Z:Z4e,"%":iIe};w.x=k(r,w),w.X=k(n,w),w.c=k(t,w),N.x=k(r,N),N.X=k(n,N),N.c=k(t,N);function k(te,ie){return function(ee){var K=[],he=-1,ue=0,be=te.length,Me,Se,tt;for(ee instanceof Date||(ee=new Date(+ee));++he<be;)te.charCodeAt(he)===37&&(K.push(te.slice(ue,he)),(Se=h5[Me=te.charAt(++he)])!=null?Me=te.charAt(++he):Se=Me==="e"?" ":"0",(tt=ie[Me])&&(Me=tt(ee,Se)),K.push(Me),ue=he+1);return K.push(te.slice(ue,he)),K.join("")}}function _(te,ie){return function(ee){var K=Kf(1900,void 0,1),he=j(K,te,ee+="",0),ue,be;if(he!=ee.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ie&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ue=f_(Kf(K.y,0,1)),be=ue.getUTCDay(),ue=be>4||be===0?P0.ceil(ue):P0(ue),ue=Mw.offset(ue,(K.V-1)*7),K.y=ue.getUTCFullYear(),K.m=ue.getUTCMonth(),K.d=ue.getUTCDate()+(K.w+6)%7):(ue=h_(Kf(K.y,0,1)),be=ue.getDay(),ue=be>4||be===0?C0.ceil(ue):C0(ue),ue=av.offset(ue,(K.V-1)*7),K.y=ue.getFullYear(),K.m=ue.getMonth(),K.d=ue.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),be="Z"in K?f_(Kf(K.y,0,1)).getUTCDay():h_(Kf(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(be+5)%7:K.w+K.U*7-(be+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,f_(K)):h_(K)}}function j(te,ie,ee,K){for(var he=0,ue=ie.length,be=ee.length,Me,Se;he<ue;){if(K>=be)return-1;if(Me=ie.charCodeAt(he++),Me===37){if(Me=ie.charAt(he++),Se=S[Me in h5?ie.charAt(he++):Me],!Se||(K=Se(te,ee,K))<0)return-1}else if(Me!=ee.charCodeAt(K++))return-1}return K}function C(te,ie,ee){var K=u.exec(ie.slice(ee));return K?(te.p=d.get(K[0].toLowerCase()),ee+K[0].length):-1}function I(te,ie,ee){var K=m.exec(ie.slice(ee));return K?(te.w=g.get(K[0].toLowerCase()),ee+K[0].length):-1}function M(te,ie,ee){var K=h.exec(ie.slice(ee));return K?(te.w=f.get(K[0].toLowerCase()),ee+K[0].length):-1}function $(te,ie,ee){var K=b.exec(ie.slice(ee));return K?(te.m=y.get(K[0].toLowerCase()),ee+K[0].length):-1}function W(te,ie,ee){var K=p.exec(ie.slice(ee));return K?(te.m=x.get(K[0].toLowerCase()),ee+K[0].length):-1}function V(te,ie,ee){return j(te,t,ie,ee)}function E(te,ie,ee){return j(te,r,ie,ee)}function P(te,ie,ee){return j(te,n,ie,ee)}function R(te){return o[te.getDay()]}function O(te){return i[te.getDay()]}function T(te){return c[te.getMonth()]}function D(te){return l[te.getMonth()]}function X(te){return a[+(te.getHours()>=12)]}function A(te){return 1+~~(te.getMonth()/3)}function q(te){return o[te.getUTCDay()]}function L(te){return i[te.getUTCDay()]}function J(te){return c[te.getUTCMonth()]}function le(te){return l[te.getUTCMonth()]}function H(te){return a[+(te.getUTCHours()>=12)]}function re(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ie=k(te+="",w);return ie.toString=function(){return te},ie},parse:function(te){var ie=_(te+="",!1);return ie.toString=function(){return te},ie},utcFormat:function(te){var ie=k(te+="",N);return ie.toString=function(){return te},ie},utcParse:function(te){var ie=_(te+="",!0);return ie.toString=function(){return te},ie}}}var h5={"-":"",_:" ",0:"0"},cn=/^\s*\d+/,W4e=/^%/,q4e=/[\\^$*+?|[\]().{}]/g;function Ot(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function H4e(e){return e.replace(q4e,"\\$&")}function Xf(e){return new RegExp("^(?:"+e.map(H4e).join("|")+")","i")}function Yf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function G4e(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function K4e(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function X4e(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Y4e(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Q4e(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function f5(e,t,r){var n=cn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function m5(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Z4e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function J4e(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function eIe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function p5(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function tIe(e,t,r){var n=cn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function g5(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function rIe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function nIe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function sIe(e,t,r){var n=cn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function aIe(e,t,r){var n=cn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function iIe(e,t,r){var n=W4e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function oIe(e,t,r){var n=cn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function lIe(e,t,r){var n=cn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function v5(e,t){return Ot(e.getDate(),t,2)}function cIe(e,t){return Ot(e.getHours(),t,2)}function uIe(e,t){return Ot(e.getHours()%12||12,t,2)}function dIe(e,t){return Ot(1+av.count(go(e),e),t,3)}function Rq(e,t){return Ot(e.getMilliseconds(),t,3)}function hIe(e,t){return Rq(e,t)+"000"}function fIe(e,t){return Ot(e.getMonth()+1,t,2)}function mIe(e,t){return Ot(e.getMinutes(),t,2)}function pIe(e,t){return Ot(e.getSeconds(),t,2)}function gIe(e){var t=e.getDay();return t===0?7:t}function vIe(e,t){return Ot(Rw.count(go(e)-1,e),t,2)}function $q(e){var t=e.getDay();return t>=4||t===0?kh(e):kh.ceil(e)}function xIe(e,t){return e=$q(e),Ot(kh.count(go(e),e)+(go(e).getDay()===4),t,2)}function yIe(e){return e.getDay()}function bIe(e,t){return Ot(C0.count(go(e)-1,e),t,2)}function wIe(e,t){return Ot(e.getFullYear()%100,t,2)}function jIe(e,t){return e=$q(e),Ot(e.getFullYear()%100,t,2)}function _Ie(e,t){return Ot(e.getFullYear()%1e4,t,4)}function NIe(e,t){var r=e.getDay();return e=r>=4||r===0?kh(e):kh.ceil(e),Ot(e.getFullYear()%1e4,t,4)}function SIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ot(t/60|0,"0",2)+Ot(t%60,"0",2)}function x5(e,t){return Ot(e.getUTCDate(),t,2)}function kIe(e,t){return Ot(e.getUTCHours(),t,2)}function CIe(e,t){return Ot(e.getUTCHours()%12||12,t,2)}function PIe(e,t){return Ot(1+Mw.count(vo(e),e),t,3)}function Dq(e,t){return Ot(e.getUTCMilliseconds(),t,3)}function EIe(e,t){return Dq(e,t)+"000"}function TIe(e,t){return Ot(e.getUTCMonth()+1,t,2)}function OIe(e,t){return Ot(e.getUTCMinutes(),t,2)}function AIe(e,t){return Ot(e.getUTCSeconds(),t,2)}function IIe(e){var t=e.getUTCDay();return t===0?7:t}function MIe(e,t){return Ot($w.count(vo(e)-1,e),t,2)}function Lq(e){var t=e.getUTCDay();return t>=4||t===0?Ch(e):Ch.ceil(e)}function RIe(e,t){return e=Lq(e),Ot(Ch.count(vo(e),e)+(vo(e).getUTCDay()===4),t,2)}function $Ie(e){return e.getUTCDay()}function DIe(e,t){return Ot(P0.count(vo(e)-1,e),t,2)}function LIe(e,t){return Ot(e.getUTCFullYear()%100,t,2)}function FIe(e,t){return e=Lq(e),Ot(e.getUTCFullYear()%100,t,2)}function BIe(e,t){return Ot(e.getUTCFullYear()%1e4,t,4)}function zIe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ch(e):Ch.ceil(e),Ot(e.getUTCFullYear()%1e4,t,4)}function UIe(){return"+0000"}function y5(){return"%"}function b5(e){return+e}function w5(e){return Math.floor(+e/1e3)}var qu,Fq,Bq;VIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VIe(e){return qu=V4e(e),Fq=qu.format,qu.parse,Bq=qu.utcFormat,qu.utcParse,qu}function WIe(e){return new Date(e)}function qIe(e){return e instanceof Date?+e:+new Date(+e)}function jT(e,t,r,n,a,i,o,l,c,u){var d=lT(),h=d.invert,f=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),N=u("%Y");function S(k){return(c(k)<k?m:l(k)<k?g:o(k)<k?p:i(k)<k?x:n(k)<k?a(k)<k?b:y:r(k)<k?w:N)(k)}return d.invert=function(k){return new Date(h(k))},d.domain=function(k){return arguments.length?f(Array.from(k,qIe)):f().map(WIe)},d.ticks=function(k){var _=f();return e(_[0],_[_.length-1],k??10)},d.tickFormat=function(k,_){return _==null?S:u(_)},d.nice=function(k){var _=f();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?f(kq(_,k)):d},d.copy=function(){return sv(d,jT(e,t,r,n,a,i,o,l,c,u))},d}function HIe(){return sa.apply(jT(z4e,U4e,go,bT,Rw,av,xT,gT,Sc,Fq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GIe(){return sa.apply(jT(F4e,B4e,vo,wT,$w,Mw,yT,vT,Sc,Bq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dw(){var e=0,t=1,r,n,a,i,o=Ln,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,g;return arguments.length?([m,g]=f,o=h(m,g),u):[o(0),o(1)]}}return u.range=d(bf),u.rangeRound=d(oT),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),u}}function Yl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zq(){var e=Xl(Dw()(Ln));return e.copy=function(){return Yl(e,zq())},_o.apply(e,arguments)}function Uq(){var e=dT(Dw()).domain([1,10]);return e.copy=function(){return Yl(e,Uq()).base(e.base())},_o.apply(e,arguments)}function Vq(){var e=hT(Dw());return e.copy=function(){return Yl(e,Vq()).constant(e.constant())},_o.apply(e,arguments)}function _T(){var e=fT(Dw());return e.copy=function(){return Yl(e,_T()).exponent(e.exponent())},_o.apply(e,arguments)}function KIe(){return _T.apply(null,arguments).exponent(.5)}function Wq(){var e=[],t=Ln;function r(n){if(n!=null&&!isNaN(n=+n))return t((rv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(vl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>MAe(e,i/n))},r.copy=function(){return Wq(t).domain(e)},_o.apply(r,arguments)}function Lw(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Ln,d,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(x){var b,y,w;return arguments.length?([b,y,w]=x,u=i4e(p,[b,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(bf),m.rangeRound=g(oT),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function qq(){var e=Xl(Lw()(Ln));return e.copy=function(){return Yl(e,qq())},_o.apply(e,arguments)}function Hq(){var e=dT(Lw()).domain([.1,1,10]);return e.copy=function(){return Yl(e,Hq()).base(e.base())},_o.apply(e,arguments)}function Gq(){var e=hT(Lw());return e.copy=function(){return Yl(e,Gq()).constant(e.constant())},_o.apply(e,arguments)}function NT(){var e=fT(Lw());return e.copy=function(){return Yl(e,NT()).exponent(e.exponent())},_o.apply(e,arguments)}function XIe(){return NT.apply(null,arguments).exponent(.5)}const j5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zp,scaleDiverging:qq,scaleDivergingLog:Hq,scaleDivergingPow:NT,scaleDivergingSqrt:XIe,scaleDivergingSymlog:Gq,scaleIdentity:Sq,scaleImplicit:Rk,scaleLinear:S0,scaleLog:Cq,scaleOrdinal:sT,scalePoint:Dm,scalePow:mT,scaleQuantile:Tq,scaleQuantize:Oq,scaleRadial:Eq,scaleSequential:zq,scaleSequentialLog:Uq,scaleSequentialPow:_T,scaleSequentialQuantile:Wq,scaleSequentialSqrt:KIe,scaleSequentialSymlog:Vq,scaleSqrt:E4e,scaleSymlog:Pq,scaleThreshold:Aq,scaleTime:HIe,scaleUtc:GIe,tickFormat:Nq},Symbol.toStringTag,{value:"Module"}));var YIe=hf;function QIe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!YIe(o):r(o,l)))var l=o,c=i}return c}var Kq=QIe;function ZIe(e,t){return e>t}var JIe=ZIe,eMe=Kq,tMe=JIe,rMe=yf;function nMe(e){return e&&e.length?eMe(e,rMe,tMe):void 0}var sMe=nMe;const Fw=Bt(sMe);function aMe(e,t){return e<t}var iMe=aMe,oMe=Kq,lMe=iMe,cMe=yf;function uMe(e){return e&&e.length?oMe(e,cMe,lMe):void 0}var dMe=uMe;const Bw=Bt(dMe);var hMe=LE,fMe=Kl,mMe=rq,pMe=os;function gMe(e,t){var r=pMe(e)?hMe:mMe;return r(e,fMe(t))}var vMe=gMe,xMe=eq,yMe=vMe;function bMe(e,t){return xMe(yMe(e,t),1)}var wMe=bMe;const jMe=Bt(wMe);var _Me=JE;function NMe(e,t){return _Me(e,t)}var SMe=NMe;const zw=Bt(SMe);var wf=1e9,kMe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kT,pr=!0,ta="[DecimalError] ",Uc=ta+"Invalid argument: ",ST=ta+"Exponent out of range: ",jf=Math.floor,hc=Math.pow,CMe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ys,nn=1e7,lr=7,Xq=9007199254740991,E0=jf(Xq/lr),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*lr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};$e.dividedBy=$e.div=function(e){return Zi(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,r=t.constructor;return Gt(Zi(t,new r(e),0,1),r.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Wr(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ys))throw Error(ta+"NaN");if(r.s<1)throw Error(ta+(r.s?"NaN":"-Infinity"));return r.eq(ys)?new n(0):(pr=!1,t=Zi(Hp(r,i),Hp(e,i),i),pr=!0,Gt(t,a))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zq(t,e):Yq(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ta+"NaN");return r.s?(pr=!1,t=Zi(r,e,0,1).times(e),pr=!0,r.minus(t)):Gt(new n(r),a)};$e.naturalExponential=$e.exp=function(){return Qq(this)};$e.naturalLogarithm=$e.ln=function(){return Hp(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Yq(t,e):Zq(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Uc+e);if(t=Wr(a)+1,n=a.d.length-1,r=n*lr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};$e.squareRoot=$e.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ta+"NaN")}for(e=Wr(l),pr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=oi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=jf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Zi(l,i,o+2)).times(.5),oi(i.d).slice(0,o)===(t=oi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Gt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return pr=!0,Gt(n,r)};$e.times=$e.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*f[a-n-1]+t,i[a--]=l%nn|0,t=l/nn|0;i[a]=(i[a]+t)%nn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,pr?Gt(e,h.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(_i(e,0,wf),t===void 0?t=n.rounding:_i(t,0,8),Gt(r,e+Wr(r)+1,t))};$e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=vu(n,!0):(_i(e,0,wf),t===void 0?t=a.rounding:_i(t,0,8),n=Gt(new a(n),e+1,t),r=vu(n,!0,e+1)),r};$e.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?vu(a):(_i(e,0,wf),t===void 0?t=i.rounding:_i(t,0,8),n=Gt(new i(a),e+Wr(a)+1,t),r=vu(n.abs(),!1,e+Wr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),Wr(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ys);if(l=new c(l),!l.s){if(e.s<1)throw Error(ta+"Infinity");return l}if(l.eq(ys))return l;if(n=c.precision,e.eq(ys))return Gt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=Xq){for(a=new c(ys),t=Math.ceil(n/lr+4),pr=!1;r%2&&(a=a.times(l),N5(a.d,t)),r=jf(r/2),r!==0;)l=l.times(l),N5(l.d,t);return pr=!0,e.s<0?new c(ys).div(a):Gt(a,n)}}else if(i<0)throw Error(ta+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,pr=!1,a=e.times(Hp(l,n+u)),pr=!0,a=Qq(a),a.s=i,a};$e.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Wr(a),n=vu(a,r<=i.toExpNeg||r>=i.toExpPos)):(_i(e,1,wf),t===void 0?t=i.rounding:_i(t,0,8),a=Gt(new i(a),e,t),r=Wr(a),n=vu(a,e<=r||r<=i.toExpNeg,e)),n};$e.toSignificantDigits=$e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(_i(e,1,wf),t===void 0?t=n.rounding:_i(t,0,8)),Gt(new n(r),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wr(e),r=e.constructor;return vu(e,t<=r.toExpNeg||t>=r.toExpPos)};function Yq(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),pr?Gt(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(h/lr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/nn|0,c[i]%=nn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,pr?Gt(t,h):t}function _i(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Uc+e)}function oi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=lr-n.length,r&&(i+=Lo(r)),i+=n;o=e[t],n=o+"",r=lr-n.length,r&&(i+=Lo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Zi=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%nn|0,o=i/nn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*nn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,h,f,m,g,p,x,b,y,w,N,S,k,_,j,C=n.constructor,I=n.s==a.s?1:-1,M=n.d,$=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(ta+"Division by zero");for(c=n.e-a.e,_=$.length,S=M.length,m=new C(I),g=m.d=[],u=0;$[u]==(M[u]||0);)++u;if($[u]>(M[u]||0)&&--c,i==null?y=i=C.precision:o?y=i+(Wr(n)-Wr(a))+1:y=i,y<0)return new C(0);if(y=y/lr+2|0,u=0,_==1)for(d=0,$=$[0],y++;(u<S||d)&&y--;u++)w=d*nn+(M[u]||0),g[u]=w/$|0,d=w%$|0;else{for(d=nn/($[0]+1)|0,d>1&&($=e($,d),M=e(M,d),_=$.length,S=M.length),N=_,p=M.slice(0,_),x=p.length;x<_;)p[x++]=0;j=$.slice(),j.unshift(0),k=$[0],$[1]>=nn/2&&++k;do d=0,l=t($,p,_,x),l<0?(b=p[0],_!=x&&(b=b*nn+(p[1]||0)),d=b/k|0,d>1?(d>=nn&&(d=nn-1),h=e($,d),f=h.length,x=p.length,l=t(h,p,f,x),l==1&&(d--,r(h,_<f?j:$,f))):(d==0&&(l=d=1),h=$.slice()),f=h.length,f<x&&h.unshift(0),r(p,h,x),l==-1&&(x=p.length,l=t($,p,_,x),l<1&&(d++,r(p,_<x?j:$,x))),x=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[x++]=M[N]||0:(p=[M[N]],x=1);while((N++<S||p[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,Gt(m,o?i+Wr(m)+1:i)}}();function Qq(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(Wr(e)>16)throw Error(ST+Wr(e));if(!e.s)return new d(ys);for(t==null?(pr=!1,l=h):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(hc(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ys),d.precision=l;;){if(a=Gt(a.times(e),l),r=r.times(++c),o=i.plus(Zi(a,r,l)),oi(o.d).slice(0,l)===oi(i.d).slice(0,l)){for(;u--;)i=Gt(i.times(i),l);return d.precision=h,t==null?(pr=!0,Gt(i,h)):i}i=o}}function Wr(e){for(var t=e.e*lr,r=e.d[0];r>=10;r/=10)t++;return t}function m_(e,t,r){if(t>e.LN10.sd())throw pr=!0,r&&(e.precision=r),Error(ta+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function Lo(e){for(var t="";e--;)t+="0";return t}function Hp(e,t){var r,n,a,i,o,l,c,u,d,h=1,f=10,m=e,g=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(ta+(m.s?"NaN":"-Infinity"));if(m.eq(ys))return new p(0);if(t==null?(pr=!1,u=x):u=t,m.eq(10))return t==null&&(pr=!0),m_(p,u);if(u+=f,p.precision=u,r=oi(g),n=r.charAt(0),i=Wr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=oi(m.d),n=r.charAt(0),h++;i=Wr(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=m_(p,u+2,x).times(i+""),m=Hp(new p(n+"."+r.slice(1)),u-f).plus(c),p.precision=x,t==null?(pr=!0,Gt(m,x)):m;for(l=o=m=Zi(m.minus(ys),m.plus(ys),u),d=Gt(m.times(m),u),a=3;;){if(o=Gt(o.times(d),u),c=l.plus(Zi(o,new p(a),u)),oi(c.d).slice(0,u)===oi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(m_(p,u+2,x).times(i+""))),l=Zi(l,new p(h),u),p.precision=x,t==null?(pr=!0,Gt(l,x)):l;l=c,a+=2}}function _5(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=jf(r/lr),e.d=[],n=(r+1)%lr,r<0&&(n+=lr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=lr;n<a;)e.d.push(+t.slice(n,n+=lr));t=t.slice(n),n=lr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),pr&&(e.e>E0||e.e<-E0))throw Error(ST+r)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,r){var n,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=lr,a=t,u=h[d=0];else{if(d=Math.ceil((n+1)/lr),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;n%=lr,a=n-lr+o}if(r!==void 0&&(i=hc(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/hc(10,o-a):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=Wr(e),h.length=1,t=t-i-1,h[0]=hc(10,(lr-t%lr)%lr),e.e=jf(-t/lr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,i=1,d--):(h.length=d+1,i=hc(10,lr-n),h[d]=a>0?(u/hc(10,o-a)%hc(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==nn&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=nn)break;h[d--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(pr&&(e.e>E0||e.e<-E0))throw Error(ST+Wr(e));return e}function Zq(e,t){var r,n,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),pr?Gt(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),a=Math.max(Math.ceil(m/lr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=nn-1;--c[i],c[a]+=nn}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,pr?Gt(t,m):t):new f(0)}function vu(e,t,r){var n,a=Wr(e),i=oi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Lo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Lo(-a-1)+i,r&&(n=r-o)>0&&(i+=Lo(n))):a>=o?(i+=Lo(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Lo(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Lo(n))),e.s<0?"-"+i:i}function N5(e,t){if(e.length>t)return e.length=t,!0}function Jq(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Uc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return _5(o,i.toString())}else if(typeof i!="string")throw Error(Uc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,CMe.test(i))_5(o,i);else throw Error(Uc+i)}if(a.prototype=$e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Jq,a.config=a.set=PMe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function PMe(e){if(!e||typeof e!="object")throw Error(ta+"Object expected");var t,r,n,a=["precision",1,wf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(jf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Uc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Uc+r+": "+n);return this}var kT=Jq(kMe);ys=new kT(1);const Ut=kT;function EMe(e){return IMe(e)||AMe(e)||OMe(e)||TMe()}function TMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OMe(e,t){if(e){if(typeof e=="string")return Fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fk(e,t)}}function AMe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function IMe(e){if(Array.isArray(e))return Fk(e)}function Fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MMe=function(t){return t},eH={"@@functional/placeholder":!0},tH=function(t){return t===eH},S5=function(t){return function r(){return arguments.length===0||arguments.length===1&&tH(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},RMe=function e(t,r){return t===1?r:S5(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==eH}).length;return o>=t?r.apply(void 0,a):e(t-o,S5(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(h){return tH(h)?c.shift():h});return r.apply(void 0,EMe(d).concat(c))}))})},Uw=function(t){return RMe(t.length,t)},Bk=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},$Me=Uw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),DMe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return MMe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},zk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},rH=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function LMe(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function FMe(e,t,r){for(var n=new Ut(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var BMe=Uw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),zMe=Uw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),UMe=Uw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Vw={rangeStep:FMe,getDigitCount:LMe,interpolateNumber:BMe,uninterpolateNumber:zMe,uninterpolateTruncation:UMe};function Uk(e){return qMe(e)||WMe(e)||nH(e)||VMe()}function VMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WMe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qMe(e){if(Array.isArray(e))return Vk(e)}function Gp(e,t){return KMe(e)||GMe(e,t)||nH(e,t)||HMe()}function HMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nH(e,t){if(e){if(typeof e=="string")return Vk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vk(e,t)}}function Vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GMe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function KMe(e){if(Array.isArray(e))return e}function sH(e){var t=Gp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function aH(e,t,r){if(e.lte(0))return new Ut(0);var n=Vw.getDigitCount(e.toNumber()),a=new Ut(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Ut(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Ut(Math.ceil(c))}function XMe(e,t,r){var n=1,a=new Ut(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ut(10).pow(Vw.getDigitCount(e)-1),a=new Ut(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ut(Math.floor(e)))}else e===0?a=new Ut(Math.floor((t-1)/2)):r||(a=new Ut(Math.floor(e)));var o=Math.floor((t-1)/2),l=DMe($Me(function(c){return a.add(new Ut(c-o).mul(n)).toNumber()}),Bk);return l(0,t)}function iH(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var i=aH(new Ut(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Ut(0):(o=new Ut(e).add(t).div(2),o=o.sub(new Ut(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ut(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?iH(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ut(l).mul(i)),tickMax:o.add(new Ut(c).mul(i))})}function YMe(e){var t=Gp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=sH([r,n]),c=Gp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(Uk(Bk(0,a-1).map(function(){return 1/0}))):[].concat(Uk(Bk(0,a-1).map(function(){return-1/0})),[d]);return r>n?zk(h):h}if(u===d)return XMe(u,a,i);var f=iH(u,d,o,i),m=f.step,g=f.tickMin,p=f.tickMax,x=Vw.rangeStep(g,p.add(new Ut(.1).mul(m)),m);return r>n?zk(x):x}function QMe(e,t){var r=Gp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=sH([n,a]),l=Gp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),h=aH(new Ut(u).sub(c).div(d-1),i,0),f=[].concat(Uk(Vw.rangeStep(new Ut(c),new Ut(u).sub(new Ut(.99).mul(h)),h)),[u]);return n>a?zk(f):f}var ZMe=rH(YMe),JMe=rH(QMe),eRe="Invariant failed";function xu(e,t){throw new Error(eRe)}var tRe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}function rRe(e,t){return iRe(e)||aRe(e,t)||sRe(e,t)||nRe()}function nRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sRe(e,t){if(e){if(typeof e=="string")return k5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k5(e,t)}}function k5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iRe(e){if(Array.isArray(e))return e}function oRe(e,t){if(e==null)return{};var r=lRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cH(n.key),n)}}function dRe(e,t,r){return t&&uRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hRe(e,t,r){return t=O0(t),fRe(e,oH()?Reflect.construct(t,r||[],O0(e).constructor):t.apply(e,r))}function fRe(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mRe(e)}function mRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oH=function(){return!!e})()}function O0(e){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O0(e)}function pRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wk(e,t)}function Wk(e,t){return Wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wk(e,t)}function lH(e,t,r){return t=cH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cH(e){var t=gRe(e,"string");return Ph(t)=="symbol"?t:t+""}function gRe(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iv=function(e){function t(){return cRe(this,t),hRe(this,t,arguments)}return pRe(t,e),dRe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=oRe(n,tRe),m=_t(f,!1);this.props.direction==="x"&&d.type!=="number"&&xu();var g=c.map(function(p){var x=u(p,l),b=x.x,y=x.y,w=x.value,N=x.errorVal;if(!N)return null;var S=[],k,_;if(Array.isArray(N)){var j=rRe(N,2);k=j[0],_=j[1]}else k=_=N;if(i==="vertical"){var C=d.scale,I=y+a,M=I+o,$=I-o,W=C(w-k),V=C(w+_);S.push({x1:V,y1:M,x2:V,y2:$}),S.push({x1:W,y1:I,x2:V,y2:I}),S.push({x1:W,y1:M,x2:W,y2:$})}else if(i==="horizontal"){var E=h.scale,P=b+a,R=P-o,O=P+o,T=E(w-k),D=E(w+_);S.push({x1:R,y1:D,x2:O,y2:D}),S.push({x1:P,y1:T,x2:P,y2:D}),S.push({x1:R,y1:T,x2:O,y2:T})}return B.createElement(Ir,T0({className:"recharts-errorBar",key:"bar-".concat(S.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},m),S.map(function(X){return B.createElement("line",T0({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return B.createElement(Ir,{className:"recharts-errorBars"},g)}}])}(B.Component);lH(iv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lH(iv,"displayName","ErrorBar");function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function C5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(r),!0).forEach(function(n){vRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vRe(e,t,r){return t=xRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xRe(e){var t=yRe(e,"string");return Kp(t)=="symbol"?t:t+""}function yRe(e,t){if(Kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uH=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ms(r,Dd);if(!o)return null;var l=Dd.defaultProps,c=l!==void 0?nc(nc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,m=h.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?nc(nc({},f),h.props):{},g=m.dataKey,p=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:CT(h),value:p||g,payload:m}}),nc(nc(nc({},c),Dd.getWithHeight(o,a)),{},{payload:u,item:o})};function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function P5(e){return _Re(e)||jRe(e)||wRe(e)||bRe()}function bRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wRe(e,t){if(e){if(typeof e=="string")return qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qk(e,t)}}function jRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Re(e){if(Array.isArray(e))return qk(e)}function qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(r),!0).forEach(function(n){Fd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fd(e,t,r){return t=NRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NRe(e){var t=SRe(e,"string");return Xp(t)=="symbol"?t:t+""}function SRe(e,t){if(Xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function As(e,t,r){return xt(e)||xt(t)?r:Zr(t)?Ys(e,t,r):pt(t)?t(e):r}function Lm(e,t,r,n){var a=jMe(e,function(l){return As(l,t)});if(r==="number"){var i=a.filter(function(l){return je(l)||parseFloat(l)});return i.length?[Bw(i),Fw(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!xt(l)}):a;return o.map(function(l){return Zr(l)||l instanceof Date?l:""})}var kRe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,f=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Ea(h-d)!==Ea(f-h)){var g=[];if(Ea(f-h)===Ea(c[1]-c[0])){m=f;var p=h+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var x=f+c[1]-c[0];g[0]=Math.min(h,(x+h)/2),g[1]=Math.max(h,(x+h)/2)}var b=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var y=Math.min(d,f),w=Math.max(d,f);if(t>(y+h)/2&&t<=(w+h)/2){o=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},CT=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Cr(Cr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},CRe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var g=d[h[f]],p=g.items,x=g.cateAxisId,b=p.filter(function(_){return Xi(_.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?Cr(Cr({},y),b[0].props):b[0].props,N=w.barSize,S=w[x];o[S]||(o[S]=[]);var k=xt(N)?r:N;o[S].push({item:b[0],stackList:b.slice(1),barSize:xt(k)?void 0:gu(k,n,0)})}}return o},PRe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=gu(r,a,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=a/c,g=o.reduce(function(N,S){return N+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(f=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(N,S){var k={item:S.item,position:{offset:x.offset+x.size+u,size:f?m:S.barSize}},_=[].concat(P5(N),[k]);return x=_[_.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){_.push({item:j,position:x})}),_},h)}else{var b=gu(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var y=(a-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(N,S,k){var _=[].concat(P5(N),[{item:S.item,position:{offset:b+(y+u)*k+(y-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){_.push({item:j,position:_[_.length-1].position})}),_},h)}return d},ERe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=uH({children:i,legendWidth:c});if(u){var d=a||{},h=d.width,f=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&je(t[m]))return Cr(Cr({},t),{},Fd({},m,t[m]+(h||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&je(t[g]))return Cr(Cr({},t),{},Fd({},g,t[g]+(f||0)))}return t},TRe=function(t,r,n){return xt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},dH=function(t,r,n,a,i){var o=r.props.children,l=Qs(o,iv).filter(function(u){return TRe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=As(d,n);if(xt(h))return u;var f=Array.isArray(h)?[Bw(h),Fw(h)]:[h,h],m=c.reduce(function(g,p){var x=As(d,p,0),b=f[0]-Math.abs(Array.isArray(x)?x[0]:x),y=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},ORe=function(t,r,n,a,i){var o=r.map(function(l){return dH(t,l,n,i,a)}).filter(function(l){return!xt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},hH=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&dH(t,c,u,a)||Lm(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},fH=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},mH=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Wi=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ea(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+u,value:h,offset:u}});return d.filter(function(h){return!Jg(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+u,value:h,index:f,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,f){return{coordinate:a(h)+u,value:i?i[h]:h,index:f,offset:u}})},p_=new WeakMap,cx=function(t,r){if(typeof r!="function")return t;p_.has(t)||p_.set(t,new WeakMap);var n=p_.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},ARe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:zp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:S0(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Dm(),realScaleType:"point"}:i==="category"?{scale:zp(),realScaleType:"band"}:{scale:S0(),realScaleType:"linear"};if(pu(a)){var c="scale".concat(kw(a));return{scale:(j5[c]||Dm)(),realScaleType:j5[c]?c:"point"}}return pt(a)?{scale:a}:{scale:Dm(),realScaleType:"point"}},T5=1e-4,IRe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-T5,o=Math.max(a[0],a[1])+T5,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},MRe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},RRe=function(t,r){if(!r||r.length!==2||!je(r[0])||!je(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!je(t[0])||t[0]<n)&&(i[0]=n),(!je(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},$Re=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Jg(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},DRe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Jg(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},LRe={sign:$Re,expand:Z_e,none:bh,silhouette:J_e,wiggle:eNe,positive:DRe},FRe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=LRe[n],o=Q_e().keys(a).value(function(l,c){return+As(l,c,0)}).order(gk).offset(i);return o(t)},BRe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,f){var m,g=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Cr(Cr({},f.type.defaultProps),f.props):f.props,p=g.stackId,x=g.hide;if(x)return h;var b=g[n],y=h[b]||{hasStack:!1,stackGroups:{}};if(Zr(p)){var w=y.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(f),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[ev("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[f]};return Cr(Cr({},h),{},Fd({},b,y))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var b=m.stackGroups[x];return Cr(Cr({},p),{},Fd({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:FRe(t,b.items,i)}))},g)}return Cr(Cr({},h),{},Fd({},f,m))},d)},zRe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=ZMe(u,i,l);return t.domain([Bw(d),Fw(d)]),{niceTicks:d}}if(i&&a==="number"){var h=t.domain(),f=JMe(h,i,l);return{niceTicks:f}}return null};function O5(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xt(a[t.dataKey])){var l=r0(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=As(a,xt(o)?t.dataKey:o);return xt(c)?null:t.scale(c)}var A5=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=As(o,r.dataKey,r.domain[l]);return xt(c)?null:r.scale(c)-i/2+a},URe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},VRe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Cr(Cr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Zr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},WRe=function(t){return t.reduce(function(r,n){return[Bw(n.concat([r[0]]).filter(je)),Fw(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},pH=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=WRe(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},I5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hk=function(t,r,n){if(pt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(je(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(I5.test(t[0])){var i=+I5.exec(t[0])[1];a[0]=r[0]-i}else pt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(je(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(M5.test(t[1])){var o=+M5.exec(t[1])[1];a[1]=r[1]+o}else pt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},A0=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=tT(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},R5=function(t,r,n){return!t||!t.length||zw(t,Ys(n,"type.defaultProps.domain"))?r:t},gH=function(t,r){var n=t.type.defaultProps?Cr(Cr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Cr(Cr({},_t(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:CT(t),value:As(r,a),type:c,payload:r,chartType:u,hide:d})};function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function $5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(r),!0).forEach(function(n){qRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qRe(e,t,r){return t=HRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HRe(e){var t=GRe(e,"string");return Yp(t)=="symbol"?t:t+""}function GRe(e,t){if(Yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I0=Math.PI/180,KRe=function(t){return t*180/Math.PI},vn=function(t,r,n,a){return{x:t+Math.cos(-I0*a)*n,y:r+Math.sin(-I0*a)*n}},XRe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},YRe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=XRe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:KRe(u),angleInRadian:u}},QRe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},ZRe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},L5=function(t,r){var n=t.x,a=t.y,i=YRe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=QRe(r),h=d.startAngle,f=d.endAngle,m=l,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?D5(D5({},r),{},{radius:o,angle:ZRe(m,r)}):null};function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}var JRe=["offset"];function e$e(e){return s$e(e)||n$e(e)||r$e(e)||t$e()}function t$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r$e(e,t){if(e){if(typeof e=="string")return Gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(e,t)}}function n$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s$e(e){if(Array.isArray(e))return Gk(e)}function Gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a$e(e,t){if(e==null)return{};var r=i$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(r),!0).forEach(function(n){o$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o$e(e,t,r){return t=l$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l$e(e){var t=c$e(e,"string");return Qp(t)=="symbol"?t:t+""}function c$e(e,t){if(Qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(this,arguments)}var u$e=function(t){var r=t.value,n=t.formatter,a=xt(t.children)?r:t.children;return pt(n)?n(a):a},d$e=function(t,r){var n=Ea(r-t),a=Math.min(Math.abs(r-t),360);return n*a},h$e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,x=(h+f)/2,b=d$e(m,g),y=b>=0?1:-1,w,N;a==="insideStart"?(w=m+y*o,N=p):a==="insideEnd"?(w=g-y*o,N=!p):a==="end"&&(w=g+y*o,N=p),N=b<=0?N:!N;var S=vn(u,d,x,w),k=vn(u,d,x,w+(N?1:-1)*359),_="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),j=xt(t.id)?ev("recharts-radial-line-"):t.id;return B.createElement("text",Zp({},n,{dominantBaseline:"central",className:Nt("recharts-radial-bar-label",l)}),B.createElement("defs",null,B.createElement("path",{id:j,d:_})),B.createElement("textPath",{xlinkHref:"#".concat(j)},r))},f$e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,f=(d+h)/2;if(a==="outside"){var m=vn(o,l,u+n,f),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=vn(o,l,x,f),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},m$e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*a,m=h>0?"end":"start",g=h>0?"start":"end",p=u>=0?1:-1,x=p*a,b=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:m};return Hr(Hr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:g};return Hr(Hr({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Hr(Hr({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var k={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Hr(Hr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return i==="insideLeft"?Hr({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},_):i==="insideRight"?Hr({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},_):i==="insideTop"?Hr({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:g},_):i==="insideBottom"?Hr({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},_):i==="insideTopLeft"?Hr({x:l+x,y:c+f,textAnchor:y,verticalAnchor:g},_):i==="insideTopRight"?Hr({x:l+u-x,y:c+f,textAnchor:b,verticalAnchor:g},_):i==="insideBottomLeft"?Hr({x:l+x,y:c+d-f,textAnchor:y,verticalAnchor:m},_):i==="insideBottomRight"?Hr({x:l+u-x,y:c+d-f,textAnchor:b,verticalAnchor:m},_):ff(i)&&(je(i.x)||_c(i.x))&&(je(i.y)||_c(i.y))?Hr({x:l+gu(i.x,u),y:c+gu(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):Hr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},p$e=function(t){return"cx"in t&&je(t.cx)};function Sn(e){var t=e.offset,r=t===void 0?5:t,n=a$e(e,JRe),a=Hr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,h=d===void 0?"":d,f=a.textBreakAll;if(!i||xt(l)&&xt(c)&&!v.isValidElement(u)&&!pt(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var m;if(pt(u)){if(m=v.createElement(u,a),v.isValidElement(m))return m}else m=u$e(a);var g=p$e(i),p=_t(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return h$e(a,m,p);var x=g?f$e(a):m$e(a);return B.createElement(x0,Zp({className:Nt("recharts-label",h)},p,x,{breakAll:f}),m)}Sn.displayName="Label";var vH=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,m=t.top,g=t.left,p=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(je(p)&&je(x)){if(je(h)&&je(f))return{x:h,y:f,width:p,height:x};if(je(m)&&je(g))return{x:m,y:g,width:p,height:x}}return je(h)&&je(f)?{x:h,y:f,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},g$e=function(t,r){return t?t===!0?B.createElement(Sn,{key:"label-implicit",viewBox:r}):Zr(t)?B.createElement(Sn,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===Sn?v.cloneElement(t,{key:"label-implicit",viewBox:r}):B.createElement(Sn,{key:"label-implicit",content:t,viewBox:r}):pt(t)?B.createElement(Sn,{key:"label-implicit",content:t,viewBox:r}):ff(t)?B.createElement(Sn,Zp({viewBox:r},t,{key:"label-implicit"})):null:null},v$e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=vH(t),o=Qs(a,Sn).map(function(c,u){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=g$e(t.label,r||i);return[l].concat(e$e(o))};Sn.parseViewBox=vH;Sn.renderCallByParent=v$e;function x$e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var y$e=x$e;const b$e=Bt(y$e);function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}var w$e=["valueAccessor"],j$e=["data","dataKey","clockWise","id","textBreakAll"];function _$e(e){return C$e(e)||k$e(e)||S$e(e)||N$e()}function N$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S$e(e,t){if(e){if(typeof e=="string")return Kk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kk(e,t)}}function k$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C$e(e){if(Array.isArray(e))return Kk(e)}function Kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function B5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(r),!0).forEach(function(n){P$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P$e(e,t,r){return t=E$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E$e(e){var t=T$e(e,"string");return Jp(t)=="symbol"?t:t+""}function T$e(e,t){if(Jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U5(e,t){if(e==null)return{};var r=O$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var A$e=function(t){return Array.isArray(t.value)?b$e(t.value):t.value};function xl(e){var t=e.valueAccessor,r=t===void 0?A$e:t,n=U5(e,w$e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=U5(n,j$e);return!a||!a.length?null:B.createElement(Ir,{className:"recharts-label-list"},a.map(function(d,h){var f=xt(i)?r(d,h):As(d&&d.payload,i),m=xt(l)?{}:{id:"".concat(l,"-").concat(h)};return B.createElement(Sn,M0({},_t(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Sn.parseViewBox(xt(o)?d:z5(z5({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}xl.displayName="LabelList";function I$e(e,t){return e?e===!0?B.createElement(xl,{key:"labelList-implicit",data:t}):B.isValidElement(e)||pt(e)?B.createElement(xl,{key:"labelList-implicit",data:t,content:e}):ff(e)?B.createElement(xl,M0({data:t},e,{key:"labelList-implicit"})):null:null}function M$e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Qs(n,xl).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=I$e(e.label,t);return[i].concat(_$e(a))}xl.renderCallByParent=M$e;function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function Xk(){return Xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xk.apply(this,arguments)}function V5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(r),!0).forEach(function(n){R$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R$e(e,t,r){return t=$$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $$e(e){var t=D$e(e,"string");return eg(t)=="symbol"?t:t+""}function D$e(e,t){if(eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L$e=function(t,r){var n=Ea(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ux=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,h=Math.asin(c/d)/I0,f=u?i:i+o*h,m=vn(r,n,d,f),g=vn(r,n,a,f),p=u?i-o*h:i,x=vn(r,n,d*Math.cos(h*I0),p);return{center:m,circleTangency:g,lineTangency:x,theta:h}},xH=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=L$e(o,l),u=o+c,d=vn(r,n,i,o),h=vn(r,n,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var m=vn(r,n,a,o),g=vn(r,n,a,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},F$e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=Ea(d-u),f=ux({cx:r,cy:n,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,g=f.lineTangency,p=f.theta,x=ux({cx:r,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,y=x.lineTangency,w=x.theta,N=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):xH({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var k=ux({cx:r,cy:n,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=k.circleTangency,j=k.lineTangency,C=k.theta,I=ux({cx:r,cy:n,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=I.circleTangency,$=I.lineTangency,W=I.theta,V=c?Math.abs(u-d):Math.abs(u-d)-C-W;if(V<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},B$e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yH=function(t){var r=W5(W5({},B$e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(o<i||d===h)return null;var m=Nt("recharts-sector",f),g=o-i,p=gu(l,g,0,!0),x;return p>0&&Math.abs(d-h)<360?x=F$e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):x=xH({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),B.createElement("path",Xk({},_t(r,!0),{className:m,d:x,role:"img"}))};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yk.apply(this,arguments)}function q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(r),!0).forEach(function(n){z$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$e(e,t,r){return t=U$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U$e(e){var t=V$e(e,"string");return tg(t)=="symbol"?t:t+""}function V$e(e,t){if(tg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G5={curveBasisClosed:B_e,curveBasisOpen:z_e,curveBasis:F_e,curveBumpX:S_e,curveBumpY:k_e,curveLinearClosed:U_e,curveLinear:Pw,curveMonotoneX:V_e,curveMonotoneY:W_e,curveNatural:q_e,curveStep:H_e,curveStepAfter:K_e,curveStepBefore:G_e},dx=function(t){return t.x===+t.x&&t.y===+t.y},Qf=function(t){return t.x},Zf=function(t){return t.y},W$e=function(t,r){if(pt(t))return t;var n="curve".concat(kw(t));return(n==="curveMonotone"||n==="curveBump")&&r?G5["".concat(n).concat(r==="vertical"?"Y":"X")]:G5[n]||Pw},q$e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=W$e(n,l),h=u?i.filter(function(p){return dx(p)}):i,f;if(Array.isArray(o)){var m=u?o.filter(function(p){return dx(p)}):o,g=h.map(function(p,x){return H5(H5({},p),{},{base:m[x]})});return l==="vertical"?f=tx().y(Zf).x1(Qf).x0(function(p){return p.base.x}):f=tx().x(Qf).y1(Zf).y0(function(p){return p.base.y}),f.defined(dx).curve(d),f(g)}return l==="vertical"&&je(o)?f=tx().y(Zf).x1(Qf).x0(o):je(o)?f=tx().x(Qf).y1(Zf).y0(o):f=yW().x(Qf).y(Zf),f.defined(dx).curve(d),f(h)},Qk=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?q$e(t):a;return v.createElement("path",Yk({},_t(t,!1),n0(t),{className:Nt("recharts-curve",r),d:o,ref:i}))},bH={exports:{}},H$e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G$e=H$e,K$e=G$e;function wH(){}function jH(){}jH.resetWarningCache=wH;var X$e=function(){function e(n,a,i,o,l,c){if(c!==K$e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jH,resetWarningCache:wH};return r.PropTypes=r,r};bH.exports=X$e();var Y$e=bH.exports;const $t=Bt(Y$e);var Q$e=Object.getOwnPropertyNames,Z$e=Object.getOwnPropertySymbols,J$e=Object.prototype.hasOwnProperty;function K5(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function hx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function X5(e){return Q$e(e).concat(Z$e(e))}var e5e=Object.hasOwn||function(e,t){return J$e.call(e,t)};function Pu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var t5e="__v",r5e="__o",n5e="_owner",Y5=Object.getOwnPropertyDescriptor,Q5=Object.keys;function s5e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function a5e(e,t){return Pu(e.getTime(),t.getTime())}function i5e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function o5e(e,t){return e===t}function Z5(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(a[h]){h++;continue}var f=o.value,m=l.value;if(r.equals(f[0],m[0],c,h,e,t,r)&&r.equals(f[1],m[1],f[0],m[0],e,t,r)){d=a[h]=!0;break}h++}if(!d)return!1;c++}return!0}var l5e=Pu;function c5e(e,t,r){var n=Q5(e),a=n.length;if(Q5(t).length!==a)return!1;for(;a-- >0;)if(!_H(e,t,r,n[a]))return!1;return!0}function Jf(e,t,r){var n=X5(e),a=n.length;if(X5(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!_H(e,t,r,i)||(o=Y5(e,i),l=Y5(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function u5e(e,t){return Pu(e.valueOf(),t.valueOf())}function d5e(e,t){return e.source===t.source&&e.flags===t.flags}function J5(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function h5e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function f5e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function _H(e,t,r,n){return(n===n5e||n===r5e||n===t5e)&&(e.$$typeof||t.$$typeof)?!0:e5e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var m5e="[object Arguments]",p5e="[object Boolean]",g5e="[object Date]",v5e="[object Error]",x5e="[object Map]",y5e="[object Number]",b5e="[object Object]",w5e="[object RegExp]",j5e="[object Set]",_5e="[object String]",N5e="[object URL]",S5e=Array.isArray,eD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tD=Object.assign,k5e=Object.prototype.toString.call.bind(Object.prototype.toString);function C5e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,h=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(g,p,x){if(g===p)return!0;if(g==null||p==null)return!1;var b=typeof g;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?o(g,p,x):b==="function"?a(g,p,x):!1;var y=g.constructor;if(y!==p.constructor)return!1;if(y===Object)return l(g,p,x);if(S5e(g))return t(g,p,x);if(eD!=null&&eD(g))return h(g,p,x);if(y===Date)return r(g,p,x);if(y===RegExp)return u(g,p,x);if(y===Map)return i(g,p,x);if(y===Set)return d(g,p,x);var w=k5e(g);return w===g5e?r(g,p,x):w===w5e?u(g,p,x):w===x5e?i(g,p,x):w===j5e?d(g,p,x):w===b5e?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,x):w===N5e?f(g,p,x):w===v5e?n(g,p,x):w===m5e?l(g,p,x):w===p5e||w===y5e||w===_5e?c(g,p,x):!1}}function P5e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Jf:s5e,areDatesEqual:a5e,areErrorsEqual:i5e,areFunctionsEqual:o5e,areMapsEqual:n?K5(Z5,Jf):Z5,areNumbersEqual:l5e,areObjectsEqual:n?Jf:c5e,arePrimitiveWrappersEqual:u5e,areRegExpsEqual:d5e,areSetsEqual:n?K5(J5,Jf):J5,areTypedArraysEqual:n?Jf:h5e,areUrlsEqual:f5e};if(r&&(a=tD({},a,r(a))),t){var i=hx(a.areArraysEqual),o=hx(a.areMapsEqual),l=hx(a.areObjectsEqual),c=hx(a.areSetsEqual);a=tD({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function E5e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function T5e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,m=d.meta;return r(c,u,{cache:f,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var O5e=Ql();Ql({strict:!0});Ql({circular:!0});Ql({circular:!0,strict:!0});Ql({createInternalComparator:function(){return Pu}});Ql({strict:!0,createInternalComparator:function(){return Pu}});Ql({circular:!0,createInternalComparator:function(){return Pu}});Ql({circular:!0,createInternalComparator:function(){return Pu},strict:!0});function Ql(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=P5e(e),c=C5e(l),u=n?n(c):E5e(c);return T5e({circular:r,comparator:c,createState:a,equals:u,strict:o})}function A5e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function rD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):A5e(a)};requestAnimationFrame(n)}function Zk(e){"@babel/helpers - typeof";return Zk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zk(e)}function I5e(e){return D5e(e)||$5e(e)||R5e(e)||M5e()}function M5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R5e(e,t){if(e){if(typeof e=="string")return nD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nD(e,t)}}function nD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D5e(e){if(Array.isArray(e))return e}function L5e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=I5e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){rD(a.bind(null,u),c);return}a(c),rD(a.bind(null,u));return}Zk(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){NH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NH(e,t,r){return t=F5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F5e(e){var t=B5e(e,"string");return rg(t)==="symbol"?t:String(t)}function B5e(e,t){if(rg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z5e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},U5e=function(t){return t},V5e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Fm=function(t,r){return Object.keys(r).reduce(function(n,a){return aD(aD({},n),{},NH({},a,t(a,r[a])))},{})},iD=function(t,r,n){return t.map(function(a){return"".concat(V5e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function W5e(e,t){return G5e(e)||H5e(e,t)||SH(e,t)||q5e()}function q5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function G5e(e){if(Array.isArray(e))return e}function K5e(e){return Q5e(e)||Y5e(e)||SH(e)||X5e()}function X5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SH(e,t){if(e){if(typeof e=="string")return Jk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jk(e,t)}}function Y5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q5e(e){if(Array.isArray(e))return Jk(e)}function Jk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R0=1e-4,kH=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},CH=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},oD=function(t,r){return function(n){var a=kH(t,r);return CH(a,n)}},Z5e=function(t,r){return function(n){var a=kH(t,r),i=[].concat(K5e(a.map(function(o,l){return o*l}).slice(1)),[0]);return CH(i,n)}},lD=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=W5e(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var h=oD(a,o),f=oD(i,l),m=Z5e(a,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var y=b>1?1:b,w=y,N=0;N<8;++N){var S=h(w)-y,k=m(w);if(Math.abs(S-y)<R0||k<R0)return f(w);w=g(w-S/k)}return f(w)};return p.isStepper=!1,p},J5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,h,f){var m=-(d-h)*n,g=f*i,p=f+(m-g)*l/1e3,x=f*l/1e3+d;return Math.abs(x-h)<R0&&Math.abs(p)<R0?[h,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},eDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lD(a);case"spring":return J5e();default:if(a.split("(")[0]==="cubic-bezier")return lD(a)}return typeof a=="function"?a:null};function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function cD(e){return nDe(e)||rDe(e)||PH(e)||tDe()}function tDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nDe(e){if(Array.isArray(e))return t2(e)}function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){e2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e2(e,t,r){return t=sDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sDe(e){var t=aDe(e,"string");return ng(t)==="symbol"?t:String(t)}function aDe(e,t){if(ng(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ng(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iDe(e,t){return cDe(e)||lDe(e,t)||PH(e,t)||oDe()}function oDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(e,t){if(e){if(typeof e=="string")return t2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t2(e,t)}}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cDe(e){if(Array.isArray(e))return e}var $0=function(t,r,n){return t+(r-t)*n},r2=function(t){var r=t.from,n=t.to;return r!==n},uDe=function e(t,r,n){var a=Fm(function(i,o){if(r2(o)){var l=t(o.from,o.to,o.velocity),c=iDe(l,2),u=c[0],d=c[1];return mn(mn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Fm(function(i,o){return r2(o)?mn(mn({},o),{},{velocity:$0(o.velocity,a[i].velocity,n),from:$0(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const dDe=function(e,t,r,n,a){var i=z5e(e,t),o=i.reduce(function(x,b){return mn(mn({},x),{},e2({},b,[e[b],t[b]]))},{}),l=i.reduce(function(x,b){return mn(mn({},x),{},e2({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return Fm(function(b,y){return y.from},l)},m=function(){return!Object.values(l).filter(r2).length},g=function(b){u||(u=b);var y=b-u,w=y/r.dt;l=uDe(r,l,w),a(mn(mn(mn({},e),t),f())),u=b,m()||(c=requestAnimationFrame(h))},p=function(b){d||(d=b);var y=(b-d)/n,w=Fm(function(S,k){return $0.apply(void 0,cD(k).concat([r(y)]))},o);if(a(mn(mn(mn({},e),t),w)),y<1)c=requestAnimationFrame(h);else{var N=Fm(function(S,k){return $0.apply(void 0,cD(k).concat([r(1)]))},o);a(mn(mn(mn({},e),t),N))}};return h=r.isStepper?g:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}var hDe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fDe(e,t){if(e==null)return{};var r=mDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mDe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function g_(e){return xDe(e)||vDe(e)||gDe(e)||pDe()}function pDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gDe(e,t){if(e){if(typeof e=="string")return n2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n2(e,t)}}function vDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xDe(e){if(Array.isArray(e))return n2(e)}function n2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(n){xm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xm(e,t,r){return t=EH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EH(n.key),n)}}function wDe(e,t,r){return t&&bDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EH(e){var t=jDe(e,"string");return Eh(t)==="symbol"?t:String(t)}function jDe(e,t){if(Eh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _De(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s2(e,t)}function s2(e,t){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s2(e,t)}function NDe(e){var t=SDe();return function(){var n=D0(e),a;if(t){var i=D0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return a2(this,a)}}function a2(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i2(e)}function i2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D0(e){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D0(e)}var xo=function(e){_De(r,e);var t=NDe(r);function r(n,a){var i;yDe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(i2(i)),i.changeStyle=i.changeStyle.bind(i2(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),a2(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof f=="function")return i.state={style:u},a2(i);i.state={style:c?xm({},c,u):u}}else i.state={style:{}};return i}return wDe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,f=this.state.style;if(l){if(!o){var m={style:c?xm({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(O5e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?h:a.to;if(this.state&&f){var x={style:c?xm({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(x)}this.runAnimation(fa(fa({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,m=dDe(o,l,eDe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([f,d,g,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(p,x,b){if(b===0)return p;var y=x.duration,w=x.easing,N=w===void 0?"ease":w,S=x.style,k=x.properties,_=x.onAnimationEnd,j=b>0?o[b-1]:x,C=k||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(g_(p),[i.runJSAnimation.bind(i,{from:j.style,to:S,duration:y,easing:N}),y]);var I=iD(C,y,N),M=fa(fa(fa({},j.style),S),{},{transition:I});return[].concat(g_(p),[M,y,_]).filter(U5e)};return this.manager.start([c].concat(g_(o.reduce(m,[d,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=L5e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var p=l?xm({},l,c):c,x=iD(Object.keys(p),o,u);g.start([d,i,fa(fa({},p),{},{transition:x}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=fDe(a,hDe),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(m){var g=m.props,p=g.style,x=p===void 0?{}:p,b=g.className,y=v.cloneElement(m,fa(fa({},c),{},{style:fa(fa({},x),d),className:b}));return y};return u===1?h(v.Children.only(i)):B.createElement("div",null,v.Children.map(i,function(f){return h(f)}))}}]),r}(v.PureComponent);xo.displayName="Animate";xo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xo.propTypes={from:$t.oneOfType([$t.object,$t.string]),to:$t.oneOfType([$t.object,$t.string]),attributeName:$t.string,duration:$t.number,begin:$t.number,easing:$t.oneOfType([$t.string,$t.func]),steps:$t.arrayOf($t.shape({duration:$t.number.isRequired,style:$t.object.isRequired,easing:$t.oneOfType([$t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$t.func]),properties:$t.arrayOf("string"),onAnimationEnd:$t.func})),children:$t.oneOfType([$t.node,$t.func]),isActive:$t.bool,canBegin:$t.bool,onAnimationEnd:$t.func,shouldReAnimate:$t.bool,onAnimationStart:$t.func,onAnimationReStart:$t.func};function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(this,arguments)}function kDe(e,t){return TDe(e)||EDe(e,t)||PDe(e,t)||CDe()}function CDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PDe(e,t){if(e){if(typeof e=="string")return hD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hD(e,t)}}function hD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function TDe(e){if(Array.isArray(e))return e}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){ODe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ODe(e,t,r){return t=ADe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ADe(e){var t=IDe(e,"string");return sg(t)=="symbol"?t:t+""}function IDe(e,t){if(sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pD=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>o?o:i[f];d="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(r)),d+="L ".concat(t+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*h[1])),d+="L ".concat(t+n,",").concat(r+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+n-c*h[2],",").concat(r+a)),d+="L ".concat(t+c*h[3],",").concat(r+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},MDe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=d&&a>=h&&a<=f}return!1},RDe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PT=function(t){var r=mD(mD({},RDe),t),n=v.useRef(),a=v.useState(-1),i=kDe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=Nt("recharts-rectangle",m);return y?B.createElement(xo,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(N){var S=N.width,k=N.height,_=N.x,j=N.y;return B.createElement(xo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:b,easing:g},B.createElement("path",L0({},_t(r,!0),{className:w,d:pD(_,j,S,k,f),ref:n})))}):B.createElement("path",L0({},_t(r,!0),{className:w,d:pD(c,u,d,h,f)}))};function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o2.apply(this,arguments)}var ET=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Nt("recharts-dot",i);return r===+r&&n===+n&&a===+a?v.createElement("circle",o2({},_t(t,!1),n0(t),{className:o,cx:r,cy:n,r:a})):null};function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}var $De=["x","y","top","left","width","height","className"];function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l2.apply(this,arguments)}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){LDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LDe(e,t,r){return t=FDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FDe(e){var t=BDe(e,"string");return ag(t)=="symbol"?t:t+""}function BDe(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zDe(e,t){if(e==null)return{};var r=UDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var VDe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},WDe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,f=t.height,m=f===void 0?0:f,g=t.className,p=zDe(t,$De),x=DDe({x:n,y:i,top:l,left:u,width:h,height:m},p);return!je(n)||!je(i)||!je(h)||!je(m)||!je(l)||!je(u)?null:B.createElement("path",l2({},_t(x,!0),{className:Nt("recharts-cross",g),d:VDe(n,i,h,m,l,u)}))},qDe=VW,HDe=qDe(Object.getPrototypeOf,Object),GDe=HDe,KDe=wo,XDe=GDe,YDe=jo,QDe="[object Object]",ZDe=Function.prototype,JDe=Object.prototype,TH=ZDe.toString,e3e=JDe.hasOwnProperty,t3e=TH.call(Object);function r3e(e){if(!YDe(e)||KDe(e)!=QDe)return!1;var t=XDe(e);if(t===null)return!0;var r=e3e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&TH.call(r)==t3e}var n3e=r3e;const s3e=Bt(n3e);var a3e=wo,i3e=jo,o3e="[object Boolean]";function l3e(e){return e===!0||e===!1||i3e(e)&&a3e(e)==o3e}var c3e=l3e;const u3e=Bt(c3e);function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function d3e(e,t){return p3e(e)||m3e(e,t)||f3e(e,t)||h3e()}function h3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f3e(e,t){if(e){if(typeof e=="string")return vD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vD(e,t)}}function vD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function p3e(e){if(Array.isArray(e))return e}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){g3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g3e(e,t,r){return t=v3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v3e(e){var t=x3e(e,"string");return ig(t)=="symbol"?t:t+""}function x3e(e,t){if(ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bD=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},y3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},b3e=function(t){var r=yD(yD({},y3e),t),n=v.useRef(),a=v.useState(-1),i=d3e(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var y=Nt("recharts-trapezoid",m);return b?B.createElement(xo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var N=w.upperWidth,S=w.lowerWidth,k=w.height,_=w.x,j=w.y;return B.createElement(xo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},B.createElement("path",F0({},_t(r,!0),{className:y,d:bD(_,j,N,S,k),ref:n})))}):B.createElement("g",null,B.createElement("path",F0({},_t(r,!0),{className:y,d:bD(c,u,d,h,f)})))},w3e=["option","shapeType","propTransformer","activeClassName","isActive"];function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function j3e(e,t){if(e==null)return{};var r=_3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){N3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N3e(e,t,r){return t=S3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S3e(e){var t=k3e(e,"string");return og(t)=="symbol"?t:t+""}function k3e(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C3e(e,t){return B0(B0({},t),e)}function P3e(e,t){return e==="symbols"}function jD(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return B.createElement(PT,r);case"trapezoid":return B.createElement(b3e,r);case"sector":return B.createElement(yH,r);case"symbols":if(P3e(t))return B.createElement(GE,r);break;default:return null}}function E3e(e){return v.isValidElement(e)?e.props:e}function T3e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?C3e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=j3e(e,w3e),u;if(v.isValidElement(t))u=v.cloneElement(t,B0(B0({},c),E3e(t)));else if(pt(t))u=t(c);else if(s3e(t)&&!u3e(t)){var d=a(t,c);u=B.createElement(jD,{shapeType:r,elementProps:d})}else{var h=c;u=B.createElement(jD,{shapeType:r,elementProps:h})}return l?B.createElement(Ir,{className:o},u):u}function Ww(e,t){return t!=null&&"trapezoids"in e.props}function qw(e,t){return t!=null&&"sectors"in e.props}function lg(e,t){return t!=null&&"points"in e.props}function O3e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function A3e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function I3e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function M3e(e,t){var r;return Ww(e,t)?r=O3e:qw(e,t)?r=A3e:lg(e,t)&&(r=I3e),r}function R3e(e,t){var r;return Ww(e,t)?r="trapezoids":qw(e,t)?r="sectors":lg(e,t)&&(r="points"),r}function $3e(e,t){if(Ww(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return lg(e,t)?t.payload:{}}function D3e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=R3e(r,t),i=$3e(r,t),o=n.filter(function(c,u){var d=zw(i,c),h=r.props[a].filter(function(g){var p=M3e(r,t);return p(g,t)}),f=r.props[a].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var L3e=Math.ceil,F3e=Math.max;function B3e(e,t,r,n){for(var a=-1,i=F3e(L3e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var z3e=B3e,U3e=lq,_D=1/0,V3e=17976931348623157e292;function W3e(e){if(!e)return e===0?e:0;if(e=U3e(e),e===_D||e===-_D){var t=e<0?-1:1;return t*V3e}return e===e?e:0}var OH=W3e,q3e=z3e,H3e=Aw,v_=OH;function G3e(e){return function(t,r,n){return n&&typeof n!="number"&&H3e(t,r,n)&&(r=n=void 0),t=v_(t),r===void 0?(r=t,t=0):r=v_(r),n=n===void 0?t<r?1:-1:v_(n),q3e(t,r,n,e)}}var K3e=G3e,X3e=K3e,Y3e=X3e(),Q3e=Y3e;const z0=Bt(Q3e);function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(n){AH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AH(e,t,r){return t=Z3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z3e(e){var t=J3e(e,"string");return cg(t)=="symbol"?t:t+""}function J3e(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eLe=["Webkit","Moz","O","ms"],tLe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=eLe.reduce(function(i,o){return SD(SD({},i),{},AH({},o+n,r))},{});return a[t]=r,a};function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(this,arguments)}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MH(n.key),n)}}function nLe(e,t,r){return t&&CD(e.prototype,t),r&&CD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sLe(e,t,r){return t=V0(t),aLe(e,IH()?Reflect.construct(t,r||[],V0(e).constructor):t.apply(e,r))}function aLe(e,t){if(t&&(Th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iLe(e)}function iLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IH=function(){return!!e})()}function V0(e){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V0(e)}function oLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c2(e,t)}function c2(e,t){return c2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c2(e,t)}function hs(e,t,r){return t=MH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=lLe(e,"string");return Th(t)=="symbol"?t:t+""}function lLe(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cLe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Dm().domain(z0(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},PD=function(t){return t.changedTouches&&!!t.changedTouches.length},Oh=function(e){function t(r){var n;return rLe(this,t),n=sLe(this,t,[r]),hs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),hs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),hs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),hs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hs(n,"handleSlideDragStart",function(a){var i=PD(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return oLe(t,e),nLe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(a,i),f=Math.max(a,i),m=t.getIndexInRange(o,h),g=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=As(i[n],l,n);return pt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-h-l,u+d-h-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==f||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=PD(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,h+f-m-u):y<0&&(y=Math.max(y,h-u)),b[o]=u+y;var w=this.getIndex(b),N=w.startIndex,S=w.endIndex,k=function(){var j=x.length-1;return o==="startX"&&(l>c?N%p===0:S%p===0)||l<c&&S===j||o==="endX"&&(l>c?S%p===0:N%p===0)||l>c&&S===j};this.setState(hs(hs({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&k()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var m=l[f];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(hs({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return B.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=v.Children.only(u);return h?B.cloneElement(h,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),y=x_(x_({},_t(this.props,!1)),{},{x:b,y:u,width:d,height:h}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return B.createElement(Ir,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,h=Math.max(Math.abs(a-n)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,m=5,g={pointerEvents:"none",fill:u};return B.createElement(Ir,{className:"recharts-brush-texts"},B.createElement(x0,U0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},g),this.getTextOfTick(a)),B.createElement(x0,U0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,m=f.startX,g=f.endX,p=f.isTextActive,x=f.isSlideMoving,b=f.isTravellerMoving,y=f.isTravellerFocused;if(!a||!a.length||!je(l)||!je(c)||!je(u)||!je(d)||u<=0||d<=0)return null;var w=Nt("recharts-brush",i),N=B.Children.count(o)===1,S=tLe("userSelect","none");return B.createElement(Ir,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||b||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),B.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return B.isValidElement(n)?i=B.cloneElement(n,a):pt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return x_({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?cLe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(v.PureComponent);hs(Oh,"displayName","Brush");hs(Oh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uLe=eT;function dLe(e,t){var r;return uLe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var hLe=dLe,fLe=RW,mLe=Kl,pLe=hLe,gLe=os,vLe=Aw;function xLe(e,t,r){var n=gLe(e)?fLe:pLe;return r&&vLe(e,t,r)&&(t=void 0),n(e,mLe(t))}var yLe=xLe;const bLe=Bt(yLe);var gi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},ED=nq;function wLe(e,t,r){t=="__proto__"&&ED?ED(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var jLe=wLe,_Le=jLe,NLe=tq,SLe=Kl;function kLe(e,t){var r={};return t=SLe(t),NLe(e,function(n,a,i){_Le(r,a,t(n,a,i))}),r}var CLe=kLe;const PLe=Bt(CLe);function ELe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var TLe=ELe,OLe=eT;function ALe(e,t){var r=!0;return OLe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var ILe=ALe,MLe=TLe,RLe=ILe,$Le=Kl,DLe=os,LLe=Aw;function FLe(e,t,r){var n=DLe(e)?MLe:RLe;return r&&LLe(e,t,r)&&(t=void 0),n(e,$Le(t))}var BLe=FLe;const RH=Bt(BLe);var zLe=["x","y"];function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function u2(){return u2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u2.apply(this,arguments)}function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(n){ULe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ULe(e,t,r){return t=VLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VLe(e){var t=WLe(e,"string");return ug(t)=="symbol"?t:t+""}function WLe(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qLe(e,t){if(e==null)return{};var r=HLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GLe(e,t){var r=e.x,n=e.y,a=qLe(e,zLe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),f=parseInt(h,10);return em(em(em(em(em({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function OD(e){return B.createElement(T3e,u2({shapeType:"rectangle",propTransformer:GLe,activeClassName:"recharts-active-bar"},e))}var KLe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=je(n)||uje(n);return i?t(n,a):(i||xu(),r)}},XLe=["value","background"],$H;function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function YLe(e,t){if(e==null)return{};var r=QLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(this,arguments)}function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(n){sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ID(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LH(n.key),n)}}function JLe(e,t,r){return t&&ID(e.prototype,t),r&&ID(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e6e(e,t,r){return t=q0(t),t6e(e,DH()?Reflect.construct(t,r||[],q0(e).constructor):t.apply(e,r))}function t6e(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r6e(e)}function r6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DH=function(){return!!e})()}function q0(e){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q0(e)}function n6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d2(e,t)}function d2(e,t){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d2(e,t)}function sl(e,t,r){return t=LH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=s6e(e,"string");return Ah(t)=="symbol"?t:t+""}function s6e(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ov=function(e){function t(){var r;ZLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=e6e(this,t,[].concat(a)),sl(r,"state",{isAnimationFinished:!1}),sl(r,"id",ev("recharts-bar-")),sl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),sl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return n6e(t,e),JLe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=_t(this.props,!1);return n&&n.map(function(h,f){var m=f===c,g=m?u:o,p=$r($r($r({},d),h),{},{isActive:m,option:g,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return B.createElement(Ir,W0({className:"recharts-bar-rectangle"},s0(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),B.createElement(OD,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,f=this.state.prevData;return B.createElement(xo,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(x,b){var y=f&&f[b];if(y){var w=ka(y.x,x.x),N=ka(y.y,x.y),S=ka(y.width,x.width),k=ka(y.height,x.height);return $r($r({},x),{},{x:w(g),y:N(g),width:S(g),height:k(g)})}if(o==="horizontal"){var _=ka(0,x.height),j=_(g);return $r($r({},x),{},{y:x.y+x.height-j,height:j})}var C=ka(0,x.width),I=C(g);return $r($r({},x),{},{width:I})});return B.createElement(Ir,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!zw(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=_t(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,f=YLe(u,XLe);if(!h)return null;var m=$r($r($r($r($r({},f),{},{fill:"#eee"},h),c),s0(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return B.createElement(OD,W0({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=Qs(d,iv);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:As(x,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return B.createElement(Ir,g,h.map(function(p){return B.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=Nt("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=y||w,S=xt(p)?this.id:p;return B.createElement(Ir,{className:b},y||w?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(S)},B.createElement("rect",{x:y?u:u-h/2,y:w?d:d-f/2,width:y?h:h*2,height:w?f:f*2}))):null,B.createElement(Ir,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!m||x)&&xl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(v.PureComponent);$H=ov;sl(ov,"displayName","Bar");sl(ov,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sl(ov,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=MRe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,x=p!==void 0?$r($r({},p),r.props):r.props,b=x.dataKey,y=x.children,w=x.minPointSize,N=g==="horizontal"?o:i,S=u?N.scale.domain():null,k=URe({numericAxis:N}),_=Qs(y,uq),j=h.map(function(C,I){var M,$,W,V,E,P;u?M=RRe(u[d+I],S):(M=As(C,b),Array.isArray(M)||(M=[k,M]));var R=KLe(w,$H.defaultProps.minPointSize)(M[1],I);if(g==="horizontal"){var O,T=[o.scale(M[0]),o.scale(M[1])],D=T[0],X=T[1];$=A5({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:C,index:I}),W=(O=X??D)!==null&&O!==void 0?O:void 0,V=m.size;var A=D-X;if(E=Number.isNaN(A)?0:A,P={x:$,y:o.y,width:V,height:o.height},Math.abs(R)>0&&Math.abs(E)<Math.abs(R)){var q=Ea(E||R)*(Math.abs(R)-Math.abs(E));W-=q,E+=q}}else{var L=[i.scale(M[0]),i.scale(M[1])],J=L[0],le=L[1];if($=J,W=A5({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:C,index:I}),V=le-J,E=m.size,P={x:i.x,y:W,width:i.width,height:E},Math.abs(R)>0&&Math.abs(V)<Math.abs(R)){var H=Ea(V||R)*(Math.abs(R)-Math.abs(V));V+=H}}return $r($r($r({},C),{},{x:$,y:W,width:V,height:E,value:u?M:M[1],payload:C,background:P},_&&_[I]&&_[I].props),{},{tooltipPayload:[gH(r,C)],tooltipPosition:{x:$+V/2,y:W+E/2}})});return $r({data:j,layout:g},f)});function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function a6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FH(n.key),n)}}function i6e(e,t,r){return t&&MD(e.prototype,t),r&&MD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(n){Hw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hw(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=o6e(e,"string");return dg(t)=="symbol"?t:t+""}function o6e(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l6e=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!ms(u,ov);return d.reduce(function(m,g){var p=r[g],x=p.orientation,b=p.domain,y=p.padding,w=y===void 0?{}:y,N=p.mirror,S=p.reversed,k="".concat(x).concat(N?"Mirror":""),_,j,C,I,M;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var $=b[1]-b[0],W=1/0,V=p.categoricalDomain.sort(fje);if(V.forEach(function(L,J){J>0&&(W=Math.min((L||0)-(V[J-1]||0),W))}),Number.isFinite(W)){var E=W/$,P=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(_=E*P/2),p.padding==="no-gap"){var R=gu(t.barCategoryGap,E*P),O=E*P/2;_=O-R-(O-R)/P*R}}}a==="xAxis"?j=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:a==="yAxis"?j=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:j=p.range,S&&(j=[j[1],j[0]]);var T=ARe(p,i,f),D=T.scale,X=T.realScaleType;D.domain(b).range(j),IRe(D);var A=zRe(D,_a(_a({},p),{},{realScaleType:X}));a==="xAxis"?(M=x==="top"&&!N||x==="bottom"&&N,C=n.left,I=h[k]-M*p.height):a==="yAxis"&&(M=x==="left"&&!N||x==="right"&&N,C=h[k]-M*p.width,I=n.top);var q=_a(_a(_a({},p),A),{},{realScaleType:X,x:C,y:I,scale:D,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return q.bandSize=A0(q,A),!p.hide&&a==="xAxis"?h[k]+=(M?-1:1)*q.height:p.hide||(h[k]+=(M?-1:1)*q.width),_a(_a({},m),{},Hw({},g,q))},{})},BH=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},c6e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return BH({x:r,y:n},{x:a,y:i})},zH=function(){function e(t){a6e(this,e),this.scale=t}return i6e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Hw(zH,"EPS",1e-4);var TT=function(t){var r=Object.keys(t).reduce(function(n,a){return _a(_a({},n),{},Hw({},a,zH.create(t[a])))},{});return _a(_a({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return PLe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return RH(a,function(i,o){return r[o].isInRange(i)})}})};function u6e(e){return(e%180+180)%180}var d6e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=u6e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},h6e=Kl,f6e=tv,m6e=Tw;function p6e(e){return function(t,r,n){var a=Object(t);if(!f6e(t)){var i=h6e(r);t=m6e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var g6e=p6e,v6e=OH;function x6e(e){var t=v6e(e),r=t%1;return t===t?r?t-r:t:0}var y6e=x6e,b6e=XW,w6e=Kl,j6e=y6e,_6e=Math.max;function N6e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:j6e(r);return a<0&&(a=_6e(n+a,0)),b6e(e,w6e(t),a)}var S6e=N6e,k6e=g6e,C6e=S6e,P6e=k6e(C6e),E6e=P6e;const T6e=Bt(E6e);var O6e=m1e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),OT=v.createContext(void 0),AT=v.createContext(void 0),UH=v.createContext(void 0),VH=v.createContext({}),WH=v.createContext(void 0),qH=v.createContext(0),HH=v.createContext(0),$D=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=O6e(i);return B.createElement(OT.Provider,{value:n},B.createElement(AT.Provider,{value:a},B.createElement(VH.Provider,{value:i},B.createElement(UH.Provider,{value:d},B.createElement(WH.Provider,{value:o},B.createElement(qH.Provider,{value:u},B.createElement(HH.Provider,{value:c},l)))))))},A6e=function(){return v.useContext(WH)},GH=function(t){var r=v.useContext(OT);r==null&&xu();var n=r[t];return n==null&&xu(),n},I6e=function(){var t=v.useContext(OT);return Uo(t)},M6e=function(){var t=v.useContext(AT),r=T6e(t,function(n){return RH(n.domain,Number.isFinite)});return r||Uo(t)},KH=function(t){var r=v.useContext(AT);r==null&&xu();var n=r[t];return n==null&&xu(),n},R6e=function(){var t=v.useContext(UH);return t},$6e=function(){return v.useContext(VH)},IT=function(){return v.useContext(HH)},MT=function(){return v.useContext(qH)};function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function D6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YH(n.key),n)}}function F6e(e,t,r){return t&&L6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B6e(e,t,r){return t=H0(t),z6e(e,XH()?Reflect.construct(t,r||[],H0(e).constructor):t.apply(e,r))}function z6e(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U6e(e)}function U6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XH=function(){return!!e})()}function H0(e){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H0(e)}function V6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h2(e,t)}function h2(e,t){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h2(e,t)}function DD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(r),!0).forEach(function(n){RT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RT(e,t,r){return t=YH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YH(e){var t=W6e(e,"string");return Ih(t)=="symbol"?t:t+""}function W6e(e,t){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q6e(e,t){return X6e(e)||K6e(e,t)||G6e(e,t)||H6e()}function H6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G6e(e,t){if(e){if(typeof e=="string")return FD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FD(e,t)}}function FD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function X6e(e){if(Array.isArray(e))return e}function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f2.apply(this,arguments)}var Y6e=function(t,r){var n;return B.isValidElement(t)?n=B.cloneElement(t,r):pt(t)?n=t(r):n=B.createElement("line",f2({},r,{className:"recharts-reference-line-line"})),n},Q6e=function(t,r,n,a,i,o,l,c,u){var d=i.x,h=i.y,f=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(gi(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+f,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(gi(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:h+m},{x:y,y:h}];return l==="top"?w.reverse():w}if(a){var N=u.segment,S=N.map(function(k){return t.apply(k,{position:o})});return gi(u,"discard")&&bLe(S,function(k){return!t.isInRange(k)})?null:S}return null};function Z6e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=A6e(),d=GH(a),h=KH(i),f=R6e();if(!u||!f)return null;Yi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=TT({x:d.scale,y:h.scale}),g=Zr(t),p=Zr(r),x=n&&n.length===2,b=Q6e(m,g,p,x,f,e.position,d.orientation,h.orientation,e);if(!b)return null;var y=q6e(b,2),w=y[0],N=w.x,S=w.y,k=y[1],_=k.x,j=k.y,C=gi(e,"hidden")?"url(#".concat(u,")"):void 0,I=LD(LD({clipPath:C},_t(e,!0)),{},{x1:N,y1:S,x2:_,y2:j});return B.createElement(Ir,{className:Nt("recharts-reference-line",l)},Y6e(o,I),Sn.renderCallByParent(e,c6e({x1:N,y1:S,x2:_,y2:j})))}var $T=function(e){function t(){return D6e(this,t),B6e(this,t,arguments)}return V6e(t,e),F6e(t,[{key:"render",value:function(){return B.createElement(Z6e,this.props)}}])}(B.Component);RT($T,"displayName","ReferenceLine");RT($T,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m2.apply(this,arguments)}function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function BD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(r),!0).forEach(function(n){Gw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZH(n.key),n)}}function t8e(e,t,r){return t&&e8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r8e(e,t,r){return t=G0(t),n8e(e,QH()?Reflect.construct(t,r||[],G0(e).constructor):t.apply(e,r))}function n8e(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s8e(e)}function s8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QH=function(){return!!e})()}function G0(e){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G0(e)}function a8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p2(e,t)}function p2(e,t){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p2(e,t)}function Gw(e,t,r){return t=ZH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=i8e(e,"string");return Mh(t)=="symbol"?t:t+""}function i8e(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o8e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=TT({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return gi(t,"discard")&&!o.isInRange(l)?null:l},Kw=function(e){function t(){return J6e(this,t),r8e(this,t,arguments)}return a8e(t,e),t8e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Zr(a),d=Zr(i);if(Yi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=o8e(this.props);if(!h)return null;var f=h.x,m=h.y,g=this.props,p=g.shape,x=g.className,b=gi(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=zD(zD({clipPath:b},_t(this.props,!0)),{},{cx:f,cy:m});return B.createElement(Ir,{className:Nt("recharts-reference-dot",x)},t.renderDot(p,y),Sn.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(B.Component);Gw(Kw,"displayName","ReferenceDot");Gw(Kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gw(Kw,"renderDot",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):pt(e)?r=e(t):r=B.createElement(ET,m2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function g2(){return g2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g2.apply(this,arguments)}function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){Xw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eG(n.key),n)}}function u8e(e,t,r){return t&&c8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d8e(e,t,r){return t=K0(t),h8e(e,JH()?Reflect.construct(t,r||[],K0(e).constructor):t.apply(e,r))}function h8e(e,t){if(t&&(Rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f8e(e)}function f8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!e})()}function K0(e){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K0(e)}function m8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v2(e,t)}function v2(e,t){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},v2(e,t)}function Xw(e,t,r){return t=eG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=p8e(e,"string");return Rh(t)=="symbol"?t:t+""}function p8e(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g8e=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var f=TT({x:d.scale,y:h.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(u,{position:"end"}):f.y.rangeMax};return gi(i,"discard")&&(!f.isInRange(m)||!f.isInRange(g))?null:BH(m,g)},Yw=function(e){function t(){return l8e(this,t),d8e(this,t,arguments)}return m8e(t,e),u8e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Yi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Zr(a),f=Zr(i),m=Zr(o),g=Zr(l),p=this.props.shape;if(!h&&!f&&!m&&!g&&!p)return null;var x=g8e(h,f,m,g,this.props);if(!x&&!p)return null;var b=gi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(Ir,{className:Nt("recharts-reference-area",c)},t.renderRect(p,VD(VD({clipPath:b},_t(this.props,!0)),x)),Sn.renderCallByParent(this.props,x))}}])}(B.Component);Xw(Yw,"displayName","ReferenceArea");Xw(Yw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Xw(Yw,"renderRect",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):pt(e)?r=e(t):r=B.createElement(PT,g2({},t,{className:"recharts-reference-area-rect"})),r});function tG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function v8e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return d6e(n,r)}function x8e(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function X0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function y8e(e,t){return tG(e,t+1)}function b8e(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:tG(n,u)};var p=c,x,b=function(){return x===void 0&&(x=r(g,p)),x},y=g.coordinate,w=c===0||X0(e,y,b,d,l);w||(c=0,d=o,u+=1),w&&(d=y+e*(b()/2+a),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){w8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w8e(e,t,r){return t=j8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j8e(e){var t=_8e(e,"string");return hg(t)=="symbol"?t:t+""}function _8e(e,t){if(hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N8e(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var m=i[f],g,p=function(){return g===void 0&&(g=r(m,f)),g};if(f===o-1){var x=e*(m.coordinate+e*p()/2-c);i[f]=m=_n(_n({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[f]=m=_n(_n({},m),{},{tickCoord:m.coordinate});var b=X0(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+a),i[f]=_n(_n({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function S8e(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],h=r(d,l-1),f=e*(d.coordinate+e*h/2-u);o[l-1]=d=_n(_n({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=X0(e,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-e*(h/2+a),o[l-1]=_n(_n({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(y){var w=o[y],N,S=function(){return N===void 0&&(N=r(w,y)),N};if(y===0){var k=e*(w.coordinate-e*S()/2-c);o[y]=w=_n(_n({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[y]=w=_n(_n({},w),{},{tickCoord:w.coordinate});var _=X0(e,w.tickCoord,S,c,u);_&&(c=w.tickCoord+e*(S()/2+a),o[y]=_n(_n({},w),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function DT(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(je(c)||Qi.isSsr)return y8e(a,typeof c=="number"&&je(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?$m(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,N){var S=pt(u)?u(w.value,N):w.value;return m==="width"?v8e($m(S,{fontSize:t,letterSpacing:r}),g,h):$m(S,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?Ea(a[1].coordinate-a[0].coordinate):1,b=x8e(i,x,m);return c==="equidistantPreserveStart"?b8e(x,b,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=S8e(x,b,p,a,o,c==="preserveStartEnd"):f=N8e(x,b,p,a,o),f.filter(function(y){return y.isShow}))}var k8e=["viewBox"],C8e=["viewBox"],P8e=["ticks"];function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(this,arguments)}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){LT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y_(e,t){if(e==null)return{};var r=E8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nG(n.key),n)}}function O8e(e,t,r){return t&&HD(e.prototype,t),r&&HD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A8e(e,t,r){return t=Y0(t),I8e(e,rG()?Reflect.construct(t,r||[],Y0(e).constructor):t.apply(e,r))}function I8e(e,t){if(t&&($h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M8e(e)}function M8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rG=function(){return!!e})()}function Y0(e){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y0(e)}function R8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x2(e,t)}function x2(e,t){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x2(e,t)}function LT(e,t,r){return t=nG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=$8e(e,"string");return $h(t)=="symbol"?t:t+""}function $8e(e,t){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _f=function(e){function t(r){var n;return T8e(this,t),n=A8e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return R8e(t,e),O8e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=y_(n,k8e),l=this.props,c=l.viewBox,u=y_(l,C8e);return!$d(i,c)||!$d(o,u)||!$d(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,f=a.tickMargin,m,g,p,x,b,y,w=h?-1:1,N=n.tickSize||d,S=je(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,x=o+ +!h*c,p=x-w*N,y=p-w*f,b=S;break;case"left":p=x=n.coordinate,g=i+ +!h*l,m=g-w*N,b=m-w*f,y=S;break;case"right":p=x=n.coordinate,g=i+ +h*l,m=g+w*N,b=m+w*f,y=S;break;default:m=g=n.coordinate,x=o+ +h*c,p=x+w*N,y=p+w*f,b=S;break}return{line:{x1:m,y1:p,x2:g,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=qr(qr(qr({},_t(this.props,!1)),_t(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=qr(qr({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=qr(qr({},h),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return B.createElement("line",jd({},h,{className:Nt("recharts-cartesian-axis-line",Ys(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=DT(qr(qr({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=_t(this.props,!1),b=_t(d,!1),y=qr(qr({},x),{},{fill:"none"},_t(c,!1)),w=m.map(function(N,S){var k=o.getTickLineCoord(N),_=k.line,j=k.tick,C=qr(qr(qr(qr({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:u},b),j),{},{index:S,payload:N,visibleTicksCount:m.length,tickFormatter:h});return B.createElement(Ir,jd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},s0(o.props,N,S)),c&&B.createElement("line",jd({},y,_,{className:Nt("recharts-cartesian-axis-tick-line",Ys(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(pt(h)?h(N.value,S):N.value).concat(f||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,f=h.ticks,m=y_(h,P8e),g=f;return pt(c)&&(g=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:B.createElement(Ir,{className:Nt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Sn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Nt(a.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(n)?o=B.cloneElement(n,qr(qr({},a),{},{className:l})):pt(n)?o=n(qr(qr({},a),{},{className:l})):o=B.createElement(x0,jd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);LT(_f,"displayName","CartesianAxis");LT(_f,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var D8e=["x1","y1","x2","y2","key"],L8e=["offset"];function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(n){F8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F8e(e,t,r){return t=B8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8e(e){var t=z8e(e,"string");return yu(t)=="symbol"?t:t+""}function z8e(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}function KD(e,t){if(e==null)return{};var r=U8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var V8e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return B.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function sG(e,t){var r;if(B.isValidElement(e))r=B.cloneElement(e,t);else if(pt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=KD(t,D8e),u=_t(c,!1);u.offset;var d=KD(u,L8e);r=B.createElement("line",kc({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function W8e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=kn(kn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return sG(a,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function q8e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=kn(kn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return sG(a,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function H8e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?a+o-f:d[m+1]-f;if(p<=0)return null;var x=m%t.length;return B.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function G8e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?i+l-f:d[m+1]-f;if(p<=0)return null;var x=m%n.length;return B.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var K8e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return mH(DT(kn(kn(kn({},_f.defaultProps),n),{},{ticks:Wi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},X8e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return mH(DT(kn(kn(kn({},_f.defaultProps),n),{},{ticks:Wi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Hu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function aG(e){var t,r,n,a,i,o,l=IT(),c=MT(),u=$6e(),d=kn(kn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Hu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Hu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Hu.verticalFill,x:je(e.x)?e.x:u.left,y:je(e.y)?e.y:u.top,width:je(e.width)?e.width:u.width,height:je(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,g=d.height,p=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=I6e(),w=M6e();if(!je(m)||m<=0||!je(g)||g<=0||!je(h)||h!==+h||!je(f)||f!==+f)return null;var N=d.verticalCoordinatesGenerator||K8e,S=d.horizontalCoordinatesGenerator||X8e,k=d.horizontalPoints,_=d.verticalPoints;if((!k||!k.length)&&pt(S)){var j=x&&x.length,C=S({yAxis:w?kn(kn({},w),{},{ticks:j?x:w.ticks}):void 0,width:l,height:c,offset:u},j?!0:p);Yi(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yu(C),"]")),Array.isArray(C)&&(k=C)}if((!_||!_.length)&&pt(N)){var I=b&&b.length,M=N({xAxis:y?kn(kn({},y),{},{ticks:I?b:y.ticks}):void 0,width:l,height:c,offset:u},I?!0:p);Yi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yu(M),"]")),Array.isArray(M)&&(_=M)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(V8e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),B.createElement(W8e,kc({},d,{offset:u,horizontalPoints:k,xAxis:y,yAxis:w})),B.createElement(q8e,kc({},d,{offset:u,verticalPoints:_,xAxis:y,yAxis:w})),B.createElement(H8e,kc({},d,{horizontalPoints:k})),B.createElement(G8e,kc({},d,{verticalPoints:_})))}aG.displayName="CartesianGrid";var Y8e=["type","layout","connectNulls","ref"],Q8e=["key"];function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function XD(e,t){if(e==null)return{};var r=Z8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(this,arguments)}function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(n){Na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gu(e){return rFe(e)||tFe(e)||eFe(e)||J8e()}function J8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eFe(e,t){if(e){if(typeof e=="string")return y2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(e,t)}}function tFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rFe(e){if(Array.isArray(e))return y2(e)}function y2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oG(n.key),n)}}function sFe(e,t,r){return t&&QD(e.prototype,t),r&&QD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aFe(e,t,r){return t=Q0(t),iFe(e,iG()?Reflect.construct(t,r||[],Q0(e).constructor):t.apply(e,r))}function iFe(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oFe(e)}function oFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iG=function(){return!!e})()}function Q0(e){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q0(e)}function lFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b2(e,t)}function b2(e,t){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b2(e,t)}function Na(e,t,r){return t=oG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=cFe(e,"string");return Dh(t)=="symbol"?t:t+""}function cFe(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lv=function(e){function t(){var r;nFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=aFe(this,t,[].concat(a)),Na(r,"state",{isAnimationFinished:!0,totalLength:0}),Na(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Na(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>h){m=[].concat(Gu(c.slice(0,g)),[h-p]);break}var x=m.length%2===0?[0,f]:[f];return[].concat(Gu(t.repeat(c,d)),Gu(m),x).map(function(b){return"".concat(b,"px")}).join(", ")}),Na(r,"id",ev("recharts-line-")),Na(r,"pathRef",function(o){r.mainCurve=o}),Na(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Na(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return lFe(t,e),sFe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=Qs(d,iv);if(!h)return null;var f=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:As(p.payload,x)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return B.createElement(Ir,m,h.map(function(g){return B.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=_t(this.props,!1),f=_t(c,!0),m=u.map(function(p,x){var b=ds(ds(ds({key:"dot-".concat(x),r:3},h),f),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return B.createElement(Ir,Bm({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=XD(l,Y8e),f=ds(ds(ds({},_t(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return B.createElement(Qk,Bm({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,x=o.height,b=this.state,y=b.prevPoints,w=b.totalLength;return B.createElement(xo,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(y){var k=y.length/l.length,_=l.map(function($,W){var V=Math.floor(W*k);if(y[V]){var E=y[V],P=ka(E.x,$.x),R=ka(E.y,$.y);return ds(ds({},$),{},{x:P(S),y:R(S)})}if(g){var O=ka(p*2,$.x),T=ka(x/2,$.y);return ds(ds({},$),{},{x:O(S),y:T(S)})}return ds(ds({},$),{},{x:$.x,y:$.y})});return i.renderCurveStatically(_,n,a)}var j=ka(0,w),C=j(S),I;if(c){var M="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});I=i.getStrokeDasharray(C,w,M)}else I=i.generateSimpleStrokeDasharray(w,C);return i.renderCurveStatically(l,n,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!zw(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,h=a.top,f=a.left,m=a.width,g=a.height,p=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=Nt("recharts-line",c),N=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=N||S,_=xt(x)?this.id:x,j=(n=_t(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=j.r,I=C===void 0?3:C,M=j.strokeWidth,$=M===void 0?2:M,W=jje(o)?o:{},V=W.clipDot,E=V===void 0?!0:V,P=I*2+$;return B.createElement(Ir,{className:w},N||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(_)},B.createElement("rect",{x:N?f:f-m/2,y:S?h:h-g/2,width:N?m:m*2,height:S?g:g*2})),!E&&B.createElement("clipPath",{id:"clipPath-dots-".concat(_)},B.createElement("rect",{x:f-P/2,y:h-P/2,width:m+P,height:g+P}))):null,!y&&this.renderCurve(k,_),this.renderErrorBar(k,_),(y||o)&&this.renderDots(k,E,_),(!p||b)&&xl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Gu(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Gu(o),Gu(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(B.isValidElement(n))i=B.cloneElement(n,a);else if(pt(n))i=n(a);else{var o=a.key,l=XD(a,Q8e),c=Nt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=B.createElement(ET,Bm({key:o},l,{className:c}))}return i}}])}(v.PureComponent);Na(lv,"displayName","Line");Na(lv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Na(lv,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,h=c.map(function(f,m){var g=As(f,o);return d==="horizontal"?{x:O5({axis:r,ticks:a,bandSize:l,entry:f,index:m}),y:xt(g)?null:n.scale(g),value:g,payload:f}:{x:xt(g)?null:r.scale(g),y:O5({axis:n,ticks:i,bandSize:l,entry:f,index:m}),value:g,payload:f}});return ds({points:h,layout:d},u)});function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function uFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uG(n.key),n)}}function hFe(e,t,r){return t&&dFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fFe(e,t,r){return t=Z0(t),mFe(e,lG()?Reflect.construct(t,r||[],Z0(e).constructor):t.apply(e,r))}function mFe(e,t){if(t&&(Lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pFe(e)}function pFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lG=function(){return!!e})()}function Z0(e){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z0(e)}function gFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w2(e,t)}function w2(e,t){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},w2(e,t)}function cG(e,t,r){return t=uG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=vFe(e,"string");return Lh(t)=="symbol"?t:t+""}function vFe(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j2.apply(this,arguments)}function xFe(e){var t=e.xAxisId,r=IT(),n=MT(),a=GH(t);return a==null?null:v.createElement(_f,j2({},a,{className:Nt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Wi(o,!0)}}))}var Qw=function(e){function t(){return uFe(this,t),fFe(this,t,arguments)}return gFe(t,e),hFe(t,[{key:"render",value:function(){return v.createElement(xFe,this.props)}}])}(v.Component);cG(Qw,"displayName","XAxis");cG(Qw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function yFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fG(n.key),n)}}function wFe(e,t,r){return t&&bFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jFe(e,t,r){return t=J0(t),_Fe(e,dG()?Reflect.construct(t,r||[],J0(e).constructor):t.apply(e,r))}function _Fe(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NFe(e)}function NFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dG=function(){return!!e})()}function J0(e){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J0(e)}function SFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_2(e,t)}function _2(e,t){return _2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_2(e,t)}function hG(e,t,r){return t=fG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=kFe(e,"string");return Fh(t)=="symbol"?t:t+""}function kFe(e,t){if(Fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N2.apply(this,arguments)}var CFe=function(t){var r=t.yAxisId,n=IT(),a=MT(),i=KH(r);return i==null?null:v.createElement(_f,N2({},i,{className:Nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Wi(l,!0)}}))},Zw=function(e){function t(){return yFe(this,t),jFe(this,t,arguments)}return SFe(t,e),wFe(t,[{key:"render",value:function(){return v.createElement(CFe,this.props)}}])}(v.Component);hG(Zw,"displayName","YAxis");hG(Zw,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ZD(e){return OFe(e)||TFe(e)||EFe(e)||PFe()}function PFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EFe(e,t){if(e){if(typeof e=="string")return S2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S2(e,t)}}function TFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OFe(e){if(Array.isArray(e))return S2(e)}function S2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k2=function(t,r,n,a,i){var o=Qs(t,$T),l=Qs(t,Kw),c=[].concat(ZD(o),ZD(l)),u=Qs(t,Yw),d="".concat(a,"Id"),h=a[0],f=r;if(c.length&&(f=c.reduce(function(p,x){if(x.props[d]===n&&gi(x.props,"extendDomain")&&je(x.props[h])){var b=x.props[h];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},f)),u.length){var m="".concat(h,"1"),g="".concat(h,"2");f=u.reduce(function(p,x){if(x.props[d]===n&&gi(x.props,"extendDomain")&&je(x.props[m])&&je(x.props[g])){var b=x.props[m],y=x.props[g];return[Math.min(p[0],b,y),Math.max(p[1],b,y)]}return p},f)}return i&&i.length&&(f=i.reduce(function(p,x){return je(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},f)),f},mG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,h||c,f),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,g=new Array(m);f<m;f++)g[f]=h[f].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],b=arguments.length,y,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,m),!0;case 6:return x.fn.call(x.context,d,h,f,m,g),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];x.fn.apply(x.context,y)}else{var N=x.length,S;for(w=0;w<N;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,h);break;case 4:x[w].fn.call(x[w].context,d,h,f);break;default:if(!y)for(S=1,y=new Array(b-1);S<b;S++)y[S-1]=arguments[S];x[w].fn.apply(x[w].context,y)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&o(this,m);else{for(var p=0,x=[],b=g.length;p<b;p++)(g[p].fn!==d||f&&!g[p].once||h&&g[p].context!==h)&&x.push(g[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(mG);var AFe=mG.exports;const IFe=Bt(AFe);var b_=new IFe,w_="recharts.syncMouseEvents";function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function MFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pG(n.key),n)}}function $Fe(e,t,r){return t&&RFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j_(e,t,r){return t=pG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=DFe(e,"string");return fg(t)=="symbol"?t:t+""}function DFe(e,t){if(fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LFe=function(){function e(){MFe(this,e),j_(this,"activeIndex",0),j_(this,"coordinateList",[]),j_(this,"layout","horizontal")}return $Fe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function FFe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&je(n)&&je(a))return!0}return!1}function BFe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gG(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=vn(t,r,n,a),l=vn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function zFe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,f=vn(l,c,u,h),m=vn(l,c,d,h);n=f.x,a=f.y,i=m.x,o=m.y}else return gG(t);return[{x:n,y:a},{x:i,y:o}]}function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function JD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(r),!0).forEach(function(n){UFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UFe(e,t,r){return t=VFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VFe(e){var t=WFe(e,"string");return mg(t)=="symbol"?t:t+""}function WFe(e,t){if(mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qFe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var g,p=Qk;if(f==="ScatterChart")g=o,p=WDe;else if(f==="BarChart")g=BFe(h,o,c,d),p=PT;else if(h==="radial"){var x=gG(o),b=x.cx,y=x.cy,w=x.radius,N=x.startAngle,S=x.endAngle;g={cx:b,cy:y,startAngle:N,endAngle:S,innerRadius:w,outerRadius:w},p=yH}else g={points:zFe(h,o,c)},p=Qk;var k=fx(fx(fx(fx({stroke:"#ccc",pointerEvents:"none"},c),g),_t(m,!1)),{},{payload:l,payloadIndex:u,className:Nt("recharts-tooltip-cursor",m.className)});return v.isValidElement(m)?v.cloneElement(m,k):v.createElement(p,k)}var HFe=["item"],GFe=["children","className","width","height","style","compact","title","desc"];function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}function e3(e,t){return YFe(e)||XFe(e,t)||xG(e,t)||KFe()}function KFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function YFe(e){if(Array.isArray(e))return e}function t3(e,t){if(e==null)return{};var r=QFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yG(n.key),n)}}function eBe(e,t,r){return t&&JFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tBe(e,t,r){return t=eb(t),rBe(e,vG()?Reflect.construct(t,r||[],eb(e).constructor):t.apply(e,r))}function rBe(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nBe(e)}function nBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vG=function(){return!!e})()}function eb(e){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(e)}function sBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C2(e,t)}function C2(e,t){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C2(e,t)}function zh(e){return oBe(e)||iBe(e)||xG(e)||aBe()}function aBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xG(e,t){if(e){if(typeof e=="string")return P2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P2(e,t)}}function iBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oBe(e){if(Array.isArray(e))return P2(e)}function P2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(n){Xe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xe(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=lBe(e,"string");return Bh(t)=="symbol"?t:t+""}function lBe(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cBe={xAxis:["bottom","top"],yAxis:["left","right"]},uBe={width:"100%",height:"100%"},bG={x:0,y:0};function mx(e){return e}var dBe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},hBe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return oe(oe(oe({},a),vn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return oe(oe(oe({},a),vn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return bG},Jw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(zh(l),zh(u)):l},[]);return o.length>0?o:t&&t.length&&je(a)&&je(i)?t.slice(a,i+1):[]};function wG(e){return e==="number"?[0,"auto"]:void 0}var E2=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Jw(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=r0(m,o.dataKey,a)}else f=h&&h[n]||l[n];return f?[].concat(zh(c),[gH(u,f)]):c},[])},n3=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=dBe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=kRe(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=E2(t,r,d,h),m=hBe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},fBe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,m=fH(d,i);return n.reduce(function(g,p){var x,b=p.type.defaultProps!==void 0?oe(oe({},p.type.defaultProps),p.props):p.props,y=b.type,w=b.dataKey,N=b.allowDataOverflow,S=b.allowDuplicatedCategory,k=b.scale,_=b.ticks,j=b.includeHidden,C=b[o];if(g[C])return g;var I=Jw(t.data,{graphicalItems:a.filter(function(A){var q,L=o in A.props?A.props[o]:(q=A.type.defaultProps)===null||q===void 0?void 0:q[o];return L===C}),dataStartIndex:c,dataEndIndex:u}),M=I.length,$,W,V;FFe(b.domain,N,y)&&($=Hk(b.domain,null,N),m&&(y==="number"||k!=="auto")&&(V=Lm(I,w,"category")));var E=wG(y);if(!$||$.length===0){var P,R=(P=b.domain)!==null&&P!==void 0?P:E;if(w){if($=Lm(I,w,y),y==="category"&&m){var O=hje($);S&&O?(W=$,$=z0(0,M)):S||($=R5(R,$,p).reduce(function(A,q){return A.indexOf(q)>=0?A:[].concat(zh(A),[q])},[]))}else if(y==="category")S?$=$.filter(function(A){return A!==""&&!xt(A)}):$=R5(R,$,p).reduce(function(A,q){return A.indexOf(q)>=0||q===""||xt(q)?A:[].concat(zh(A),[q])},[]);else if(y==="number"){var T=ORe(I,a.filter(function(A){var q,L,J=o in A.props?A.props[o]:(q=A.type.defaultProps)===null||q===void 0?void 0:q[o],le="hide"in A.props?A.props.hide:(L=A.type.defaultProps)===null||L===void 0?void 0:L.hide;return J===C&&(j||!le)}),w,i,d);T&&($=T)}m&&(y==="number"||k!=="auto")&&(V=Lm(I,w,"category"))}else m?$=z0(0,M):l&&l[C]&&l[C].hasStack&&y==="number"?$=f==="expand"?[0,1]:pH(l[C].stackGroups,c,u):$=hH(I,a.filter(function(A){var q=o in A.props?A.props[o]:A.type.defaultProps[o],L="hide"in A.props?A.props.hide:A.type.defaultProps.hide;return q===C&&(j||!L)}),y,d,!0);if(y==="number")$=k2(h,$,C,i,_),R&&($=Hk(R,$,N));else if(y==="category"&&R){var D=R,X=$.every(function(A){return D.indexOf(A)>=0});X&&($=D)}}return oe(oe({},g),{},Xe({},C,oe(oe({},b),{},{axisType:i,domain:$,categoricalDomain:V,duplicateDomain:W,originalDomain:(x=b.domain)!==null&&x!==void 0?x:E,isCategorical:m,layout:d})))},{})},mBe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,f=Jw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=f.length,g=fH(d,i),p=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?oe(oe({},b.type.defaultProps),b.props):b.props,w=y[o],N=wG("number");if(!x[w]){p++;var S;return g?S=z0(0,m):l&&l[w]&&l[w].hasStack?(S=pH(l[w].stackGroups,c,u),S=k2(h,S,w,i)):(S=Hk(N,hH(f,n.filter(function(k){var _,j,C=o in k.props?k.props[o]:(_=k.type.defaultProps)===null||_===void 0?void 0:_[o],I="hide"in k.props?k.props.hide:(j=k.type.defaultProps)===null||j===void 0?void 0:j.hide;return C===w&&!I}),"number",d),a.defaultProps.allowDataOverflow),S=k2(h,S,w,i)),oe(oe({},x),{},Xe({},w,oe(oe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ys(cBe,"".concat(i,".").concat(p%2),null),domain:S,originalDomain:N,isCategorical:g,layout:d})))}return x},{})},pBe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,h="".concat(a,"Id"),f=Qs(d,i),m={};return f&&f.length?m=fBe(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=mBe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},gBe=function(t){var r=Uo(t),n=Wi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tT(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:A0(r,n)}},s3=function(t){var r=t.children,n=t.defaultShowTooltip,a=ms(r,Oh),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},vBe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Xi(r&&r.type);return n&&n.indexOf("Bar")>=0})},a3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xBe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,f=n.margin||{},m=ms(h,Oh),g=ms(h,Dd),p=Object.keys(c).reduce(function(S,k){var _=c[k],j=_.orientation;return!_.mirror&&!_.hide?oe(oe({},S),{},Xe({},j,S[j]+_.width)):S},{left:f.left||0,right:f.right||0}),x=Object.keys(o).reduce(function(S,k){var _=o[k],j=_.orientation;return!_.mirror&&!_.hide?oe(oe({},S),{},Xe({},j,Ys(S,"".concat(j))+_.height)):S},{top:f.top||0,bottom:f.bottom||0}),b=oe(oe({},x),p),y=b.bottom;m&&(b.bottom+=m.props.height||Oh.defaultProps.height),g&&r&&(b=ERe(b,a,n,r));var w=u-b.left-b.right,N=d-b.top-b.bottom;return oe(oe({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(N,0)})},yBe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},bBe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(b,y){var w=y.graphicalItems,N=y.stackGroups,S=y.offset,k=y.updateId,_=y.dataStartIndex,j=y.dataEndIndex,C=b.barSize,I=b.layout,M=b.barGap,$=b.barCategoryGap,W=b.maxBarSize,V=a3(I),E=V.numericAxisName,P=V.cateAxisName,R=vBe(w),O=[];return w.forEach(function(T,D){var X=Jw(b.data,{graphicalItems:[T],dataStartIndex:_,dataEndIndex:j}),A=T.type.defaultProps!==void 0?oe(oe({},T.type.defaultProps),T.props):T.props,q=A.dataKey,L=A.maxBarSize,J=A["".concat(E,"Id")],le=A["".concat(P,"Id")],H={},re=c.reduce(function(it,Rr){var ce=y["".concat(Rr.axisType,"Map")],Ee=A["".concat(Rr.axisType,"Id")];ce&&ce[Ee]||Rr.axisType==="zAxis"||xu();var Pe=ce[Ee];return oe(oe({},it),{},Xe(Xe({},Rr.axisType,Pe),"".concat(Rr.axisType,"Ticks"),Wi(Pe)))},H),te=re[P],ie=re["".concat(P,"Ticks")],ee=N&&N[J]&&N[J].hasStack&&VRe(T,N[J].stackGroups),K=Xi(T.type).indexOf("Bar")>=0,he=A0(te,ie),ue=[],be=R&&CRe({barSize:C,stackGroups:N,totalSize:yBe(re,P)});if(K){var Me,Se,tt=xt(L)?W:L,ft=(Me=(Se=A0(te,ie,!0))!==null&&Se!==void 0?Se:tt)!==null&&Me!==void 0?Me:0;ue=PRe({barGap:M,barCategoryGap:$,bandSize:ft!==he?ft:he,sizeList:be[le],maxBarSize:tt}),ft!==he&&(ue=ue.map(function(it){return oe(oe({},it),{},{position:oe(oe({},it.position),{},{offset:it.position.offset-ft/2})})}))}var kt=T&&T.type&&T.type.getComposedData;kt&&O.push({props:oe(oe({},kt(oe(oe({},re),{},{displayedData:X,props:b,dataKey:q,item:T,bandSize:he,barPosition:ue,offset:S,stackedData:ee,layout:I,dataStartIndex:_,dataEndIndex:j}))),{},Xe(Xe(Xe({key:T.key||"item-".concat(D)},E,re[E]),P,re[P]),"animationId",k)),childIndex:Sje(T,b.children),item:T})}),O},m=function(b,y){var w=b.props,N=b.dataStartIndex,S=b.dataEndIndex,k=b.updateId;if(!PR({props:w}))return null;var _=w.children,j=w.layout,C=w.stackOffset,I=w.data,M=w.reverseStackOrder,$=a3(j),W=$.numericAxisName,V=$.cateAxisName,E=Qs(_,n),P=BRe(I,E,"".concat(W,"Id"),"".concat(V,"Id"),C,M),R=c.reduce(function(A,q){var L="".concat(q.axisType,"Map");return oe(oe({},A),{},Xe({},L,pBe(w,oe(oe({},q),{},{graphicalItems:E,stackGroups:q.axisType===W&&P,dataStartIndex:N,dataEndIndex:S}))))},{}),O=xBe(oe(oe({},R),{},{props:w,graphicalItems:E}),y==null?void 0:y.legendBBox);Object.keys(R).forEach(function(A){R[A]=d(w,R[A],O,A.replace("Map",""),r)});var T=R["".concat(V,"Map")],D=gBe(T),X=f(w,oe(oe({},R),{},{dataStartIndex:N,dataEndIndex:S,updateId:k,graphicalItems:E,stackGroups:P,offset:O}));return oe(oe({formattedGraphicalItems:X,graphicalItems:E,offset:O,stackGroups:P},D),R)},g=function(x){function b(y){var w,N,S;return ZFe(this,b),S=tBe(this,b,[y]),Xe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xe(S,"accessibilityManager",new LFe),Xe(S,"handleLegendBBoxUpdate",function(k){if(k){var _=S.state,j=_.dataStartIndex,C=_.dataEndIndex,I=_.updateId;S.setState(oe({legendBBox:k},m({props:S.props,dataStartIndex:j,dataEndIndex:C,updateId:I},oe(oe({},S.state),{},{legendBBox:k}))))}}),Xe(S,"handleReceiveSyncEvent",function(k,_,j){if(S.props.syncId===k){if(j===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(_)}}),Xe(S,"handleBrushChange",function(k){var _=k.startIndex,j=k.endIndex;if(_!==S.state.dataStartIndex||j!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return oe({dataStartIndex:_,dataEndIndex:j},m({props:S.props,dataStartIndex:_,dataEndIndex:j,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:_,dataEndIndex:j})}}),Xe(S,"handleMouseEnter",function(k){var _=S.getMouseInfo(k);if(_){var j=oe(oe({},_),{},{isTooltipActive:!0});S.setState(j),S.triggerSyncEvent(j);var C=S.props.onMouseEnter;pt(C)&&C(j,k)}}),Xe(S,"triggeredAfterMouseMove",function(k){var _=S.getMouseInfo(k),j=_?oe(oe({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(j),S.triggerSyncEvent(j);var C=S.props.onMouseMove;pt(C)&&C(j,k)}),Xe(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Xe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Xe(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),Xe(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var j=S.props.onMouseLeave;pt(j)&&j(_,k)}),Xe(S,"handleOuterEvent",function(k){var _=Nje(k),j=Ys(S.props,"".concat(_));if(_&&pt(j)){var C,I;/.*touch.*/i.test(_)?I=S.getMouseInfo(k.changedTouches[0]):I=S.getMouseInfo(k),j((C=I)!==null&&C!==void 0?C:{},k)}}),Xe(S,"handleClick",function(k){var _=S.getMouseInfo(k);if(_){var j=oe(oe({},_),{},{isTooltipActive:!0});S.setState(j),S.triggerSyncEvent(j);var C=S.props.onClick;pt(C)&&C(j,k)}}),Xe(S,"handleMouseDown",function(k){var _=S.props.onMouseDown;if(pt(_)){var j=S.getMouseInfo(k);_(j,k)}}),Xe(S,"handleMouseUp",function(k){var _=S.props.onMouseUp;if(pt(_)){var j=S.getMouseInfo(k);_(j,k)}}),Xe(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Xe(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),Xe(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),Xe(S,"handleDoubleClick",function(k){var _=S.props.onDoubleClick;if(pt(_)){var j=S.getMouseInfo(k);_(j,k)}}),Xe(S,"handleContextMenu",function(k){var _=S.props.onContextMenu;if(pt(_)){var j=S.getMouseInfo(k);_(j,k)}}),Xe(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&b_.emit(w_,S.props.syncId,k,S.eventEmitterSymbol)}),Xe(S,"applySyncEvent",function(k){var _=S.props,j=_.layout,C=_.syncMethod,I=S.state.updateId,M=k.dataStartIndex,$=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(oe({dataStartIndex:M,dataEndIndex:$},m({props:S.props,dataStartIndex:M,dataEndIndex:$,updateId:I},S.state)));else if(k.activeTooltipIndex!==void 0){var W=k.chartX,V=k.chartY,E=k.activeTooltipIndex,P=S.state,R=P.offset,O=P.tooltipTicks;if(!R)return;if(typeof C=="function")E=C(O,k);else if(C==="value"){E=-1;for(var T=0;T<O.length;T++)if(O[T].value===k.activeLabel){E=T;break}}var D=oe(oe({},R),{},{x:R.left,y:R.top}),X=Math.min(W,D.x+D.width),A=Math.min(V,D.y+D.height),q=O[E]&&O[E].value,L=E2(S.state,S.props.data,E),J=O[E]?{x:j==="horizontal"?O[E].coordinate:X,y:j==="horizontal"?A:O[E].coordinate}:bG;S.setState(oe(oe({},k),{},{activeLabel:q,activeCoordinate:J,activePayload:L,activeTooltipIndex:E}))}else S.setState(k)}),Xe(S,"renderCursor",function(k){var _,j=S.state,C=j.isTooltipActive,I=j.activeCoordinate,M=j.activePayload,$=j.offset,W=j.activeTooltipIndex,V=j.tooltipAxisBandSize,E=S.getTooltipEventType(),P=(_=k.props.active)!==null&&_!==void 0?_:C,R=S.props.layout,O=k.key||"_recharts-cursor";return B.createElement(qFe,{key:O,activeCoordinate:I,activePayload:M,activeTooltipIndex:W,chartName:r,element:k,isActive:P,layout:R,offset:$,tooltipAxisBandSize:V,tooltipEventType:E})}),Xe(S,"renderPolarAxis",function(k,_,j){var C=Ys(k,"type.axisType"),I=Ys(S.state,"".concat(C,"Map")),M=k.type.defaultProps,$=M!==void 0?oe(oe({},M),k.props):k.props,W=I&&I[$["".concat(C,"Id")]];return v.cloneElement(k,oe(oe({},W),{},{className:Nt(C,W.className),key:k.key||"".concat(_,"-").concat(j),ticks:Wi(W,!0)}))}),Xe(S,"renderPolarGrid",function(k){var _=k.props,j=_.radialLines,C=_.polarAngles,I=_.polarRadius,M=S.state,$=M.radiusAxisMap,W=M.angleAxisMap,V=Uo($),E=Uo(W),P=E.cx,R=E.cy,O=E.innerRadius,T=E.outerRadius;return v.cloneElement(k,{polarAngles:Array.isArray(C)?C:Wi(E,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(I)?I:Wi(V,!0).map(function(D){return D.coordinate}),cx:P,cy:R,innerRadius:O,outerRadius:T,key:k.key||"polar-grid",radialLines:j})}),Xe(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,_=S.props,j=_.children,C=_.width,I=_.height,M=S.props.margin||{},$=C-(M.left||0)-(M.right||0),W=uH({children:j,formattedGraphicalItems:k,legendWidth:$,legendContent:u});if(!W)return null;var V=W.item,E=t3(W,HFe);return v.cloneElement(V,oe(oe({},E),{},{chartWidth:C,chartHeight:I,margin:M,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Xe(S,"renderTooltip",function(){var k,_=S.props,j=_.children,C=_.accessibilityLayer,I=ms(j,Xa);if(!I)return null;var M=S.state,$=M.isTooltipActive,W=M.activeCoordinate,V=M.activePayload,E=M.activeLabel,P=M.offset,R=(k=I.props.active)!==null&&k!==void 0?k:$;return v.cloneElement(I,{viewBox:oe(oe({},P),{},{x:P.left,y:P.top}),active:R,label:E,payload:R?V:[],coordinate:W,accessibilityLayer:C})}),Xe(S,"renderBrush",function(k){var _=S.props,j=_.margin,C=_.data,I=S.state,M=I.offset,$=I.dataStartIndex,W=I.dataEndIndex,V=I.updateId;return v.cloneElement(k,{key:k.key||"_recharts-brush",onChange:cx(S.handleBrushChange,k.props.onChange),data:C,x:je(k.props.x)?k.props.x:M.left,y:je(k.props.y)?k.props.y:M.top+M.height+M.brushBottom-(j.bottom||0),width:je(k.props.width)?k.props.width:M.width,startIndex:$,endIndex:W,updateId:"brush-".concat(V)})}),Xe(S,"renderReferenceElement",function(k,_,j){if(!k)return null;var C=S,I=C.clipPathId,M=S.state,$=M.xAxisMap,W=M.yAxisMap,V=M.offset,E=k.type.defaultProps||{},P=k.props,R=P.xAxisId,O=R===void 0?E.xAxisId:R,T=P.yAxisId,D=T===void 0?E.yAxisId:T;return v.cloneElement(k,{key:k.key||"".concat(_,"-").concat(j),xAxis:$[O],yAxis:W[D],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:I})}),Xe(S,"renderActivePoints",function(k){var _=k.item,j=k.activePoint,C=k.basePoint,I=k.childIndex,M=k.isRange,$=[],W=_.props.key,V=_.item.type.defaultProps!==void 0?oe(oe({},_.item.type.defaultProps),_.item.props):_.item.props,E=V.activeDot,P=V.dataKey,R=oe(oe({index:I,dataKey:P,cx:j.x,cy:j.y,r:4,fill:CT(_.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},_t(E,!1)),n0(E));return $.push(b.renderActiveDot(E,R,"".concat(W,"-activePoint-").concat(I))),C?$.push(b.renderActiveDot(E,oe(oe({},R),{},{cx:C.x,cy:C.y}),"".concat(W,"-basePoint-").concat(I))):M&&$.push(null),$}),Xe(S,"renderGraphicChild",function(k,_,j){var C=S.filterFormatItem(k,_,j);if(!C)return null;var I=S.getTooltipEventType(),M=S.state,$=M.isTooltipActive,W=M.tooltipAxis,V=M.activeTooltipIndex,E=M.activeLabel,P=S.props.children,R=ms(P,Xa),O=C.props,T=O.points,D=O.isRange,X=O.baseLine,A=C.item.type.defaultProps!==void 0?oe(oe({},C.item.type.defaultProps),C.item.props):C.item.props,q=A.activeDot,L=A.hide,J=A.activeBar,le=A.activeShape,H=!!(!L&&$&&R&&(q||J||le)),re={};I!=="axis"&&R&&R.props.trigger==="click"?re={onClick:cx(S.handleItemMouseEnter,k.props.onClick)}:I!=="axis"&&(re={onMouseLeave:cx(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:cx(S.handleItemMouseEnter,k.props.onMouseEnter)});var te=v.cloneElement(k,oe(oe({},C.props),re));function ie(Rr){return typeof W.dataKey=="function"?W.dataKey(Rr.payload):null}if(H)if(V>=0){var ee,K;if(W.dataKey&&!W.allowDuplicatedCategory){var he=typeof W.dataKey=="function"?ie:"payload.".concat(W.dataKey.toString());ee=r0(T,he,E),K=D&&X&&r0(X,he,E)}else ee=T==null?void 0:T[V],K=D&&X&&X[V];if(le||J){var ue=k.props.activeIndex!==void 0?k.props.activeIndex:V;return[v.cloneElement(k,oe(oe(oe({},C.props),re),{},{activeIndex:ue})),null,null]}if(!xt(ee))return[te].concat(zh(S.renderActivePoints({item:C,activePoint:ee,basePoint:K,childIndex:V,isRange:D})))}else{var be,Me=(be=S.getItemByXY(S.state.activeCoordinate))!==null&&be!==void 0?be:{graphicalItem:te},Se=Me.graphicalItem,tt=Se.item,ft=tt===void 0?k:tt,kt=Se.childIndex,it=oe(oe(oe({},C.props),re),{},{activeIndex:kt});return[v.cloneElement(ft,it),null,null]}return D?[te,null,null]:[te,null]}),Xe(S,"renderCustomized",function(k,_,j){return v.cloneElement(k,oe(oe({key:"recharts-customized-".concat(j)},S.props),S.state))}),Xe(S,"renderMap",{CartesianGrid:{handler:mx,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:mx},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:mx},YAxis:{handler:mx},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:ev("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=cq(S.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),S.state={},S}return sBe(b,x),eBe(b,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,S=w.data,k=w.height,_=w.layout,j=ms(N,Xa);if(j){var C=j.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,M=E2(this.state,S,C,I),$=this.state.tooltipTicks[C].coordinate,W=(this.state.offset.top+k)/2,V=_==="horizontal",E=V?{x:$,y:W}:{y:$,x:W},P=this.state.formattedGraphicalItems.find(function(O){var T=O.item;return T.type.name==="Scatter"});P&&(E=oe(oe({},E),P.props.points[C].tooltipPosition),M=P.props.points[C].tooltipPayload);var R={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:I,activePayload:M,activeCoordinate:E};this.setState(R),this.renderCursor(j),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){ok([ms(w.children,Xa)],[ms(this.props.children,Xa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ms(this.props.children,Xa);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,S=N.getBoundingClientRect(),k=ZOe(S),_={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},j=S.width/N.offsetWidth||1,C=this.inRange(_.chartX,_.chartY,j);if(!C)return null;var I=this.state,M=I.xAxisMap,$=I.yAxisMap,W=this.getTooltipEventType(),V=n3(this.state,this.props.data,this.props.layout,C);if(W!=="axis"&&M&&$){var E=Uo(M).scale,P=Uo($).scale,R=E&&E.invert?E.invert(_.chartX):null,O=P&&P.invert?P.invert(_.chartY):null;return oe(oe({},_),{},{xValue:R,yValue:O},V)}return V?oe(oe({},_),V):null}},{key:"inRange",value:function(w,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,_=w/S,j=N/S;if(k==="horizontal"||k==="vertical"){var C=this.state.offset,I=_>=C.left&&_<=C.left+C.width&&j>=C.top&&j<=C.top+C.height;return I?{x:_,y:j}:null}var M=this.state,$=M.angleAxisMap,W=M.radiusAxisMap;if($&&W){var V=Uo($);return L5({x:_,y:j},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),S=ms(w,Xa),k={};S&&N==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=n0(this.props,this.handleOuterEvent);return oe(oe({},_),k)}},{key:"addListener",value:function(){b_.on(w_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){b_.removeListener(w_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,S){for(var k=this.state.formattedGraphicalItems,_=0,j=k.length;_<j;_++){var C=k[_];if(C.item===w||C.props.key===w.key||N===Xi(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,S=N.left,k=N.top,_=N.height,j=N.width;return B.createElement("defs",null,B.createElement("clipPath",{id:w},B.createElement("rect",{x:S,y:k,height:_,width:j})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,S){var k=e3(S,2),_=k[0],j=k[1];return oe(oe({},N),{},Xe({},_,j.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,S){var k=e3(S,2),_=k[0],j=k[1];return oe(oe({},N),{},Xe({},_,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,S=N.formattedGraphicalItems,k=N.activeItem;if(S&&S.length)for(var _=0,j=S.length;_<j;_++){var C=S[_],I=C.props,M=C.item,$=M.type.defaultProps!==void 0?oe(oe({},M.type.defaultProps),M.props):M.props,W=Xi(M.type);if(W==="Bar"){var V=(I.data||[]).find(function(O){return MDe(w,O)});if(V)return{graphicalItem:C,payload:V}}else if(W==="RadialBar"){var E=(I.data||[]).find(function(O){return L5(w,O)});if(E)return{graphicalItem:C,payload:E}}else if(Ww(C,k)||qw(C,k)||lg(C,k)){var P=D3e({graphicalItem:C,activeTooltipItem:k,itemData:$.data}),R=$.activeIndex===void 0?P:$.activeIndex;return{graphicalItem:oe(oe({},C),{},{childIndex:R}),payload:lg(C,k)?$.data[P]:C.props.data[P]}}}return null}},{key:"render",value:function(){var w=this;if(!PR(this))return null;var N=this.props,S=N.children,k=N.className,_=N.width,j=N.height,C=N.style,I=N.compact,M=N.title,$=N.desc,W=t3(N,GFe),V=_t(W,!1);if(I)return B.createElement($D,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(ck,_d({},V,{width:_,height:j,title:M,desc:$}),this.renderClipPath(),TR(S,this.renderMap)));if(this.props.accessibilityLayer){var E,P;V.tabIndex=(E=this.props.tabIndex)!==null&&E!==void 0?E:0,V.role=(P=this.props.role)!==null&&P!==void 0?P:"application",V.onKeyDown=function(O){w.accessibilityManager.keyboardEvent(O)},V.onFocus=function(){w.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return B.createElement($D,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",_d({className:Nt("recharts-wrapper",k),style:oe({position:"relative",cursor:"default",width:_,height:j},C)},R,{ref:function(T){w.container=T}}),B.createElement(ck,_d({},V,{width:_,height:j,title:M,desc:$,style:uBe}),this.renderClipPath(),TR(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Xe(g,"displayName",r),Xe(g,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Xe(g,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,w=x.data,N=x.children,S=x.width,k=x.height,_=x.layout,j=x.stackOffset,C=x.margin,I=b.dataStartIndex,M=b.dataEndIndex;if(b.updateId===void 0){var $=s3(x);return oe(oe(oe({},$),{},{updateId:0},m(oe(oe({props:x},$),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:k,prevLayout:_,prevStackOffset:j,prevMargin:C,prevChildren:N})}if(y!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||k!==b.prevHeight||_!==b.prevLayout||j!==b.prevStackOffset||!$d(C,b.prevMargin)){var W=s3(x),V={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},E=oe(oe({},n3(b,w,_)),{},{updateId:b.updateId+1}),P=oe(oe(oe({},W),V),E);return oe(oe(oe({},P),m(oe({props:x},P),b)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:k,prevLayout:_,prevStackOffset:j,prevMargin:C,prevChildren:N})}if(!ok(N,b.prevChildren)){var R,O,T,D,X=ms(N,Oh),A=X&&(R=(O=X.props)===null||O===void 0?void 0:O.startIndex)!==null&&R!==void 0?R:I,q=X&&(T=(D=X.props)===null||D===void 0?void 0:D.endIndex)!==null&&T!==void 0?T:M,L=A!==I||q!==M,J=!xt(w),le=J&&!L?b.updateId:b.updateId+1;return oe(oe({updateId:le},m(oe(oe({props:x},b),{},{updateId:le,dataStartIndex:A,dataEndIndex:q}),b)),{},{prevChildren:N,dataStartIndex:A,dataEndIndex:q})}return null}),Xe(g,"renderActiveDot",function(x,b,y){var w;return v.isValidElement(x)?w=v.cloneElement(x,b):pt(x)?w=x(b):w=B.createElement(ET,b),B.createElement(Ir,{className:"recharts-active-dot",key:y},w)});var p=v.forwardRef(function(b,y){return B.createElement(g,_d({},b,{ref:y}))});return p.displayName=g.displayName,p},wBe=bBe({chartName:"LineChart",GraphicalChild:lv,axisComponents:[{axisType:"xAxis",AxisComp:Qw},{axisType:"yAxis",AxisComp:Zw}],formatAxisMap:l6e});function px({title:e,value:t,icon:r,trend:n,variant:a="default"}){const i={default:"bg-card",warning:"bg-accent/10 border-accent/30",success:"bg-primary/10 border-primary/30"};return s.jsxs(me,{className:`${i[a]} transition-all hover:shadow-md`,children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium text-muted-foreground",children:e}),s.jsx(r,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(pe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t}),n&&s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(LC,{className:"h-3 w-3 text-primary"}),n]})]})]})}const jBe=[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"custom",label:"Custom"}];function _Be(){const[e,t]=v.useState(null),[r,n]=v.useState(!0),[a,i]=v.useState("week"),[o,l]=v.useState(),[c,u]=v.useState(),[d,h]=v.useState(!1),[f,m]=v.useState(!1);v.useEffect(()=>{g()},[a,o,c]);const g=async()=>{try{n(!0);const w=await g0e({range:a,startDate:o,endDate:c});t(w)}catch(y){console.error("Error loading dashboard stats:",y)}finally{n(!1)}},p=y=>{i(y),y!=="custom"&&(l(void 0),u(void 0))},x=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y),b=(e==null?void 0:e.recentOrders.reduce((y,w)=>{const N=new Date(w.created_at).toLocaleDateString("en-US",{weekday:"short"}),S=y.find(k=>k.date===N);return S?(S.orders+=1,S.revenue+=Number(w.total)):y.push({date:N,orders:1,revenue:Number(w.total)}),y},[]))||[];return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Dashboard"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((y,w)=>s.jsxs(me,{children:[s.jsx(we,{className:"pb-2",children:s.jsx(St,{className:"h-4 w-24"})}),s.jsx(pe,{children:s.jsx(St,{className:"h-8 w-16"})})]},w))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's your store overview."})]}),s.jsx("div",{className:"flex flex-wrap items-center gap-2",children:jBe.map(y=>s.jsx(U,{variant:a===y.value?"default":"outline",size:"sm",onClick:()=>p(y.value),children:y.label},y.value))})]}),a==="custom"&&s.jsxs("div",{className:"flex flex-wrap items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"From:"}),s.jsxs(fu,{open:d,onOpenChange:h,children:[s.jsx(mu,{asChild:!0,children:s.jsxs(U,{variant:"outline",className:de("w-[180px] justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[s.jsx(ao,{className:"mr-2 h-4 w-4"}),o?ot(o,"PPP"):"Start date"]})}),s.jsx(Il,{className:"w-auto p-0",align:"start",children:s.jsx(Al,{mode:"single",selected:o,onSelect:y=>{l(y),h(!1)},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"To:"}),s.jsxs(fu,{open:f,onOpenChange:m,children:[s.jsx(mu,{asChild:!0,children:s.jsxs(U,{variant:"outline",className:de("w-[180px] justify-start text-left font-normal",!c&&"text-muted-foreground"),children:[s.jsx(ao,{className:"mr-2 h-4 w-4"}),c?ot(c,"PPP"):"End date"]})}),s.jsx(Il,{className:"w-auto p-0",align:"start",children:s.jsx(Al,{mode:"single",selected:c,onSelect:y=>{u(y),m(!1)},disabled:y=>o?y<o:!1,initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),(e==null?void 0:e.dateRange)&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing data from ",ot(e.dateRange.start,"MMM d, yyyy")," to ",ot(e.dateRange.end,"MMM d, yyyy")]})]}),a!=="custom"&&(e==null?void 0:e.dateRange)&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" Showing data from ",ot(e.dateRange.start,"MMM d, yyyy")," to ",ot(e.dateRange.end,"MMM d, yyyy")]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(px,{title:"Total Revenue",value:x((e==null?void 0:e.totalRevenue)||0),icon:xy,variant:"success"}),s.jsx(px,{title:"Total Orders",value:(e==null?void 0:e.totalOrders)||0,icon:En}),s.jsx(px,{title:"Total Products",value:(e==null?void 0:e.totalProducts)||0,icon:Tr}),s.jsx(px,{title:"Total Users",value:(e==null?void 0:e.totalUsers)||0,icon:Dl})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(me,{className:"border-accent/30",children:[s.jsxs(we,{className:"flex flex-row items-center gap-2",children:[s.jsx(ea,{className:"h-4 w-4 text-accent"}),s.jsx(_e,{className:"text-lg",children:"Pending Orders"})]}),s.jsxs(pe,{children:[s.jsx("div",{className:"text-4xl font-bold text-accent",children:(e==null?void 0:e.pendingOrders)||0}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Orders awaiting processing"})]})]}),s.jsxs(me,{className:"border-destructive/30",children:[s.jsxs(we,{className:"flex flex-row items-center gap-2",children:[s.jsx(yi,{className:"h-4 w-4 text-destructive"}),s.jsx(_e,{className:"text-lg",children:"Low Stock Alert"})]}),s.jsxs(pe,{children:[s.jsx("div",{className:"text-4xl font-bold text-destructive",children:(e==null?void 0:e.lowStockProducts)||0}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Products with stock below 10"})]})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsx(_e,{children:"Orders This Week"})}),s.jsx(pe,{children:s.jsx("div",{className:"h-[300px]",children:b.length>0?s.jsx(qOe,{width:"100%",height:"100%",children:s.jsxs(wBe,{data:b,children:[s.jsx(aG,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Qw,{dataKey:"date",className:"text-muted-foreground"}),s.jsx(Zw,{className:"text-muted-foreground"}),s.jsx(Xa,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),s.jsx(lv,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))"}})]})}):s.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No orders this week yet"})})})]})]})}var e1="Switch",[NBe,LHe]=On(e1),[SBe,kBe]=NBe(e1),jG=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=v.useState(null),g=lt(t,w=>m(w)),p=v.useRef(!1),x=f?d||!!f.closest("form"):!0,[b,y]=Es({prop:a,defaultProp:i??!1,onChange:u,caller:e1});return s.jsxs(SBe,{scope:r,checked:b,disabled:l,children:[s.jsx(Be.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":kG(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:Ie(e.onClick,w=>{y(N=>!N),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&s.jsx(SG,{control:f,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});jG.displayName=e1;var _G="SwitchThumb",NG=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=kBe(_G,r);return s.jsx(Be.span,{"data-state":kG(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});NG.displayName=_G;var CBe="SwitchBubbleInput",SG=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=v.useRef(null),l=lt(o,i),c=aE(r),u=GC(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SG.displayName=CBe;function kG(e){return e?"checked":"unchecked"}var CG=jG,PBe=NG;const gt=v.forwardRef(({className:e,...t},r)=>s.jsx(CG,{className:de("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(PBe,{className:de("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));gt.displayName=CG.displayName;const Ss=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:de("w-full caption-bottom text-sm",e),...t})}));Ss.displayName="Table";const ks=v.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:de("[&_tr]:border-b",e),...t}));ks.displayName="TableHeader";const Cs=v.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:de("[&_tr:last-child]:border-0",e),...t}));Cs.displayName="TableBody";const EBe=v.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:de("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));EBe.displayName="TableFooter";const Et=v.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:de("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Et.displayName="TableRow";const Ne=v.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:de("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ne.displayName="TableHead";const xe=v.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:de("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xe.displayName="TableCell";const TBe=v.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:de("mt-4 text-sm text-muted-foreground",e),...t}));TBe.displayName="TableCaption";const Jr=jE,cv=hV,OBe=_E,PG=v.forwardRef(({className:e,...t},r)=>s.jsx(Wg,{ref:r,className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));PG.displayName=Wg.displayName;const zr=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(OBe,{children:[s.jsx(PG,{}),s.jsxs(qg,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(ow,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zr.displayName=qg.displayName;const Ur=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ur.displayName="DialogHeader";const qi=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qi.displayName="DialogFooter";const Vr=v.forwardRef(({className:e,...t},r)=>s.jsx(Hg,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",e),...t}));Vr.displayName=Hg.displayName;const al=v.forwardRef(({className:e,...t},r)=>s.jsx(Gg,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));al.displayName=Gg.displayName;const i3={name:"",slug:"",description:"",short_description:"",long_description:"",price:0,original_price:0,category_id:"",stock:0,images:"",video_url:"",tags:"",is_featured:!1,is_new:!1,is_active:!0},ABe=[{clientId:crypto.randomUUID(),name:"Size 36",price:0,stock:100,sort_order:1,is_active:!0},{clientId:crypto.randomUUID(),name:"Size 38",price:0,stock:100,sort_order:2,is_active:!0},{clientId:crypto.randomUUID(),name:"Size 40",price:0,stock:100,sort_order:3,is_active:!0}];function IBe(){const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,i]=v.useState(!0),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,h]=v.useState(null),[f,m]=v.useState(i3),[g,p]=v.useState(!1),[x,b]=v.useState(void 0),[y,w]=v.useState([]),[N,S]=v.useState(!1),[k,_]=v.useState([]),[j,C]=v.useState(!1),I=v.useRef(null);v.useEffect(()=>{M()},[]);const M=async()=>{try{const[H,re]=await Promise.all([GV(),KV()]);t(H||[]),n(re||[])}catch{G.error("Failed to load products")}finally{i(!1)}},$=async H=>{const{data:re,error:te}=await Q.from("product_variations").select("*").eq("product_id",H).order("sort_order");if(te){console.error("Failed to load variations:",te),w([]),S(!1);return}if(re&&re.length>0){const ie=Array.from(new Map(re.sort((ee,K)=>(ee.sort_order||0)-(K.sort_order||0)).map(ee=>[String(ee.name).trim().toLowerCase(),ee])).values());w(ie.map(ee=>({id:ee.id,clientId:ee.id??crypto.randomUUID(),name:ee.name,price:ee.price,original_price:ee.original_price||void 0,stock:ee.stock,sort_order:ee.sort_order||0,is_active:ee.is_active??!0}))),S(!0)}else w([]),S(!1)},W=e.filter(H=>{const re=H.name.toLowerCase().includes(o.toLowerCase());if(x!=null&&x.from){const te=H.created_at?new Date(H.created_at):null;if(!te)return!1;const ie=xs(x.from),ee=x.to?Fi(x.to):Fi(x.from),K=a7(te,{start:ie,end:ee});return re&&K}return re}),V=()=>{h(null),m(i3),w([]),S(!1),_([]),u(!0)},E=async H=>{var re;h(H),m({name:H.name,slug:H.slug,description:H.description||"",short_description:H.short_description||"",long_description:H.long_description||"",price:H.price,original_price:H.original_price||0,category_id:H.category_id||"",stock:H.stock,images:"",video_url:H.video_url||"",tags:((re=H.tags)==null?void 0:re.join(", "))||"",is_featured:H.is_featured||!1,is_new:H.is_new||!1,is_active:H.is_active??!0}),_(H.images||[]),await $(H.id),u(!0)},P=async H=>{const re=H.target.files;if(!(!re||re.length===0)){C(!0);try{for(const te of Array.from(re)){if(!te.type.startsWith("image/")){G.error(`${te.name} is not an image`);continue}if(te.size>5*1024*1024){G.error(`${te.name} is too large (max 5MB)`);continue}const ie=te.name.split(".").pop(),ee=`products/${Date.now()}-${Math.random().toString(36).substring(7)}.${ie}`,{data:K,error:he}=await Q.storage.from("shop-assets").upload(ee,te);if(he){console.error("Upload error:",he),G.error(`Failed to upload ${te.name}`);continue}const{data:ue}=Q.storage.from("shop-assets").getPublicUrl(ee);_(be=>[...be,ue.publicUrl]),G.success(`${te.name} uploaded successfully`)}}catch(te){console.error("Upload error:",te),G.error("Failed to upload images")}finally{C(!1),I.current&&(I.current.value="")}}},R=H=>{_(re=>re.filter((te,ie)=>ie!==H))},O=()=>{const H=f.images.trim();H&&H.startsWith("http")&&(_(re=>[...re,H]),m({...f,images:""}))},T=()=>{w([...y,{clientId:crypto.randomUUID(),name:"",price:0,stock:100,sort_order:y.length+1,is_active:!0}])},D=()=>{w(ABe.map(H=>({...H,clientId:crypto.randomUUID()}))),S(!0)},X=H=>{w(re=>re.filter(te=>te.clientId!==H))},A=(H,re,te)=>{w(ie=>ie.map(ee=>ee.clientId===H?{...ee,[re]:te}:ee))},q=async H=>{if(await Q.from("product_variations").delete().eq("product_id",H),N&&y.length>0){const re=y.filter(ie=>ie.name&&ie.price>0),te=Array.from(new Map(re.map(ie=>[String(ie.name).trim().toLowerCase(),ie])).values());if(te.length>0){const{error:ie}=await Q.from("product_variations").insert(te.map((ee,K)=>({product_id:H,name:ee.name,price:ee.price,original_price:ee.original_price||null,stock:ee.stock,sort_order:K+1,is_active:ee.is_active})));ie&&(console.error("Failed to save variations:",ie),G.error("Failed to save variations"))}}},L=async H=>{H.preventDefault(),p(!0);try{const re={name:f.name,slug:f.slug||f.name.toLowerCase().replace(/\s+/g,"-"),description:f.description||void 0,short_description:f.short_description||void 0,long_description:f.long_description||void 0,price:f.price,original_price:f.original_price||void 0,category_id:f.category_id||void 0,stock:f.stock,images:k.length>0?k:[],video_url:f.video_url||void 0,tags:f.tags?f.tags.split(",").map(ie=>ie.trim()):[],is_featured:f.is_featured,is_new:f.is_new,is_active:f.is_active};let te;d?(await v0e(d.id,re),te=d.id,G.success("Product updated successfully")):(te=(await hR(re)).id,G.success("Product created successfully")),await q(te),u(!1),M()}catch{G.error("Failed to save product")}finally{p(!1)}},J=async H=>{if(confirm("Are you sure you want to delete this product?"))try{await Q.from("product_variations").delete().eq("product_id",H),await x0e(H),G.success("Product deleted successfully"),M()}catch{G.error("Failed to delete product")}},le=async H=>{try{p(!0);const re={name:`${H.name} (Copy)`,slug:`${H.slug}-copy-${Date.now()}`,description:H.description||void 0,short_description:H.short_description||void 0,long_description:H.long_description||void 0,price:H.price,original_price:H.original_price||void 0,category_id:H.category_id||void 0,stock:H.stock,images:H.images||[],video_url:H.video_url||void 0,tags:H.tags||[],is_featured:H.is_featured||!1,is_new:H.is_new||!1,is_active:!1},te=await hR(re),{data:ie}=await Q.from("product_variations").select("*").eq("product_id",H.id).order("sort_order");ie&&ie.length>0&&await Q.from("product_variations").insert(ie.map((ee,K)=>({product_id:te.id,name:ee.name,price:ee.price,original_price:ee.original_price||null,stock:ee.stock,sort_order:K+1,is_active:ee.is_active}))),G.success("  "),M()}catch(re){console.error("Duplicate error:",re),G.error("   ")}finally{p(!1)}};return a?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(St,{className:"h-8 w-32"}),s.jsx(St,{className:"h-10 w-32"})]}),s.jsx(me,{children:s.jsx(pe,{className:"p-0",children:s.jsx("div",{className:"space-y-4 p-4",children:[...Array(5)].map((H,re)=>s.jsx(St,{className:"h-12 w-full"},re))})})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your product catalog"})]}),s.jsxs(Jr,{open:c,onOpenChange:u,children:[s.jsx(cv,{asChild:!0,children:s.jsxs(U,{onClick:V,className:"gap-2",children:[s.jsx(qt,{className:"h-4 w-4"}),"Add Product"]})}),s.jsxs(zr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ur,{children:s.jsx(Vr,{children:d?"Edit Product":"Add New Product"})}),s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"name",children:"Name *"}),s.jsx(F,{id:"name",value:f.name,onChange:H=>m({...f,name:H.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"slug",children:"Slug"}),s.jsx(F,{id:"slug",value:f.slug,onChange:H=>m({...f,slug:H.target.value}),placeholder:"auto-generated if empty"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"short_description",children:"Short Description (  )"}),s.jsx(wt,{id:"short_description",value:f.short_description,onChange:H=>m({...f,short_description:H.target.value}),rows:3,placeholder:"    "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"long_description",children:"Long Description (   )"}),s.jsx(wt,{id:"long_description",value:f.long_description,onChange:H=>m({...f,long_description:H.target.value}),rows:6,placeholder:"  - , ,  "})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"price",children:"Base Price *"}),s.jsx(F,{id:"price",type:"number",step:"0.01",value:f.price,onChange:H=>m({...f,price:parseFloat(H.target.value)}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"original_price",children:"Original Price"}),s.jsx(F,{id:"original_price",type:"number",step:"0.01",value:f.original_price,onChange:H=>m({...f,original_price:parseFloat(H.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"stock",children:"Stock *"}),s.jsx(F,{id:"stock",type:"number",value:f.stock,onChange:H=>m({...f,stock:parseInt(H.target.value)}),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"category",children:"Category"}),s.jsxs(Zt,{value:f.category_id,onValueChange:H=>m({...f,category_id:H}),children:[s.jsx(Vt,{children:s.jsx(Jt,{placeholder:"Select category"})}),s.jsx(Wt,{children:r.map(H=>s.jsx(qe,{value:H.id,children:H.name},H.id))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(z,{className:"flex items-center gap-2",children:[s.jsx(xi,{className:"h-4 w-4"}),"  (Product Images)"]}),k.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:k.map((H,re)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:H,alt:`Product ${re+1}`,className:"w-20 h-20 object-cover rounded-lg border border-border"}),s.jsx("button",{type:"button",onClick:()=>R(re),className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(er,{className:"h-3 w-3"})})]},re))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"file",ref:I,onChange:P,accept:"image/*",multiple:!0,className:"hidden"}),s.jsx(U,{type:"button",variant:"outline",onClick:()=>{var H;return(H=I.current)==null?void 0:H.click()},disabled:j,className:"gap-2",children:j?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"h-4 w-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(si,{className:"h-4 w-4"}),"  "]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{id:"images",value:f.images,onChange:H=>m({...f,images:H.target.value}),placeholder:"Or paste image URL here...",className:"flex-1"}),s.jsx(U,{type:"button",variant:"secondary",onClick:O,disabled:!f.images.trim(),children:s.jsx(qt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{htmlFor:"video_url",className:"flex items-center gap-2",children:[s.jsx(Pg,{className:"h-4 w-4"}),"  (Product Video)"]}),s.jsx(wt,{id:"video_url",value:f.video_url,onChange:H=>m({...f,video_url:H.target.value}),placeholder:"YouTube/Facebook   Facebook Embed  (<iframe...>)  ",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:": YouTube, YouTube Shorts, Facebook Video, Facebook Reel,   URL (.mp4),  Facebook Embed Code"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:": https://www.facebook.com/reel/123456789   <iframe...> "}),f.video_url&&s.jsxs("div",{className:"mt-2 p-2 bg-muted rounded-lg flex items-center gap-2",children:[s.jsx("span",{className:"text-green-600",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"   -       "})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(F,{id:"tags",value:f.tags,onChange:H=>m({...f,tags:H.target.value}),placeholder:"electronics, gadgets, new"})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{id:"is_active",checked:f.is_active,onCheckedChange:H=>m({...f,is_active:H})}),s.jsx(z,{htmlFor:"is_active",children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{id:"is_featured",checked:f.is_featured,onCheckedChange:H=>m({...f,is_featured:H})}),s.jsx(z,{htmlFor:"is_featured",children:"Featured"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{id:"is_new",checked:f.is_new,onCheckedChange:H=>m({...f,is_new:H})}),s.jsx(z,{htmlFor:"is_new",children:"New"})]})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"h-5 w-5 text-primary"}),s.jsx(z,{className:"text-base font-semibold",children:"  (Size Variations)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{id:"hasVariations",checked:N,onCheckedChange:H=>{S(H),H&&y.length===0&&D()}}),s.jsx(z,{htmlFor:"hasVariations",className:"text-sm",children:"Enable"})]})]}),N&&s.jsxs("div",{className:"space-y-3 bg-muted/50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-medium text-muted-foreground mb-2",children:[s.jsx("div",{className:"col-span-3",children:" (Size)"}),s.jsx("div",{className:"col-span-3",children:" (Price) "}),s.jsx("div",{className:"col-span-3",children:" "}),s.jsx("div",{className:"col-span-2",children:""}),s.jsx("div",{className:"col-span-1"})]}),y.map(H=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[s.jsx(F,{className:"col-span-3",placeholder:"Size 36",value:H.name,onChange:re=>A(H.clientId,"name",re.target.value)}),s.jsx(F,{className:"col-span-3",type:"number",placeholder:"950",value:H.price||"",onChange:re=>A(H.clientId,"price",parseFloat(re.target.value)||0)}),s.jsx(F,{className:"col-span-3",type:"number",placeholder:"Optional",value:H.original_price||"",onChange:re=>A(H.clientId,"original_price",parseFloat(re.target.value)||void 0)}),s.jsx(F,{className:"col-span-2",type:"number",value:H.stock,onChange:re=>A(H.clientId,"stock",parseInt(re.target.value)||0)}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"col-span-1",onClick:()=>X(H.clientId),children:s.jsx(Mr,{className:"h-4 w-4 text-destructive"})})]},H.clientId)),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:T,className:"mt-2",children:[s.jsx(qt,{className:"h-4 w-4 mr-1"}),"  "]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),s.jsx(U,{type:"submit",disabled:g,children:g?"Saving...":d?"Update":"Create"})]})]})]})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:"Search products...",value:o,onChange:H=>l(H.target.value),className:"max-w-sm"})]}),s.jsxs(fu,{children:[s.jsx(mu,{asChild:!0,children:s.jsxs(U,{variant:"outline",className:de("justify-start text-left font-normal min-w-[240px]",!x&&"text-muted-foreground"),children:[s.jsx(ao,{className:"mr-2 h-4 w-4"}),x!=null&&x.from?x.to?s.jsxs(s.Fragment,{children:[ot(x.from,"dd/MM/yyyy")," - ",ot(x.to,"dd/MM/yyyy")]}):ot(x.from,"dd/MM/yyyy"):s.jsx("span",{children:"  "})]})}),s.jsx(Il,{className:"w-auto p-0",align:"start",children:s.jsx(Al,{mode:"range",selected:x,onSelect:b,numberOfMonths:2,className:"pointer-events-auto"})})]}),x&&s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>b(void 0),className:"text-destructive",children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),""]})]})}),s.jsx(pe,{children:s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"Product"}),s.jsx(Ne,{children:"Category"}),s.jsx(Ne,{children:"Price"}),s.jsx(Ne,{children:"Stock"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{className:"text-right",children:"Actions"})]})}),s.jsxs(Cs,{children:[W.map(H=>{var re,te;return s.jsxs(Et,{children:[s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[((re=H.images)==null?void 0:re[0])&&s.jsx("img",{src:H.images[0],alt:H.name,className:"h-10 w-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:H.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:H.slug})]})]})}),s.jsx(xe,{children:((te=H.categories)==null?void 0:te.name)||"-"}),s.jsxs(xe,{children:["",H.price.toFixed(0)]}),s.jsx(xe,{children:s.jsx(Ge,{variant:H.stock<10?"destructive":"secondary",children:H.stock})}),s.jsx(xe,{children:s.jsx(Ge,{variant:H.is_active?"default":"outline",children:H.is_active?"Active":"Inactive"})}),s.jsxs(xe,{className:"text-right",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>le(H),title:" ",children:s.jsx(dm,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>E(H),children:s.jsx(Sl,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>J(H.id),children:s.jsx(Mr,{className:"h-4 w-4 text-destructive"})})]})]},H.id)}),W.length===0&&s.jsx(Et,{children:s.jsx(xe,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No products found"})})]})]})})]})]})}const o3={name:"",slug:"",description:"",image_url:"",sort_order:0};function MBe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(o3),[d,h]=v.useState(!1);v.useEffect(()=>{f()},[]);const f=async()=>{try{const b=await KV();t(b||[])}catch{G.error("Failed to load categories")}finally{n(!1)}},m=()=>{l(null),u(o3),i(!0)},g=b=>{l(b),u({name:b.name,slug:b.slug,description:b.description||"",image_url:b.image_url||"",sort_order:b.sort_order||0}),i(!0)},p=async b=>{b.preventDefault(),h(!0);try{const y={name:c.name,slug:c.slug||c.name.toLowerCase().replace(/\s+/g,"-"),description:c.description||void 0,image_url:c.image_url||void 0,sort_order:c.sort_order};o?(await b0e(o.id,y),G.success("Category updated successfully")):(await y0e(y),G.success("Category created successfully")),i(!1),f()}catch{G.error("Failed to save category")}finally{h(!1)}},x=async b=>{if(confirm("Are you sure you want to delete this category?"))try{await w0e(b),G.success("Category deleted successfully"),f()}catch{G.error("Failed to delete category. It may have products assigned.")}};return r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(St,{className:"h-8 w-32"}),s.jsx(St,{className:"h-10 w-32"})]}),s.jsx(me,{children:s.jsx(pe,{className:"p-0",children:s.jsx("div",{className:"space-y-4 p-4",children:[...Array(5)].map((b,y)=>s.jsx(St,{className:"h-12 w-full"},y))})})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground",children:"Organize your product categories"})]}),s.jsxs(Jr,{open:a,onOpenChange:i,children:[s.jsx(cv,{asChild:!0,children:s.jsxs(U,{onClick:m,className:"gap-2",children:[s.jsx(qt,{className:"h-4 w-4"}),"Add Category"]})}),s.jsxs(zr,{children:[s.jsx(Ur,{children:s.jsx(Vr,{children:o?"Edit Category":"Add New Category"})}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"name",children:"Name *"}),s.jsx(F,{id:"name",value:c.name,onChange:b=>u({...c,name:b.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"slug",children:"Slug"}),s.jsx(F,{id:"slug",value:c.slug,onChange:b=>u({...c,slug:b.target.value}),placeholder:"auto-generated if empty"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"description",children:"Description"}),s.jsx(wt,{id:"description",value:c.description,onChange:b=>u({...c,description:b.target.value}),rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"image_url",children:"Image URL"}),s.jsx(F,{id:"image_url",value:c.image_url,onChange:b=>u({...c,image_url:b.target.value}),placeholder:"https://example.com/image.jpg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"sort_order",children:"Sort Order"}),s.jsx(F,{id:"sort_order",type:"number",value:c.sort_order,onChange:b=>u({...c,sort_order:parseInt(b.target.value)})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(U,{type:"submit",disabled:d,children:d?"Saving...":o?"Update":"Create"})]})]})]})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(z8,{className:"h-5 w-5"}),"All Categories (",e.length,")"]})}),s.jsx(pe,{children:s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"Category"}),s.jsx(Ne,{children:"Slug"}),s.jsx(Ne,{children:"Sort Order"}),s.jsx(Ne,{className:"text-right",children:"Actions"})]})}),s.jsxs(Cs,{children:[e.map(b=>s.jsxs(Et,{children:[s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[b.image_url&&s.jsx("img",{src:b.image_url,alt:b.name,className:"h-10 w-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:b.name}),b.description&&s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:b.description})]})]})}),s.jsx(xe,{className:"text-muted-foreground",children:b.slug}),s.jsx(xe,{children:b.sort_order}),s.jsxs(xe,{className:"text-right",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>g(b),children:s.jsx(Sl,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>x(b.id),children:s.jsx(Mr,{className:"h-4 w-4 text-destructive"})})]})]},b.id)),e.length===0&&s.jsx(Et,{children:s.jsx(xe,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No categories found"})})]})]})})]})]})}var t1="Checkbox",[RBe,FHe]=On(t1),[$Be,FT]=RBe(t1);function DBe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=Es({prop:r,defaultProp:a??!1,onChange:c,caller:t1}),[g,p]=v.useState(null),[x,b]=v.useState(null),y=v.useRef(!1),w=g?!!o||!!g.closest("form"):!0,N={checked:f,disabled:i,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:yl(a)?!1:a,isFormControl:w,bubbleInput:x,setBubbleInput:b};return s.jsx($Be,{scope:t,...N,children:LBe(h)?h(N):n})}var EG="CheckboxTrigger",TG=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:g}=FT(EG,e),p=lt(a,d),x=v.useRef(c);return v.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const y=()=>h(x.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[i,h]),s.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":yl(c)?"mixed":c,"aria-required":u,"data-state":RG(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:Ie(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ie(r,b=>{h(y=>yl(y)?!0:!y),g&&m&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});TG.displayName=EG;var BT=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return s.jsx(DBe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>s.jsxs(s.Fragment,{children:[s.jsx(TG,{...h,ref:t,__scopeCheckbox:r}),f&&s.jsx(MG,{__scopeCheckbox:r})]})})});BT.displayName=t1;var OG="CheckboxIndicator",AG=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=FT(OG,r);return s.jsx(Wn,{present:n||yl(i.checked)||i.checked===!0,children:s.jsx(Be.span,{"data-state":RG(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});AG.displayName=OG;var IG="CheckboxBubbleInput",MG=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=FT(IG,e),g=lt(r,m),p=aE(i),x=GC(n);v.useEffect(()=>{const y=f;if(!y)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,k=!a.current;if(p!==i&&S){const _=new Event("click",{bubbles:k});y.indeterminate=yl(i),S.call(y,yl(i)?!1:i),y.dispatchEvent(_)}},[f,p,i,a]);const b=v.useRef(yl(i)?!1:i);return s.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});MG.displayName=IG;function LBe(e){return typeof e=="function"}function yl(e){return e==="indeterminate"}function RG(e){return yl(e)?"indeterminate":e?"checked":"unchecked"}const T2=v.forwardRef(({className:e,...t},r)=>s.jsx(BT,{ref:r,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(AG,{className:de("flex items-center justify-center text-current"),children:s.jsx(Ni,{className:"h-4 w-4"})})}));T2.displayName=BT.displayName;var $G="AlertDialog",[FBe,BHe]=On($G,[YU]),No=YU(),DG=e=>{const{__scopeAlertDialog:t,...r}=e,n=No(t);return s.jsx(jE,{...n,...r,modal:!0})};DG.displayName=$G;var BBe="AlertDialogTrigger",LG=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=No(r);return s.jsx(hV,{...a,...n,ref:t})});LG.displayName=BBe;var zBe="AlertDialogPortal",FG=e=>{const{__scopeAlertDialog:t,...r}=e,n=No(t);return s.jsx(_E,{...n,...r})};FG.displayName=zBe;var UBe="AlertDialogOverlay",BG=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=No(r);return s.jsx(Wg,{...a,...n,ref:t})});BG.displayName=UBe;var Bd="AlertDialogContent",[VBe,WBe]=FBe(Bd),qBe=h8("AlertDialogContent"),zG=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=No(r),o=v.useRef(null),l=lt(t,o),c=v.useRef(null);return s.jsx(Gve,{contentName:Bd,titleName:UG,docsSlug:"alert-dialog",children:s.jsx(VBe,{scope:r,cancelRef:c,children:s.jsxs(qg,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ie(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(qBe,{children:n}),s.jsx(GBe,{contentRef:o})]})})})});zG.displayName=Bd;var UG="AlertDialogTitle",VG=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=No(r);return s.jsx(Hg,{...a,...n,ref:t})});VG.displayName=UG;var WG="AlertDialogDescription",qG=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=No(r);return s.jsx(Gg,{...a,...n,ref:t})});qG.displayName=WG;var HBe="AlertDialogAction",HG=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=No(r);return s.jsx(ow,{...a,...n,ref:t})});HG.displayName=HBe;var GG="AlertDialogCancel",KG=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=WBe(GG,r),i=No(r),o=lt(t,a);return s.jsx(ow,{...i,...n,ref:o})});KG.displayName=GG;var GBe=({contentRef:e})=>{const t=`\`${Bd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bd}\` by passing a \`${WG}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},KBe=DG,XBe=LG,YBe=FG,XG=BG,YG=zG,QG=HG,ZG=KG,JG=VG,eK=qG;const zT=KBe,QBe=XBe,ZBe=YBe,tK=v.forwardRef(({className:e,...t},r)=>s.jsx(XG,{className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));tK.displayName=XG.displayName;const r1=v.forwardRef(({className:e,...t},r)=>s.jsxs(ZBe,{children:[s.jsx(tK,{}),s.jsx(YG,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));r1.displayName=YG.displayName;const n1=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",e),...t});n1.displayName="AlertDialogHeader";const s1=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});s1.displayName="AlertDialogFooter";const a1=v.forwardRef(({className:e,...t},r)=>s.jsx(JG,{ref:r,className:de("text-lg font-semibold",e),...t}));a1.displayName=JG.displayName;const i1=v.forwardRef(({className:e,...t},r)=>s.jsx(eK,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));i1.displayName=eK.displayName;const o1=v.forwardRef(({className:e,...t},r)=>s.jsx(QG,{ref:r,className:de(Cp(),e),...t}));o1.displayName=QG.displayName;const l1=v.forwardRef(({className:e,...t},r)=>s.jsx(ZG,{ref:r,className:de(Cp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));l1.displayName=ZG.displayName;function JBe({phone:e,customerName:t}){var b,y,w,N,S,k,_,j,C,I,M,$,W,V;const[r,n]=v.useState(!1),[a,i]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(!1),d=async()=>{if(!a){n(!0),l(null);try{const{data:E,error:P}=await Q.functions.invoke("courier-history",{body:{phone:e}});if(P)throw new Error(P.message);if(E!=null&&E.blocked){l(E.message||"Service temporarily unavailable");return}if(E!=null&&E.error)throw new Error(E.error);i((E==null?void 0:E.data)||{})}catch(E){console.error("Failed to fetch courier history:",E);const P=E instanceof Error?E.message:"Failed to fetch courier history";l(P)}finally{n(!1)}}},h=E=>{u(E),E&&d()},f=E=>E===void 0?{level:"Unknown",color:"secondary",icon:yi}:E>=80?{level:"Low Risk",color:"default",icon:vi}:E>=50?{level:"Medium Risk",color:"secondary",icon:yi}:{level:"High Risk",color:"destructive",icon:oo},m=({name:E,stats:P})=>!P||P.total_parcel===0?null:s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ur,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:E})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold",children:P.total_parcel||0}),s.jsx("div",{className:"text-muted-foreground text-xs",children:"Total"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-green-600",children:P.success_parcel||0}),s.jsx("div",{className:"text-muted-foreground text-xs",children:"Success"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-red-600",children:P.cancelled_parcel||0}),s.jsx("div",{className:"text-muted-foreground text-xs",children:"Cancelled"})]})]})]}),g=(b=a==null?void 0:a.courierData)==null?void 0:b.summary,p=f(g==null?void 0:g.success_ratio),x=p.icon;return s.jsxs(Jr,{open:c,onOpenChange:h,children:[s.jsx(cv,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Check courier history",children:s.jsx(Jh,{className:"h-4 w-4"})})}),s.jsxs(zr,{className:"sm:max-w-md",children:[s.jsxs(Ur,{children:[s.jsxs(Vr,{className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"h-5 w-5"}),"Courier History"]}),s.jsxs(al,{children:[t&&s.jsx("span",{className:"font-medium",children:t}),t&&" - ",e]})]}),s.jsxs("div",{className:"space-y-4",children:[r&&s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})}),o&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(oo,{className:"h-12 w-12 text-destructive mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o}),s.jsx(U,{variant:"outline",size:"sm",className:"mt-4",onClick:d,children:"Try Again"})]}),!r&&!o&&a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Summary"}),s.jsxs(Ge,{variant:p.color,className:"gap-1",children:[s.jsx(x,{className:"h-3 w-3"}),p.level]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.total_parcel)||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(g==null?void 0:g.success_parcel)||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Success"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:(g==null?void 0:g.cancelled_parcel)||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Cancel"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-primary",children:[((y=g==null?void 0:g.success_ratio)==null?void 0:y.toFixed(1))||0,"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Ratio"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Breakdown by Courier"}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(m,{name:"Steadfast",stats:(w=a.courierData)==null?void 0:w.steadfast}),s.jsx(m,{name:"Pathao",stats:(N=a.courierData)==null?void 0:N.pathao}),s.jsx(m,{name:"RedX",stats:(S=a.courierData)==null?void 0:S.redx}),s.jsx(m,{name:"Paperfly",stats:(k=a.courierData)==null?void 0:k.paperfly})]}),!((j=(_=a.courierData)==null?void 0:_.steadfast)!=null&&j.total_parcel)&&!((I=(C=a.courierData)==null?void 0:C.pathao)!=null&&I.total_parcel)&&!(($=(M=a.courierData)==null?void 0:M.redx)!=null&&$.total_parcel)&&!((V=(W=a.courierData)==null?void 0:W.paperfly)!=null&&V.total_parcel)&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No courier history found for this phone number"})]})]}),!r&&!o&&!a&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to check courier history"})]})]})]})]})}const __=new Map,e9e=24*60*60*1e3;function t9e(e){let t=e.replace(/[^0-9]/g,"");return t.startsWith("880")&&(t="0"+t.slice(3)),!t.startsWith("0")&&t.length===10&&(t="0"+t),t.slice(-11)}function r9e({percentage:e,size:t=32,strokeWidth:r=3,riskLevel:n}){const a=(t-r)/2,i=a*2*Math.PI,o=i-e/100*i,l=()=>{switch(n){case"high":return"text-red-500";case"medium":return"text-amber-500";case"low":return"text-emerald-500";default:return"text-muted-foreground"}},c=()=>{switch(n){case"high":return"stroke-red-100";case"medium":return"stroke-amber-100";case"low":return"stroke-emerald-100";default:return"stroke-muted"}};return s.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[s.jsxs("svg",{width:t,height:t,className:"-rotate-90",children:[s.jsx("circle",{cx:t/2,cy:t/2,r:a,fill:"none",strokeWidth:r,className:c()}),s.jsx("circle",{cx:t/2,cy:t/2,r:a,fill:"none",strokeWidth:r,strokeLinecap:"round",className:de("transition-all duration-300",l().replace("text-","stroke-")),style:{strokeDasharray:i,strokeDashoffset:o}})]}),s.jsxs("span",{className:de("absolute text-[9px] font-bold",l()),children:[Math.round(e),"%"]})]})}function l3({level:e}){const t={high:{icon:oo,label:"Risk",className:"bg-red-100 text-red-700 border-red-200"},medium:{icon:yi,label:"Caution",className:"bg-amber-100 text-amber-700 border-amber-200"},low:{icon:vi,label:"Good",className:"bg-emerald-100 text-emerald-700 border-emerald-200"},new:{icon:ea,label:"New",className:"bg-blue-100 text-blue-700 border-blue-200"}},{icon:r,label:n,className:a}=t[e]||t.new;return s.jsxs("span",{className:de("inline-flex items-center gap-0.5 px-1.5 py-0.5 text-[10px] font-medium rounded border",a),children:[s.jsx(r,{className:"h-2.5 w-2.5"}),n]})}function n9e({phone:e,className:t}){const[r,n]=v.useState(!0),[a,i]=v.useState(null),[o,l]=v.useState(!1),c=v.useMemo(()=>t9e(e),[e]);v.useEffect(()=>{if(!c||c.length<11){n(!1);return}const _=__.get(c);if(_&&Date.now()-_.timestamp<e9e&&_.data.bd_courier_available){i(_.data),n(!1);return}(async()=>{try{const{data:C,error:I}=await Q.functions.invoke("combined-courier-history",{body:{phone:c,skipBdCourier:!1}});if(I)throw I;C&&(__.set(c,{data:C,timestamp:Date.now()}),i(C))}catch(C){console.error("Error fetching combined history:",C)}finally{n(!1)}})()},[c]);const u=v.useCallback(async()=>{if(!(o||!c||a!=null&&a.bd_courier_available)){l(!0);try{const{data:_,error:j}=await Q.functions.invoke("combined-courier-history",{body:{phone:c}});if(j)throw j;_&&(__.set(c,{data:_,timestamp:Date.now()}),i(_))}catch(_){console.error("Error fetching BD Courier data:",_)}finally{l(!1)}}},[c,o,a==null?void 0:a.bd_courier_available]);if(r)return s.jsx("div",{className:de("flex items-center gap-1",t),children:s.jsx(Kt,{className:"h-3 w-3 animate-spin text-muted-foreground"})});if(!a)return null;const{internal:d,bd_courier:h,bd_courier_available:f,combined_risk_level:m}=a,g=(h==null?void 0:h.courierData)||h,p=g==null?void 0:g.summary,x=g==null?void 0:g.pathao,b=g==null?void 0:g.steadfast,y=g==null?void 0:g.redx,w=d.total_orders>0,N=f&&p&&p.total_parcel>0,S=N?p.success_ratio:w?d.success_ratio??0:0,k=w||N;return s.jsx(eP,{children:s.jsxs(IF,{children:[s.jsx(MF,{asChild:!0,children:s.jsxs("div",{className:de("flex items-center gap-1.5 cursor-help",t),onMouseEnter:u,children:[k?s.jsxs(s.Fragment,{children:[s.jsx(r9e,{percentage:S,riskLevel:m}),s.jsx(l3,{level:m})]}):s.jsx(l3,{level:"new"}),o&&s.jsx(Kt,{className:"h-2.5 w-2.5 animate-spin text-muted-foreground"})]})}),s.jsx(tP,{side:"left",className:"max-w-xs p-3",children:s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{className:"font-semibold border-b pb-1 mb-2 flex items-center justify-between",children:[s.jsx("span",{children:"Customer History"}),!f&&!o&&s.jsxs("button",{onClick:_=>{_.stopPropagation(),u()},className:"text-[10px] text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[s.jsx(xc,{className:"h-2.5 w-2.5"})," Load BD Courier"]})]}),f&&b&&b.total_parcel>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"font-medium text-blue-700 flex items-center gap-1",children:[s.jsx(ur,{className:"h-3 w-3"})," Steadfast History (BD Courier)"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-0.5 pl-4",children:[s.jsx("span",{children:"Total Parcels:"}),s.jsx("span",{className:"font-medium",children:b.total_parcel}),s.jsx("span",{className:"text-emerald-600",children:"Delivered:"}),s.jsx("span",{className:"font-medium text-emerald-600",children:b.success_parcel}),s.jsx("span",{className:"text-red-600",children:"Cancelled:"}),s.jsx("span",{className:"font-medium text-red-600",children:b.cancelled_parcel}),s.jsx("span",{children:"Success Rate:"}),s.jsxs("span",{className:"font-medium",children:[Math.round(b.success_ratio),"%"]})]})]}),f&&((x==null?void 0:x.total_parcel)>0||(y==null?void 0:y.total_parcel)>0)&&s.jsxs("div",{className:"space-y-1 border-t pt-2",children:[s.jsx("div",{className:"font-medium text-muted-foreground text-[10px]",children:"Other Couriers"}),s.jsxs("div",{className:"text-[10px] text-muted-foreground pl-4 flex flex-wrap gap-2",children:[x&&x.total_parcel>0&&s.jsxs("span",{className:"bg-orange-50 text-orange-700 px-1.5 py-0.5 rounded",children:["Pathao: ",x.success_parcel,"/",x.total_parcel," (",Math.round(x.success_ratio),"%)"]}),y&&y.total_parcel>0&&s.jsxs("span",{className:"bg-red-50 text-red-700 px-1.5 py-0.5 rounded",children:["RedX: ",y.success_parcel,"/",y.total_parcel," (",Math.round(y.success_ratio),"%)"]})]})]}),f&&p&&p.total_parcel>0&&s.jsx("div",{className:"space-y-1 border-t pt-2",children:s.jsxs("div",{className:"font-medium text-muted-foreground flex items-center gap-1 text-[10px]",children:["All Couriers Combined: ",p.success_parcel,"/",p.total_parcel," (",Math.round(p.success_ratio),"%)"]})}),!f&&s.jsx("div",{className:"text-[10px] text-muted-foreground border-t pt-1",children:o?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Kt,{className:"h-2.5 w-2.5 animate-spin"})," Loading BD Courier data..."]}):"Hover to load BD Courier data"})]})})]})})}var rK={exports:{}};(function(e,t){(function(r,n){e.exports=n(v)})(typeof self<"u"?self:am,function(r){return function(){var n={155:function(y){y.exports=r}},a={};function i(y){var w=a[y];if(w!==void 0)return w.exports;var N=a[y]={exports:{}};return n[y](N,N.exports,i),N.exports}i.d=function(y,w){for(var N in w)i.o(w,N)&&!i.o(y,N)&&Object.defineProperty(y,N,{enumerable:!0,get:w[N]})},i.o=function(y,w){return Object.prototype.hasOwnProperty.call(y,w)},i.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var o={};i.r(o),i.d(o,{useReactToPrint:function(){return b}});var l=i(155);const c="printWindow";function u({level:y="error",messages:w,suppressErrors:N=!1}){N||(y==="error"?console.error(w):y==="warning"?console.warn(w):console.debug(w))}function d(y,w){if(w||!y){const N=document.getElementById(c);N&&document.body.removeChild(N)}}function h(y){return y instanceof Error?y:new Error("Unknown Error")}function f(y,w){const{documentTitle:N,onAfterPrint:S,onPrintError:k,preserveAfterPrint:_,print:j,suppressErrors:C}=w;setTimeout(()=>{var I,M;if(y.contentWindow){let W=function(){S==null||S(),d(_)};var $=W;if(y.contentWindow.focus(),j)j(y).then(W).catch(V=>{k?k("print",h(V)):u({messages:["An error was thrown by the specified `print` function"],suppressErrors:C})});else{if(y.contentWindow.print){const V=(M=(I=y.contentDocument)===null||I===void 0?void 0:I.title)!==null&&M!==void 0?M:"",E=y.ownerDocument.title;N&&(y.ownerDocument.title=N,y.contentDocument&&(y.contentDocument.title=N)),y.contentWindow.print(),N&&(y.ownerDocument.title=E,y.contentDocument&&(y.contentDocument.title=V))}else u({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:C});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(V=>{var E,P;return((P=(E=navigator.userAgent)!==null&&E!==void 0?E:navigator.vendor)!==null&&P!==void 0?P:"opera"in window&&window.opera).match(V)})?setTimeout(W,500):W()}}else u({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:C})},500)}function m(y){const w=[],N=document.createTreeWalker(y,NodeFilter.SHOW_ELEMENT,null);let S=N.nextNode();for(;S;)w.push(S),S=N.nextNode();return w}function g(y,w,N){const S=m(y),k=m(w);if(S.length===k.length)for(let _=0;_<S.length;_++){const j=S[_],C=k[_],I=j.shadowRoot;if(I!==null){const M=C.attachShadow({mode:I.mode});M.innerHTML=I.innerHTML,g(I,M,N)}}else u({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",y,w],suppressErrors:N})}const p=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function x(y,w,N,S){var k,_,j,C,I;const{contentNode:M,clonedContentNode:$,clonedImgNodes:W,clonedVideoNodes:V,numResourcesToLoad:E,originalCanvasNodes:P}=N,{bodyClass:R,fonts:O,ignoreGlobalStyles:T,pageStyle:D,nonce:X,suppressErrors:A,copyShadowRoots:q}=S;y.onload=null;const L=(k=y.contentDocument)!==null&&k!==void 0?k:(_=y.contentWindow)===null||_===void 0?void 0:_.document;if(L){const J=L.body.appendChild($);q&&g(M,J,!!A),O&&(!((j=y.contentDocument)===null||j===void 0)&&j.fonts&&(!((C=y.contentWindow)===null||C===void 0)&&C.FontFace)?O.forEach(K=>{const he=new FontFace(K.family,K.source,{weight:K.weight,style:K.style});y.contentDocument.fonts.add(he),he.loaded.then(()=>{w(he)}).catch(ue=>{w(he,["Failed loading the font:",he,"Load error:",h(ue)])})}):(O.forEach(K=>{w(K)}),u({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:A})));const le=D??p,H=L.createElement("style");X&&(H.setAttribute("nonce",X),L.head.setAttribute("nonce",X)),H.appendChild(L.createTextNode(le)),L.head.appendChild(H),R&&L.body.classList.add(...R.split(" "));const re=L.querySelectorAll("canvas");for(let K=0;K<P.length;++K){const he=P[K],ue=re[K];if(ue===void 0){u({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",he],suppressErrors:A});continue}const be=ue.getContext("2d");be&&be.drawImage(he,0,0)}for(let K=0;K<W.length;K++){const he=W[K],ue=he.getAttribute("src");if(ue){const be=new Image;be.onload=()=>{w(he)},be.onerror=(Me,Se,tt,ft,kt)=>{w(he,["Error loading <img>",he,"Error",kt])},be.src=ue}else w(he,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',he])}for(let K=0;K<V.length;K++){const he=V[K];he.preload="auto";const ue=he.getAttribute("poster");if(ue){const be=new Image;be.onload=()=>{w(he)},be.onerror=(Me,Se,tt,ft,kt)=>{w(he,["Error loading video poster",ue,"for video",he,"Error:",kt])},be.src=ue}else he.readyState>=2?w(he):he.src?(he.onloadeddata=()=>{w(he)},he.onerror=(be,Me,Se,tt,ft)=>{w(he,["Error loading video",he,"Error",ft])},he.onstalled=()=>{w(he,["Loading video stalled, skipping",he])}):w(he,["Error loading video, `src` is empty",he])}const te="select",ie=M.querySelectorAll(te),ee=L.querySelectorAll(te);for(let K=0;K<ie.length;K++)ee[K].value=ie[K].value;if(!T){const K=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let he=0,ue=K.length;he<ue;++he){const be=K[he];if(be.tagName.toLowerCase()==="style"){const Me=L.createElement(be.tagName),Se=be.sheet;if(Se){let tt="";try{const ft=Se.cssRules.length;for(let kt=0;kt<ft;++kt)typeof Se.cssRules[kt].cssText=="string"&&(tt+=`${Se.cssRules[kt].cssText}\r
`)}catch(ft){u({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",be,`Original error: ${h(ft).message}`],level:"warning"})}Me.setAttribute("id",`react-to-print-${he}`),X&&Me.setAttribute("nonce",X),Me.appendChild(L.createTextNode(tt)),L.head.appendChild(Me)}}else if(be.getAttribute("href"))if(be.hasAttribute("disabled"))u({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",be],level:"warning"}),w(be);else{const Me=L.createElement(be.tagName);for(let Se=0,tt=be.attributes.length;Se<tt;++Se){const ft=be.attributes[Se];ft&&Me.setAttribute(ft.nodeName,(I=ft.nodeValue)!==null&&I!==void 0?I:"")}Me.onload=()=>{w(Me)},Me.onerror=(Se,tt,ft,kt,it)=>{w(Me,["Failed to load",Me,"Error:",it])},X&&Me.setAttribute("nonce",X),L.head.appendChild(Me)}else u({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",be],level:"warning"}),w(be)}}}E===0&&f(y,S)}function b({bodyClass:y,contentRef:w,copyShadowRoots:N,documentTitle:S,fonts:k,ignoreGlobalStyles:_,nonce:j,onAfterPrint:C,onBeforePrint:I,onPrintError:M,pageStyle:$,preserveAfterPrint:W,print:V,printIframeProps:E,suppressErrors:P}){return(0,l.useCallback)(O=>{function T(){const D={bodyClass:y,contentRef:w,copyShadowRoots:N,documentTitle:S,fonts:k,ignoreGlobalStyles:_,nonce:j,onAfterPrint:C,onBeforePrint:I,onPrintError:M,pageStyle:$,preserveAfterPrint:W,print:V,printIframeProps:E,suppressErrors:P},X=function(L){const J=document.createElement("iframe");return J.width=`${document.documentElement.clientWidth}px`,J.height=`${document.documentElement.clientHeight}px`,J.style.position="absolute",J.style.top=`-${document.documentElement.clientHeight+100}px`,J.style.left=`-${document.documentElement.clientWidth+100}px`,J.id=c,J.srcdoc="<!DOCTYPE html>",L&&(L.allow&&(J.allow=L.allow),L.referrerPolicy!==void 0&&(J.referrerPolicy=L.referrerPolicy),L.sandbox!==void 0&&(J.sandbox=L.sandbox)),J}(E),A=function(L,J){const{contentRef:le,fonts:H,ignoreGlobalStyles:re,suppressErrors:te}=J,ie=function({contentRef:Me,optionalContent:Se,suppressErrors:tt}){return Se&&typeof Se=="function"?(Me&&u({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Se()):Me?Me.current:void u({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:tt})}({contentRef:le,optionalContent:L,suppressErrors:te});if(!ie)return;const ee=ie.cloneNode(!0),K=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),he=ee.querySelectorAll("img"),ue=ee.querySelectorAll("video"),be=H?H.length:0;return{contentNode:ie,clonedContentNode:ee,clonedImgNodes:he,clonedVideoNodes:ue,numResourcesToLoad:(re?0:K.length)+he.length+ue.length+be,originalCanvasNodes:ie.querySelectorAll("canvas")}}(O,D);if(!A)return void u({messages:["There is nothing to print"],suppressErrors:P});const q=function(L,J,le){const{suppressErrors:H}=L,re=[],te=[];return function(ie,ee){re.includes(ie)?u({level:"debug",messages:["Tried to mark a resource that has already been handled",ie],suppressErrors:H}):(ee?(u({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...ee],suppressErrors:H}),te.push(ie)):re.push(ie),re.length+te.length===J&&f(le,L))}}(D,A.numResourcesToLoad,X);(function(L,J,le,H){L.onload=()=>{x(L,J,le,H)},document.body.appendChild(L)})(X,q,A,D)}d(W,!0),I?I().then(()=>{T()}).catch(D=>{M==null||M("onBeforePrint",h(D))}):T()},[y,w,N,S,k,_,j,C,I,M,$,W,V,P])}return o}()})})(rK);var nK=rK.exports,UT={},c1={},qn={};Object.defineProperty(qn,"__esModule",{value:!0});function s9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a9e=function e(t,r){s9e(this,e),this.data=t,this.text=r.text||t,this.options=r};qn.default=a9e;Object.defineProperty(c1,"__esModule",{value:!0});c1.CODE39=void 0;var i9e=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o9e=qn,l9e=c9e(o9e);function c9e(e){return e&&e.__esModule?e:{default:e}}function u9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d9e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function h9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f9e=function(e){h9e(t,e);function t(r,n){return u9e(this,t),r=r.toUpperCase(),n.mod43&&(r+=g9e(v9e(r))),d9e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return i9e(t,[{key:"encode",value:function(){for(var n=N_("*"),a=0;a<this.data.length;a++)n+=N_(this.data[a])+"0";return n+=N_("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),t}(l9e.default),sK=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],m9e=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function N_(e){return p9e(aK(e))}function p9e(e){return m9e[e].toString(2)}function g9e(e){return sK[e]}function aK(e){return sK.indexOf(e)}function v9e(e){for(var t=0,r=0;r<e.length;r++)t+=aK(e[r]);return t=t%43,t}c1.CODE39=f9e;var li={},VT={},Nf={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});var tm;function S_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iK=dr.SET_A=0,oK=dr.SET_B=1,lK=dr.SET_C=2;dr.SHIFT=98;var x9e=dr.START_A=103,y9e=dr.START_B=104,b9e=dr.START_C=105;dr.MODULO=103;dr.STOP=106;dr.FNC1=207;dr.SET_BY_CODE=(tm={},S_(tm,x9e,iK),S_(tm,y9e,oK),S_(tm,b9e,lK),tm);dr.SWAP={101:iK,100:oK,99:lK};dr.A_START_CHAR="";dr.B_START_CHAR="";dr.C_START_CHAR="";dr.A_CHARS="[\0-_-]";dr.B_CHARS="[ --]";dr.C_CHARS="(*[0-9]{2}*)";dr.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Nf,"__esModule",{value:!0});var w9e=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),j9e=qn,_9e=N9e(j9e),cs=dr;function N9e(e){return e&&e.__esModule?e:{default:e}}function S9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k9e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function C9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P9e=function(e){C9e(t,e);function t(r,n){S9e(this,t);var a=k9e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.substring(1),n));return a.bytes=r.split("").map(function(i){return i.charCodeAt(0)}),a}return w9e(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,a=n.shift()-105,i=cs.SET_BY_CODE[a];if(i===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(cs.FNC1);var o=t.next(n,1,i);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(a)+o.result+t.getBar((o.checksum+a)%cs.MODULO)+t.getBar(cs.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return cs.BARS[n]?cs.BARS[n].toString():""}},{key:"correctIndex",value:function(n,a){if(a===cs.SET_A){var i=n.shift();return i<32?i+64:i-32}else return a===cs.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,a,i){if(!n.length)return{result:"",checksum:0};var o=void 0,l=void 0;if(n[0]>=200){l=n.shift()-105;var c=cs.SWAP[l];c!==void 0?o=t.next(n,a+1,c):((i===cs.SET_A||i===cs.SET_B)&&l===cs.SHIFT&&(n[0]=i===cs.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),o=t.next(n,a+1,i))}else l=t.correctIndex(n,i),o=t.next(n,a+1,i);var u=t.getBar(l),d=l*a;return{result:u+o.result,checksum:d+o.checksum}}}]),t}(_9e.default);Nf.default=P9e;var WT={};Object.defineProperty(WT,"__esModule",{value:!0});var bl=dr,cK=function(t){return t.match(new RegExp("^"+bl.A_CHARS+"*"))[0].length},uK=function(t){return t.match(new RegExp("^"+bl.B_CHARS+"*"))[0].length},dK=function(t){return t.match(new RegExp("^"+bl.C_CHARS+"*"))[0]};function qT(e,t){var r=t?bl.A_CHARS:bl.B_CHARS,n=e.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+""+hK(e.substring(n[1].length));var a=e.match(new RegExp("^"+r+"+"))[0];return a.length===e.length?e:a+String.fromCharCode(t?205:206)+qT(e.substring(a.length),!t)}function hK(e){var t=dK(e),r=t.length;if(r===e.length)return e;e=e.substring(r);var n=cK(e)>=uK(e);return t+String.fromCharCode(n?206:205)+qT(e,n)}WT.default=function(e){var t=void 0,r=dK(e).length;if(r>=2)t=bl.C_START_CHAR+hK(e);else{var n=cK(e)>uK(e);t=(n?bl.A_START_CHAR:bl.B_START_CHAR)+qT(e,n)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,i){return""+i})};Object.defineProperty(VT,"__esModule",{value:!0});var E9e=Nf,T9e=fK(E9e),O9e=WT,A9e=fK(O9e);function fK(e){return e&&e.__esModule?e:{default:e}}function I9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k_(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function M9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R9e=function(e){M9e(t,e);function t(r,n){if(I9e(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var a=k_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,A9e.default)(r),n));else var a=k_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return k_(a)}return t}(T9e.default);VT.default=R9e;var HT={};Object.defineProperty(HT,"__esModule",{value:!0});var $9e=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),D9e=Nf,L9e=F9e(D9e),c3=dr;function F9e(e){return e&&e.__esModule?e:{default:e}}function B9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z9e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function U9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V9e=function(e){U9e(t,e);function t(r,n){return B9e(this,t),z9e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c3.A_START_CHAR+r,n))}return $9e(t,[{key:"valid",value:function(){return new RegExp("^"+c3.A_CHARS+"+$").test(this.data)}}]),t}(L9e.default);HT.default=V9e;var GT={};Object.defineProperty(GT,"__esModule",{value:!0});var W9e=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),q9e=Nf,H9e=G9e(q9e),u3=dr;function G9e(e){return e&&e.__esModule?e:{default:e}}function K9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X9e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Y9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Q9e=function(e){Y9e(t,e);function t(r,n){return K9e(this,t),X9e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u3.B_START_CHAR+r,n))}return W9e(t,[{key:"valid",value:function(){return new RegExp("^"+u3.B_CHARS+"+$").test(this.data)}}]),t}(H9e.default);GT.default=Q9e;var KT={};Object.defineProperty(KT,"__esModule",{value:!0});var Z9e=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),J9e=Nf,eze=tze(J9e),d3=dr;function tze(e){return e&&e.__esModule?e:{default:e}}function rze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var aze=function(e){sze(t,e);function t(r,n){return rze(this,t),nze(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,d3.C_START_CHAR+r,n))}return Z9e(t,[{key:"valid",value:function(){return new RegExp("^"+d3.C_CHARS+"+$").test(this.data)}}]),t}(eze.default);KT.default=aze;Object.defineProperty(li,"__esModule",{value:!0});li.CODE128C=li.CODE128B=li.CODE128A=li.CODE128=void 0;var ize=VT,oze=u1(ize),lze=HT,cze=u1(lze),uze=GT,dze=u1(uze),hze=KT,fze=u1(hze);function u1(e){return e&&e.__esModule?e:{default:e}}li.CODE128=oze.default;li.CODE128A=cze.default;li.CODE128B=dze.default;li.CODE128C=fze.default;var Qn={},XT={},aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.SIDE_BIN="101";aa.MIDDLE_BIN="01010";aa.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};aa.EAN2_STRUCTURE=["LL","LG","GL","GG"];aa.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];aa.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var d1={},Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});var mze=aa,pze=function(t,r,n){var a=t.split("").map(function(o,l){return mze.BINARIES[r[l]]}).map(function(o,l){return o?o[t[l]]:""});if(n){var i=t.length-1;a=a.map(function(o,l){return l<i?o+n:o})}return a.join("")};Eu.default=pze;Object.defineProperty(d1,"__esModule",{value:!0});var gze=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ku=aa,vze=Eu,h3=mK(vze),xze=qn,yze=mK(xze);function mK(e){return e&&e.__esModule?e:{default:e}}function bze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _ze=function(e){jze(t,e);function t(r,n){bze(this,t);var a=wze(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return a.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return gze(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,a){return this.text.substr(n,a)}},{key:"leftEncode",value:function(n,a){return(0,h3.default)(n,a)}},{key:"rightText",value:function(n,a){return this.text.substr(n,a)}},{key:"rightEncode",value:function(n,a){return(0,h3.default)(n,a)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},a={height:this.guardHeight};return[{data:Ku.SIDE_BIN,options:a},{data:this.leftEncode(),text:this.leftText(),options:n},{data:Ku.MIDDLE_BIN,options:a},{data:this.rightEncode(),text:this.rightText(),options:n},{data:Ku.SIDE_BIN,options:a}]}},{key:"encodeFlat",value:function(){var n=[Ku.SIDE_BIN,this.leftEncode(),Ku.MIDDLE_BIN,this.rightEncode(),Ku.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),t}(yze.default);d1.default=_ze;Object.defineProperty(XT,"__esModule",{value:!0});var Nze=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),rm=function e(t,r,n){t===null&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(a===void 0){var i=Object.getPrototypeOf(t);return i===null?void 0:e(i,r,n)}else{if("value"in a)return a.value;var o=a.get;return o===void 0?void 0:o.call(n)}},Sze=aa,kze=d1,Cze=Pze(kze);function Pze(e){return e&&e.__esModule?e:{default:e}}function Eze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Oze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f3=function(t){var r=t.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,a,i){return i%2?n+a*3:n+a},0);return(10-r%10)%10},Aze=function(e){Oze(t,e);function t(r,n){Eze(this,t),r.search(/^[0-9]{12}$/)!==-1&&(r+=f3(r));var a=Tze(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return a.lastChar=n.lastChar,a}return Nze(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===f3(this.data)}},{key:"leftText",value:function(){return rm(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),a=Sze.EAN13_STRUCTURE[this.data[0]];return rm(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,a)}},{key:"rightText",value:function(){return rm(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return rm(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=rm(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),t}(Cze.default);XT.default=Aze;var YT={};Object.defineProperty(YT,"__esModule",{value:!0});var Ize=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),gx=function e(t,r,n){t===null&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(a===void 0){var i=Object.getPrototypeOf(t);return i===null?void 0:e(i,r,n)}else{if("value"in a)return a.value;var o=a.get;return o===void 0?void 0:o.call(n)}},Mze=d1,Rze=$ze(Mze);function $ze(e){return e&&e.__esModule?e:{default:e}}function Dze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Fze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m3=function(t){var r=t.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,a,i){return i%2?n+a:n+a*3},0);return(10-r%10)%10},Bze=function(e){Fze(t,e);function t(r,n){return Dze(this,t),r.search(/^[0-9]{7}$/)!==-1&&(r+=m3(r)),Lze(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Ize(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===m3(this.data)}},{key:"leftText",value:function(){return gx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return gx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return gx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return gx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),t}(Rze.default);YT.default=Bze;var QT={};Object.defineProperty(QT,"__esModule",{value:!0});var zze=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Uze=aa,Vze=Eu,Wze=pK(Vze),qze=qn,Hze=pK(qze);function pK(e){return e&&e.__esModule?e:{default:e}}function Gze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Xze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Yze=function(t){var r=t.split("").map(function(n){return+n}).reduce(function(n,a,i){return i%2?n+a*9:n+a*3},0);return r%10},Qze=function(e){Xze(t,e);function t(r,n){return Gze(this,t),Kze(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return zze(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=Uze.EAN5_STRUCTURE[Yze(this.data)];return{data:"1011"+(0,Wze.default)(this.data,n,"01"),text:this.text}}}]),t}(Hze.default);QT.default=Qze;var ZT={};Object.defineProperty(ZT,"__esModule",{value:!0});var Zze=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Jze=aa,e7e=Eu,t7e=gK(e7e),r7e=qn,n7e=gK(r7e);function gK(e){return e&&e.__esModule?e:{default:e}}function s7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a7e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function i7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o7e=function(e){i7e(t,e);function t(r,n){return s7e(this,t),a7e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Zze(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=Jze.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,t7e.default)(this.data,n,"01"),text:this.text}}}]),t}(n7e.default);ZT.default=o7e;var uv={};Object.defineProperty(uv,"__esModule",{value:!0});var l7e=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();uv.checksum=O2;var c7e=Eu,Xu=vK(c7e),u7e=qn,d7e=vK(u7e);function vK(e){return e&&e.__esModule?e:{default:e}}function h7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f7e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function m7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p7e=function(e){m7e(t,e);function t(r,n){h7e(this,t),r.search(/^[0-9]{11}$/)!==-1&&(r+=O2(r));var a=f7e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return a.displayValue=n.displayValue,n.fontSize>n.width*10?a.fontSize=n.width*10:a.fontSize=n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return l7e(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==O2(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,Xu.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,Xu.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,Xu.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,Xu.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,Xu.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,Xu.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),t}(d7e.default);function O2(e){var t=0,r;for(r=1;r<11;r+=2)t+=parseInt(e[r]);for(r=0;r<11;r+=2)t+=parseInt(e[r])*3;return(10-t%10)%10}uv.default=p7e;var JT={};Object.defineProperty(JT,"__esModule",{value:!0});var g7e=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),v7e=Eu,x7e=xK(v7e),y7e=qn,b7e=xK(y7e),w7e=uv;function xK(e){return e&&e.__esModule?e:{default:e}}function j7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C_(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N7e=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],S7e=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],k7e=function(e){_7e(t,e);function t(r,n){j7e(this,t);var a=C_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));if(a.isValid=!1,r.search(/^[0-9]{6}$/)!==-1)a.middleDigits=r,a.upcA=p3(r,"0"),a.text=n.text||""+a.upcA[0]+r+a.upcA[a.upcA.length-1],a.isValid=!0;else if(r.search(/^[01][0-9]{7}$/)!==-1)if(a.middleDigits=r.substring(1,r.length-1),a.upcA=p3(a.middleDigits,r[0]),a.upcA[a.upcA.length-1]===r[r.length-1])a.isValid=!0;else return C_(a);else return C_(a);return a.displayValue=n.displayValue,n.fontSize>n.width*10?a.fontSize=n.width*10:a.fontSize=n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return g7e(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],a=this.upcA[this.upcA.length-1],i=S7e[parseInt(a)][parseInt(n)];return(0,x7e.default)(this.middleDigits,i)}}]),t}(b7e.default);function p3(e,t){for(var r=parseInt(e[e.length-1]),n=N7e[r],a="",i=0,o=0;o<n.length;o++){var l=n[o];l==="X"?a+=e[i++]:a+=l}return a=""+t+a,""+a+(0,w7e.checksum)(a)}JT.default=k7e;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.UPCE=Qn.UPC=Qn.EAN2=Qn.EAN5=Qn.EAN8=Qn.EAN13=void 0;var C7e=XT,P7e=Sf(C7e),E7e=YT,T7e=Sf(E7e),O7e=QT,A7e=Sf(O7e),I7e=ZT,M7e=Sf(I7e),R7e=uv,$7e=Sf(R7e),D7e=JT,L7e=Sf(D7e);function Sf(e){return e&&e.__esModule?e:{default:e}}Qn.EAN13=P7e.default;Qn.EAN8=T7e.default;Qn.EAN5=A7e.default;Qn.EAN2=M7e.default;Qn.UPC=$7e.default;Qn.UPCE=L7e.default;var Uh={},h1={},dv={};Object.defineProperty(dv,"__esModule",{value:!0});dv.START_BIN="1010";dv.END_BIN="11101";dv.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(h1,"__esModule",{value:!0});var F7e=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),vx=dv,B7e=qn,z7e=U7e(B7e);function U7e(e){return e&&e.__esModule?e:{default:e}}function V7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W7e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function q7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var H7e=function(e){q7e(t,e);function t(){return V7e(this,t),W7e(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return F7e(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,a=this.data.match(/.{2}/g).map(function(i){return n.encodePair(i)}).join("");return{data:vx.START_BIN+a+vx.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var a=vx.BINARIES[n[1]];return vx.BINARIES[n[0]].split("").map(function(i,o){return(i==="1"?"111":"1")+(a[o]==="1"?"000":"0")}).join("")}}]),t}(z7e.default);h1.default=H7e;var eO={};Object.defineProperty(eO,"__esModule",{value:!0});var G7e=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),K7e=h1,X7e=Y7e(K7e);function Y7e(e){return e&&e.__esModule?e:{default:e}}function Q7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z7e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function J7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g3=function(t){var r=t.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,a,i){return n+a*(3-i%2*2)},0);return Math.ceil(r/10)*10-r},eUe=function(e){J7e(t,e);function t(r,n){return Q7e(this,t),r.search(/^[0-9]{13}$/)!==-1&&(r+=g3(r)),Z7e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return G7e(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===g3(this.data)}}]),t}(X7e.default);eO.default=eUe;Object.defineProperty(Uh,"__esModule",{value:!0});Uh.ITF14=Uh.ITF=void 0;var tUe=h1,rUe=yK(tUe),nUe=eO,sUe=yK(nUe);function yK(e){return e&&e.__esModule?e:{default:e}}Uh.ITF=rUe.default;Uh.ITF14=sUe.default;var Vs={},Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});var aUe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),iUe=qn,oUe=lUe(iUe);function lUe(e){return e&&e.__esModule?e:{default:e}}function cUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uUe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function dUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var hUe=function(e){dUe(t,e);function t(r,n){return cUe(this,t),uUe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return aUe(t,[{key:"encode",value:function(){for(var n="110",a=0;a<this.data.length;a++){var i=parseInt(this.data[a]),o=i.toString(2);o=fUe(o,4-o.length);for(var l=0;l<o.length;l++)n+=o[l]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t}(oUe.default);function fUe(e,t){for(var r=0;r<t;r++)e="0"+e;return e}Tu.default=hUe;var tO={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.mod10=mUe;Ou.mod11=pUe;function mUe(e){for(var t=0,r=0;r<e.length;r++){var n=parseInt(e[r]);(r+e.length)%2===0?t+=n:t+=n*2%10+Math.floor(n*2/10)}return(10-t%10)%10}function pUe(e){for(var t=0,r=[2,3,4,5,6,7],n=0;n<e.length;n++){var a=parseInt(e[e.length-1-n]);t+=r[n%r.length]*a}return(11-t%11)%11}Object.defineProperty(tO,"__esModule",{value:!0});var gUe=Tu,vUe=yUe(gUe),xUe=Ou;function yUe(e){return e&&e.__esModule?e:{default:e}}function bUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wUe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _Ue=function(e){jUe(t,e);function t(r,n){return bUe(this,t),wUe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,xUe.mod10)(r),n))}return t}(vUe.default);tO.default=_Ue;var rO={};Object.defineProperty(rO,"__esModule",{value:!0});var NUe=Tu,SUe=CUe(NUe),kUe=Ou;function CUe(e){return e&&e.__esModule?e:{default:e}}function PUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EUe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function TUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var OUe=function(e){TUe(t,e);function t(r,n){return PUe(this,t),EUe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,kUe.mod11)(r),n))}return t}(SUe.default);rO.default=OUe;var nO={};Object.defineProperty(nO,"__esModule",{value:!0});var AUe=Tu,IUe=MUe(AUe),v3=Ou;function MUe(e){return e&&e.__esModule?e:{default:e}}function RUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Ue(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function DUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var LUe=function(e){DUe(t,e);function t(r,n){return RUe(this,t),r+=(0,v3.mod10)(r),r+=(0,v3.mod10)(r),$Ue(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(IUe.default);nO.default=LUe;var sO={};Object.defineProperty(sO,"__esModule",{value:!0});var FUe=Tu,BUe=zUe(FUe),x3=Ou;function zUe(e){return e&&e.__esModule?e:{default:e}}function UUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VUe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function WUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qUe=function(e){WUe(t,e);function t(r,n){return UUe(this,t),r+=(0,x3.mod11)(r),r+=(0,x3.mod10)(r),VUe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(BUe.default);sO.default=qUe;Object.defineProperty(Vs,"__esModule",{value:!0});Vs.MSI1110=Vs.MSI1010=Vs.MSI11=Vs.MSI10=Vs.MSI=void 0;var HUe=Tu,GUe=hv(HUe),KUe=tO,XUe=hv(KUe),YUe=rO,QUe=hv(YUe),ZUe=nO,JUe=hv(ZUe),eVe=sO,tVe=hv(eVe);function hv(e){return e&&e.__esModule?e:{default:e}}Vs.MSI=GUe.default;Vs.MSI10=XUe.default;Vs.MSI11=QUe.default;Vs.MSI1010=JUe.default;Vs.MSI1110=tVe.default;var f1={};Object.defineProperty(f1,"__esModule",{value:!0});f1.pharmacode=void 0;var rVe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),nVe=qn,sVe=aVe(nVe);function aVe(e){return e&&e.__esModule?e:{default:e}}function iVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oVe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cVe=function(e){lVe(t,e);function t(r,n){iVe(this,t);var a=oVe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return a.number=parseInt(r,10),a}return rVe(t,[{key:"encode",value:function(){for(var n=this.number,a="";!isNaN(n)&&n!=0;)n%2===0?(a="11100"+a,n=(n-2)/2):(a="100"+a,n=(n-1)/2);return a=a.slice(0,-2),{data:a,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(sVe.default);f1.pharmacode=cVe;var m1={};Object.defineProperty(m1,"__esModule",{value:!0});m1.codabar=void 0;var uVe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),dVe=qn,hVe=fVe(dVe);function fVe(e){return e&&e.__esModule?e:{default:e}}function mVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pVe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function gVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vVe=function(e){gVe(t,e);function t(r,n){mVe(this,t),r.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(r="A"+r+"A");var a=pVe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.toUpperCase(),n));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return uVe(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],a=this.getEncodings(),i=0;i<this.data.length;i++)n.push(a[this.data.charAt(i)]),i!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(hVe.default);m1.codabar=vVe;var Vh={},p1={},fv={};Object.defineProperty(fv,"__esModule",{value:!0});fv.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];fv.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];fv.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(p1,"__esModule",{value:!0});var xVe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),xx=fv,yVe=qn,bVe=wVe(yVe);function wVe(e){return e&&e.__esModule?e:{default:e}}function jVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Ve(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function NVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var SVe=function(e){NVe(t,e);function t(r,n){return jVe(this,t),_Ve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return xVe(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.data.split("").flatMap(function(l){return xx.MULTI_SYMBOLS[l]||l}),a=n.map(function(l){return t.getEncoding(l)}).join(""),i=t.checksum(n,20),o=t.checksum(n.concat(i),15);return{text:this.text,data:t.getEncoding("")+a+t.getEncoding(i)+t.getEncoding(o)+t.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(n){return xx.BINARIES[t.symbolValue(n)]}},{key:"getSymbol",value:function(n){return xx.SYMBOLS[n]}},{key:"symbolValue",value:function(n){return xx.SYMBOLS.indexOf(n)}},{key:"checksum",value:function(n,a){var i=n.slice().reverse().reduce(function(o,l,c){var u=c%a+1;return o+t.symbolValue(l)*u},0);return t.getSymbol(i%47)}}]),t}(bVe.default);p1.default=SVe;var aO={};Object.defineProperty(aO,"__esModule",{value:!0});var kVe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),CVe=p1,PVe=EVe(CVe);function EVe(e){return e&&e.__esModule?e:{default:e}}function TVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OVe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function AVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var IVe=function(e){AVe(t,e);function t(r,n){return TVe(this,t),OVe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return kVe(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(PVe.default);aO.default=IVe;Object.defineProperty(Vh,"__esModule",{value:!0});Vh.CODE93FullASCII=Vh.CODE93=void 0;var MVe=p1,RVe=bK(MVe),$Ve=aO,DVe=bK($Ve);function bK(e){return e&&e.__esModule?e:{default:e}}Vh.CODE93=RVe.default;Vh.CODE93FullASCII=DVe.default;var g1={};Object.defineProperty(g1,"__esModule",{value:!0});g1.GenericBarcode=void 0;var LVe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),FVe=qn,BVe=zVe(FVe);function zVe(e){return e&&e.__esModule?e:{default:e}}function UVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VVe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function WVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qVe=function(e){WVe(t,e);function t(r,n){return UVe(this,t),VVe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return LVe(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(BVe.default);g1.GenericBarcode=qVe;Object.defineProperty(UT,"__esModule",{value:!0});var HVe=c1,yx=li,Yu=Qn,y3=Uh,nm=Vs,GVe=f1,KVe=m1,b3=Vh,XVe=g1;UT.default={CODE39:HVe.CODE39,CODE128:yx.CODE128,CODE128A:yx.CODE128A,CODE128B:yx.CODE128B,CODE128C:yx.CODE128C,EAN13:Yu.EAN13,EAN8:Yu.EAN8,EAN5:Yu.EAN5,EAN2:Yu.EAN2,UPC:Yu.UPC,UPCE:Yu.UPCE,ITF14:y3.ITF14,ITF:y3.ITF,MSI:nm.MSI,MSI10:nm.MSI10,MSI11:nm.MSI11,MSI1010:nm.MSI1010,MSI1110:nm.MSI1110,pharmacode:GVe.pharmacode,codabar:KVe.codabar,CODE93:b3.CODE93,CODE93FullASCII:b3.CODE93FullASCII,GenericBarcode:XVe.GenericBarcode};var kf={};Object.defineProperty(kf,"__esModule",{value:!0});var YVe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};kf.default=function(e,t){return YVe({},e,t)};var iO={};Object.defineProperty(iO,"__esModule",{value:!0});iO.default=QVe;function QVe(e){var t=[];function r(n){if(Array.isArray(n))for(var a=0;a<n.length;a++)r(n[a]);else n.text=n.text||"",n.data=n.data||"",t.push(n)}return r(e),t}var oO={};Object.defineProperty(oO,"__esModule",{value:!0});oO.default=ZVe;function ZVe(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}var lO={},cO={},v1={};Object.defineProperty(v1,"__esModule",{value:!0});v1.default=JVe;function JVe(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in t)t.hasOwnProperty(r)&&(r=t[r],typeof e[r]=="string"&&(e[r]=parseInt(e[r],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}var x1={};Object.defineProperty(x1,"__esModule",{value:!0});var eWe={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};x1.default=eWe;Object.defineProperty(cO,"__esModule",{value:!0});var tWe=v1,rWe=wK(tWe),nWe=x1,w3=wK(nWe);function wK(e){return e&&e.__esModule?e:{default:e}}function sWe(e){var t={};for(var r in w3.default)w3.default.hasOwnProperty(r)&&(e.hasAttribute("jsbarcode-"+r.toLowerCase())&&(t[r]=e.getAttribute("jsbarcode-"+r.toLowerCase())),e.hasAttribute("data-"+r.toLowerCase())&&(t[r]=e.getAttribute("data-"+r.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,rWe.default)(t),t}cO.default=sWe;var uO={},dO={},bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.getTotalWidthOfEncodings=bs.calculateEncodingAttributes=bs.getBarcodePadding=bs.getEncodingHeight=bs.getMaximumHeightOfEncodings=void 0;var aWe=kf,iWe=oWe(aWe);function oWe(e){return e&&e.__esModule?e:{default:e}}function jK(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function _K(e,t,r){if(r.displayValue&&t<e){if(r.textAlign=="center")return Math.floor((e-t)/2);if(r.textAlign=="left")return 0;if(r.textAlign=="right")return Math.floor(e-t)}return 0}function lWe(e,t,r){for(var n=0;n<e.length;n++){var a=e[n],i=(0,iWe.default)(t,a.options),o;i.displayValue?o=dWe(a.text,i,r):o=0;var l=a.data.length*i.width;a.width=Math.ceil(Math.max(o,l)),a.height=jK(a,i),a.barcodePadding=_K(o,l,i)}}function cWe(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].width;return t}function uWe(e){for(var t=0,r=0;r<e.length;r++)e[r].height>t&&(t=e[r].height);return t}function dWe(e,t,r){var n;if(r)n=r;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var a=n.measureText(e);if(!a)return 0;var i=a.width;return i}bs.getMaximumHeightOfEncodings=uWe;bs.getEncodingHeight=jK;bs.getBarcodePadding=_K;bs.calculateEncodingAttributes=lWe;bs.getTotalWidthOfEncodings=cWe;Object.defineProperty(dO,"__esModule",{value:!0});var hWe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),fWe=kf,mWe=pWe(fWe),P_=bs;function pWe(e){return e&&e.__esModule?e:{default:e}}function gWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var vWe=function(){function e(t,r,n){gWe(this,e),this.canvas=t,this.encodings=r,this.options=n}return hWe(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var n=(0,mWe.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(n,this.encodings[r]),this.drawCanvasText(n,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,P_.calculateEncodingAttributes)(this.encodings,this.options,r);var n=(0,P_.getTotalWidthOfEncodings)(this.encodings),a=(0,P_.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=a,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,n){var a=this.canvas.getContext("2d"),i=n.data,o;r.textPosition=="top"?o=r.marginTop+r.fontSize+r.textMargin:o=r.marginTop,a.fillStyle=r.lineColor;for(var l=0;l<i.length;l++){var c=l*r.width+n.barcodePadding;i[l]==="1"?a.fillRect(c,o,r.width,r.height):i[l]&&a.fillRect(c,o,r.width,r.height*i[l])}}},{key:"drawCanvasText",value:function(r,n){var a=this.canvas.getContext("2d"),i=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var o,l;r.textPosition=="top"?l=r.marginTop+r.fontSize-r.textMargin:l=r.height+r.textMargin+r.marginTop+r.fontSize,a.font=i,r.textAlign=="left"||n.barcodePadding>0?(o=0,a.textAlign="left"):r.textAlign=="right"?(o=n.width-1,a.textAlign="right"):(o=n.width/2,a.textAlign="center"),a.fillText(n.text,o,l)}}},{key:"moveCanvasDrawing",value:function(r){var n=this.canvas.getContext("2d");n.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),e}();dO.default=vWe;var hO={};Object.defineProperty(hO,"__esModule",{value:!0});var xWe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),yWe=kf,bWe=wWe(yWe),E_=bs;function wWe(e){return e&&e.__esModule?e:{default:e}}function jWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var bx="http://www.w3.org/2000/svg",_We=function(){function e(t,r,n){jWe(this,e),this.svg=t,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return xWe(e,[{key:"render",value:function(){var r=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var a=this.encodings[n],i=(0,bWe.default)(this.options,a.options),o=this.createGroup(r,i.marginTop,this.svg);this.setGroupOptions(o,i),this.drawSvgBarcode(o,i,a),this.drawSVGText(o,i,a),r+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,E_.calculateEncodingAttributes)(this.encodings,this.options);var r=(0,E_.getTotalWidthOfEncodings)(this.encodings),n=(0,E_.getMaximumHeightOfEncodings)(this.encodings),a=r+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,n),this.options.background&&this.drawRect(0,0,a,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(r,n,a){var i=a.data,o;n.textPosition=="top"?o=n.fontSize+n.textMargin:o=0;for(var l=0,c=0,u=0;u<i.length;u++)c=u*n.width+a.barcodePadding,i[u]==="1"?l++:l>0&&(this.drawRect(c-n.width*l,o,n.width*l,n.height,r),l=0);l>0&&this.drawRect(c-n.width*(l-1),o,n.width*l,n.height,r)}},{key:"drawSVGText",value:function(r,n,a){var i=this.document.createElementNS(bx,"text");if(n.displayValue){var o,l;i.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?l=n.fontSize-n.textMargin:l=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||a.barcodePadding>0?(o=0,i.setAttribute("text-anchor","start")):n.textAlign=="right"?(o=a.width-1,i.setAttribute("text-anchor","end")):(o=a.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",o),i.setAttribute("y",l),i.appendChild(this.document.createTextNode(a.text)),r.appendChild(i)}}},{key:"setSvgAttributes",value:function(r,n){var a=this.svg;a.setAttribute("width",r+"px"),a.setAttribute("height",n+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+r+" "+n),a.setAttribute("xmlns",bx),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(r,n,a){var i=this.document.createElementNS(bx,"g");return i.setAttribute("transform","translate("+r+", "+n+")"),a.appendChild(i),i}},{key:"setGroupOptions",value:function(r,n){r.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(r,n,a,i,o){var l=this.document.createElementNS(bx,"rect");return l.setAttribute("x",r),l.setAttribute("y",n),l.setAttribute("width",a),l.setAttribute("height",i),o.appendChild(l),l}}]),e}();hO.default=_We;var fO={};Object.defineProperty(fO,"__esModule",{value:!0});var NWe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function SWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var kWe=function(){function e(t,r,n){SWe(this,e),this.object=t,this.encodings=r,this.options=n}return NWe(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();fO.default=kWe;Object.defineProperty(uO,"__esModule",{value:!0});var CWe=dO,PWe=mO(CWe),EWe=hO,TWe=mO(EWe),OWe=fO,AWe=mO(OWe);function mO(e){return e&&e.__esModule?e:{default:e}}uO.default={CanvasRenderer:PWe.default,SVGRenderer:TWe.default,ObjectRenderer:AWe.default};var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});function pO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function vO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var IWe=function(e){vO(t,e);function t(r,n){pO(this,t);var a=gO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.name="InvalidInputException",a.symbology=r,a.input=n,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return t}(Error),MWe=function(e){vO(t,e);function t(){pO(this,t);var r=gO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="InvalidElementException",r.message="Not supported type to render on",r}return t}(Error),RWe=function(e){vO(t,e);function t(){pO(this,t);var r=gO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="NoElementException",r.message="No element to render on.",r}return t}(Error);Cf.InvalidInputException=IWe;Cf.InvalidElementException=MWe;Cf.NoElementException=RWe;Object.defineProperty(lO,"__esModule",{value:!0});var $We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DWe=cO,A2=NK(DWe),LWe=uO,ym=NK(LWe),FWe=Cf;function NK(e){return e&&e.__esModule?e:{default:e}}function xO(e){if(typeof e=="string")return BWe(e);if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(xO(e[r]));return t}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return zWe(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,A2.default)(e),renderer:ym.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,A2.default)(e),renderer:ym.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:ym.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":$We(e))==="object"&&!e.nodeName)return{element:e,renderer:ym.default.ObjectRenderer};throw new FWe.InvalidElementException}}function BWe(e){var t=document.querySelectorAll(e);if(t.length!==0){for(var r=[],n=0;n<t.length;n++)r.push(xO(t[n]));return r}}function zWe(e){var t=document.createElement("canvas");return{element:t,options:(0,A2.default)(e),renderer:ym.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}lO.default=xO;var yO={};Object.defineProperty(yO,"__esModule",{value:!0});var UWe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function VWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var WWe=function(){function e(t){VWe(this,e),this.api=t}return UWe(e,[{key:"handleCatch",value:function(r){if(r.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw r.message;else throw r;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(r){try{var n=r.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(a){return this.handleCatch(a),this.api}}}]),e}();yO.default=WWe;var qWe=UT,Vc=Zl(qWe),HWe=kf,mv=Zl(HWe),GWe=iO,SK=Zl(GWe),KWe=oO,j3=Zl(KWe),XWe=lO,YWe=Zl(XWe),QWe=v1,ZWe=Zl(QWe),JWe=yO,eqe=Zl(JWe),kK=Cf,tqe=x1,CK=Zl(tqe);function Zl(e){return e&&e.__esModule?e:{default:e}}var Ji=function(){},y1=function(t,r,n){var a=new Ji;if(typeof t>"u")throw Error("No element to render on was provided.");return a._renderProperties=(0,YWe.default)(t),a._encodings=[],a._options=CK.default,a._errorHandler=new eqe.default(a),typeof r<"u"&&(n=n||{},n.format||(n.format=EK()),a.options(n)[n.format](r,n).render()),a};y1.getModule=function(e){return Vc.default[e]};for(var _3 in Vc.default)Vc.default.hasOwnProperty(_3)&&rqe(Vc.default,_3);function rqe(e,t){Ji.prototype[t]=Ji.prototype[t.toUpperCase()]=Ji.prototype[t.toLowerCase()]=function(r,n){var a=this;return a._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var i=(0,mv.default)(a._options,n);i=(0,ZWe.default)(i);var o=e[t],l=PK(r,o,i);return a._encodings.push(l),a})}}function PK(e,t,r){e=""+e;var n=new t(e,r);if(!n.valid())throw new kK.InvalidInputException(n.constructor.name,e);var a=n.encode();a=(0,SK.default)(a);for(var i=0;i<a.length;i++)a[i].options=(0,mv.default)(r,a[i].options);return a}function EK(){return Vc.default.CODE128?"CODE128":Object.keys(Vc.default)[0]}Ji.prototype.options=function(e){return this._options=(0,mv.default)(this._options,e),this};Ji.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this};Ji.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var r=(0,mv.default)(this._options,e.options);r.format=="auto"&&(r.format=EK()),this._errorHandler.wrapBarcodeCall(function(){var n=r.value,a=Vc.default[r.format.toUpperCase()],i=PK(n,a,r);I2(e,i,r)})}}};Ji.prototype.render=function(){if(!this._renderProperties)throw new kK.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)I2(this._renderProperties[e],this._encodings,this._options);else I2(this._renderProperties,this._encodings,this._options);return this};Ji.prototype._defaults=CK.default;function I2(e,t,r){t=(0,SK.default)(t);for(var n=0;n<t.length;n++)t[n].options=(0,mv.default)(r,t[n].options),(0,j3.default)(t[n].options);(0,j3.default)(r);var a=e.renderer,i=new a(e.element,t,r);i.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=y1);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,t){var r=[];return jQuery(this).each(function(){r.push(this)}),y1(r,e,t)});var nqe=y1;const TK=Bt(nqe),sqe=({value:e})=>{const t=v.useRef(null);return v.useEffect(()=>{if(t.current&&e)try{TK(t.current,e,{format:"CODE128",width:2,height:50,displayValue:!1,margin:0})}catch(r){console.error("Barcode generation failed:",r)}},[e]),s.jsx("svg",{ref:t})},OK=v.forwardRef(({order:e,shopName:t="Your Shop",shopLogo:r},n)=>{const a=e.order_items.reduce((i,o)=>i+o.quantity,0);return s.jsxs("div",{ref:n,className:"bg-white text-black",style:{fontFamily:"Arial, sans-serif",fontSize:"14px",width:"210mm",minHeight:"297mm",padding:"15mm 20mm",boxSizing:"border-box"},children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsx("div",{className:"flex-1",children:r?s.jsx("img",{src:r,alt:t,style:{height:"70px",objectFit:"contain"}}):s.jsx("h1",{style:{fontSize:"36px",fontWeight:"bold",fontFamily:"Georgia, serif",margin:0},children:t})}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",marginBottom:"10px"},children:"INVOICE"}),e.tracking_number&&s.jsx("div",{style:{display:"inline-block"},children:s.jsx(sqe,{value:e.tracking_number})})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px",marginBottom:"28px",fontSize:"14px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontWeight:"bold",marginBottom:"10px",fontSize:"15px"},children:"Billing To"}),s.jsx("p",{style:{color:"#c53030",margin:"4px 0",fontSize:"14px"},children:e.shipping_name}),s.jsx("p",{style:{color:"#c53030",margin:"4px 0",fontSize:"14px"},children:e.shipping_phone}),s.jsx("p",{style:{color:"#c53030",margin:"4px 0",fontSize:"13px"},children:[e.shipping_street,e.shipping_district,e.shipping_city].filter(i=>i&&i.trim()&&i.toLowerCase()!=="n/a").join(", ")})]}),s.jsxs("div",{style:{fontSize:"14px"},children:[s.jsxs("p",{style:{margin:"4px 0"},children:[s.jsx("span",{style:{fontWeight:"600"},children:"Invoice No:"})," ",e.order_number.replace("ORD-","M")]}),s.jsxs("p",{style:{margin:"4px 0"},children:[s.jsx("span",{style:{fontWeight:"600"},children:"Invoice Date:"})," ",ot(new Date(e.created_at),"dd/MM/yy")]}),s.jsxs("p",{style:{margin:"4px 0"},children:[s.jsx("span",{style:{fontWeight:"600"},children:"Total Items:"})," ",a]})]}),s.jsxs("div",{style:{fontSize:"14px"},children:[s.jsxs("p",{style:{margin:"4px 0"},children:[s.jsx("span",{style:{fontWeight:"600"},children:"Delivery:"})," Steadfast"]}),s.jsxs("p",{style:{margin:"4px 0"},children:[s.jsx("span",{style:{fontWeight:"600"},children:"Steadfast ID:"})," ",e.steadfast_consignment_id||"Pending"]})]})]}),s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"28px"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderTop:"2px solid #000",borderBottom:"2px solid #000"},children:[s.jsx("th",{style:{textAlign:"left",padding:"10px 6px",fontSize:"14px"},children:"PRODUCTS"}),s.jsx("th",{style:{textAlign:"center",padding:"10px 6px",fontSize:"14px"},children:"QTY"}),s.jsx("th",{style:{textAlign:"center",padding:"10px 6px",fontSize:"14px"},children:"PRICE"}),s.jsx("th",{style:{textAlign:"right",padding:"10px 6px",fontSize:"14px"},children:"AMOUNT"})]})}),s.jsx("tbody",{children:e.order_items.map(i=>s.jsxs("tr",{style:{borderBottom:"1px solid #e5e5e5"},children:[s.jsx("td",{style:{padding:"12px 6px"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.product_image&&s.jsx("img",{src:i.product_image,alt:i.product_name,style:{width:"50px",height:"50px",objectFit:"cover"}}),s.jsxs("div",{children:[s.jsx("p",{style:{fontWeight:"600",margin:0,fontSize:"14px"},children:i.product_name}),i.variation_name&&(()=>{const o=i.variation_name.split("|").map(l=>l.trim());return s.jsx("div",{style:{margin:"3px 0 0 0"},children:o.map((l,c)=>s.jsx("span",{style:{display:"inline-block",background:l.toLowerCase().startsWith("color")?"#dbeafe":"#f3e8ff",color:l.toLowerCase().startsWith("color")?"#1e40af":"#6b21a8",fontSize:"11px",fontWeight:"600",padding:"2px 8px",borderRadius:"4px",marginRight:"6px",marginBottom:"2px"},children:l},c))})})(),s.jsxs("p",{style:{color:"#c53030",fontSize:"12px",margin:"3px 0 0 0"},children:["",Number(i.price).toFixed(0)]})]})]})}),s.jsx("td",{style:{textAlign:"center",padding:"12px 6px",color:"#c53030",fontSize:"15px",fontWeight:"600"},children:i.quantity}),s.jsxs("td",{style:{textAlign:"center",padding:"12px 6px",color:"#c53030",fontSize:"14px"},children:["",Number(i.price).toFixed(0)]}),s.jsxs("td",{style:{textAlign:"right",padding:"12px 6px",fontSize:"15px",fontWeight:"600"},children:["",(Number(i.price)*i.quantity).toFixed(0)]})]},i.id))})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{style:{color:"#c53030",fontSize:"14px",maxWidth:"300px"},children:[e.invoice_note&&s.jsxs("p",{style:{fontWeight:"500",margin:"0 0 4px 0"},children:["Note: ",e.invoice_note]}),e.notes&&!e.invoice_note&&s.jsxs("p",{style:{fontWeight:"500"},children:["Note: ",e.notes]})]}),s.jsxs("div",{style:{textAlign:"right",minWidth:"200px",fontSize:"14px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[s.jsx("span",{children:"Sub Total"}),s.jsxs("span",{children:["",Number(e.subtotal).toFixed(0)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[s.jsx("span",{children:"Delivery Charge"}),s.jsxs("span",{style:{color:"#c53030"},children:["",Number(e.shipping_cost||0).toFixed(0)]})]}),e.discount&&Number(e.discount)>0&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px",color:"#16a34a"},children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{children:["-",Number(e.discount).toFixed(0)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",borderTop:"2px solid #000",paddingTop:"8px",marginTop:"6px",fontSize:"16px"},children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["",Number(e.total).toFixed(0)]})]})]})]})]})});OK.displayName="OrderInvoice";function aqe({orders:e,open:t,onOpenChange:r,onOrdersPrinted:n}){const a=v.useRef(null),[i,o]=v.useState("Your Shop"),[l,c]=v.useState(null);v.useEffect(()=>{t&&u()},[t]);const u=async()=>{try{const{data:f}=await Q.from("admin_settings").select("key, value").in("key",["shop_name","shop_logo_url"]);f==null||f.forEach(m=>{m.key==="shop_name"&&o(m.value),m.key==="shop_logo_url"&&c(m.value)})}catch(f){console.error("Failed to load shop settings:",f)}},d=async()=>{try{const f=e.map(g=>g.id),{error:m}=await Q.from("orders").update({is_printed:!0}).in("id",f);if(m)throw m;G.success(`${e.length} order(s) marked as printed`),n==null||n(f)}catch(f){console.error("Failed to mark orders as printed:",f),G.error("Failed to update print status")}},h=nK.useReactToPrint({contentRef:a,documentTitle:`Invoices-${new Date().toISOString().split("T")[0]}`,pageStyle:`
      @page {
        size: A4;
        margin: 0;
      }
      @media print {
        html, body {
          height: 100%;
          margin: 0 !important;
          padding: 0 !important;
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
        }
      }
    `,onAfterPrint:()=>{d()}});return s.jsx(Jr,{open:t,onOpenChange:r,children:s.jsxs(zr,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ur,{children:s.jsxs(Vr,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Print Invoices (",e.length,")"]}),s.jsxs(U,{onClick:()=>h(),className:"gap-2",children:[s.jsx(EN,{className:"h-4 w-4"}),"Print All (A4)"]})]})}),s.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-100 p-4",children:s.jsx("div",{ref:a,children:e.map((f,m)=>s.jsx("div",{style:{pageBreakAfter:m<e.length-1?"always":"auto",pageBreakInside:"avoid"},children:s.jsx(OK,{order:f,shopName:i,shopLogo:l})},f.id))})})]})})}const iqe=({value:e})=>{const t=v.useRef(null);return v.useEffect(()=>{if(t.current&&e)try{TK(t.current,e,{format:"CODE128",width:2,height:50,displayValue:!1,margin:0})}catch(r){console.error("Barcode generation failed:",r)}},[e]),s.jsx("svg",{ref:t})},AK=v.forwardRef(({order:e,shopName:t="Your Shop",shopLogo:r},n)=>{const a=e.order_items.reduce((o,l)=>o+l.quantity,0),i=e.subtotal||e.order_items.reduce((o,l)=>o+l.price*l.quantity,0);return s.jsxs("div",{ref:n,className:"bg-white text-black",style:{fontFamily:"Arial, sans-serif",fontSize:"14px",width:"148mm",height:"210mm",padding:"10mm 12mm",boxSizing:"border-box"},children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("div",{className:"flex-1",children:r?s.jsx("img",{src:r,alt:t,style:{height:"50px",objectFit:"contain"}}):s.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",fontFamily:"Georgia, serif",margin:0},children:t})}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("h2",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"8px"},children:"INVOICE"}),e.tracking_number&&s.jsx("div",{style:{display:"inline-block"},children:s.jsx(iqe,{value:e.tracking_number})})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px",fontSize:"13px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontWeight:"bold",marginBottom:"8px",fontSize:"14px"},children:"Billing To"}),s.jsx("p",{style:{color:"#c53030",margin:"3px 0",fontSize:"14px",fontWeight:"600"},children:e.shipping_name}),s.jsx("p",{style:{color:"#c53030",margin:"3px 0",fontSize:"14px",fontWeight:"600"},children:e.shipping_phone}),s.jsxs("p",{style:{color:"#c53030",margin:"3px 0",fontSize:"12px"},children:[e.shipping_street,", ",e.shipping_district,", ",e.shipping_city]})]}),s.jsxs("div",{style:{fontSize:"13px"},children:[s.jsxs("p",{style:{margin:"3px 0"},children:[s.jsx("span",{style:{fontWeight:"600"},children:"Invoice No:"})," ",e.order_number.replace("ORD-","M")]}),e.created_at&&s.jsxs("p",{style:{margin:"3px 0"},children:[s.jsx("span",{style:{fontWeight:"600"},children:"Invoice Date:"})," ",ot(new Date(e.created_at),"dd/MM/yy")]}),s.jsxs("p",{style:{margin:"3px 0"},children:[s.jsx("span",{style:{fontWeight:"600"},children:"Total Items:"})," ",a]}),s.jsxs("p",{style:{margin:"3px 0"},children:[s.jsx("span",{style:{fontWeight:"600"},children:"Tracking:"})," ",e.tracking_number||"Pending"]})]})]}),s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"16px"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderTop:"2px solid #000",borderBottom:"2px solid #000"},children:[s.jsx("th",{style:{textAlign:"left",padding:"8px 4px",fontSize:"13px"},children:"PRODUCTS"}),s.jsx("th",{style:{textAlign:"center",padding:"8px 4px",fontSize:"13px"},children:"QTY"}),s.jsx("th",{style:{textAlign:"center",padding:"8px 4px",fontSize:"13px"},children:"PRICE"}),s.jsx("th",{style:{textAlign:"right",padding:"8px 4px",fontSize:"13px"},children:"AMOUNT"})]})}),s.jsx("tbody",{children:e.order_items.map(o=>s.jsxs("tr",{style:{borderBottom:"1px solid #e5e5e5"},children:[s.jsx("td",{style:{padding:"8px 4px"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.product_image&&s.jsx("img",{src:o.product_image,alt:o.product_name,style:{width:"35px",height:"35px",objectFit:"cover"}}),s.jsxs("div",{children:[s.jsx("p",{style:{fontWeight:"600",margin:0,fontSize:"12px"},children:o.product_name}),o.variation_name&&(()=>{const l=o.variation_name.split("|").map(c=>c.trim());return s.jsx("div",{style:{margin:"2px 0 0 0"},children:l.map((c,u)=>s.jsx("span",{style:{display:"inline-block",background:c.toLowerCase().startsWith("color")?"#dbeafe":"#f3e8ff",color:c.toLowerCase().startsWith("color")?"#1e40af":"#6b21a8",fontSize:"10px",fontWeight:"600",padding:"1px 6px",borderRadius:"3px",marginRight:"4px"},children:c},u))})})(),s.jsxs("p",{style:{color:"#c53030",fontSize:"11px",margin:"2px 0 0 0"},children:["",Number(o.price).toFixed(0)]})]})]})}),s.jsx("td",{style:{textAlign:"center",padding:"8px 4px",color:"#c53030",fontSize:"14px",fontWeight:"600"},children:o.quantity}),s.jsxs("td",{style:{textAlign:"center",padding:"8px 4px",color:"#c53030",fontSize:"13px"},children:["",Number(o.price).toFixed(0)]}),s.jsxs("td",{style:{textAlign:"right",padding:"8px 4px",fontSize:"14px",fontWeight:"600"},children:["",(Number(o.price)*o.quantity).toFixed(0)]})]},o.id))})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("div",{style:{color:"#c53030",fontSize:"13px",maxWidth:"50%"},children:e.notes&&s.jsxs("p",{style:{fontWeight:"500"},children:["Note: ",e.notes]})}),s.jsxs("div",{style:{textAlign:"right",minWidth:"150px",fontSize:"13px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[s.jsx("span",{children:"Sub Total"}),s.jsxs("span",{children:["",Number(i).toFixed(0)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[s.jsx("span",{children:"Delivery Charge"}),s.jsxs("span",{style:{color:"#c53030"},children:["",Number(e.shipping_cost||0).toFixed(0)]})]}),e.discount&&Number(e.discount)>0&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px",color:"#16a34a"},children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{children:["-",Number(e.discount).toFixed(0)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",borderTop:"2px solid #000",paddingTop:"6px",marginTop:"4px",fontSize:"15px"},children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["",Number(e.total).toFixed(0)]})]})]})]})]})});AK.displayName="OrderSticker";function oqe({orders:e,open:t,onOpenChange:r,onOrdersPrinted:n}){const a=v.useRef(null),[i,o]=v.useState("Your Shop"),[l,c]=v.useState(null);v.useEffect(()=>{t&&u()},[t]);const u=async()=>{try{const{data:f}=await Q.from("admin_settings").select("key, value").in("key",["shop_name","shop_logo_url"]);f==null||f.forEach(m=>{m.key==="shop_name"&&o(m.value),m.key==="shop_logo_url"&&c(m.value)})}catch(f){console.error("Failed to load shop settings:",f)}},d=async()=>{try{const f=e.map(g=>g.id),{error:m}=await Q.from("orders").update({is_printed:!0}).in("id",f);if(m)throw m;G.success(`${e.length} order(s) marked as printed`),n==null||n(f)}catch(f){console.error("Failed to mark orders as printed:",f),G.error("Failed to update print status")}},h=nK.useReactToPrint({contentRef:a,documentTitle:`Stickers-${new Date().toISOString().split("T")[0]}`,pageStyle:`
      @page {
        size: A5;
        margin: 0;
      }
      @media print {
        html, body {
          height: 100%;
          margin: 0 !important;
          padding: 0 !important;
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
        }
      }
    `,onAfterPrint:()=>{d()}});return s.jsx(Jr,{open:t,onOpenChange:r,children:s.jsxs(zr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ur,{children:s.jsxs(Vr,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Print Stickers - A5 (",e.length,")"]}),s.jsxs(U,{onClick:()=>h(),className:"gap-2",children:[s.jsx(DC,{className:"h-4 w-4"}),"Print All (A5)"]})]})}),s.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-100 p-4",children:s.jsx("div",{ref:a,children:e.map((f,m)=>s.jsx("div",{style:{pageBreakAfter:m<e.length-1?"always":"auto",pageBreakInside:"avoid"},children:s.jsx(AK,{order:f,shopName:i,shopLogo:l})},f.id))})})]})})}const lqe={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function bO(e){return e.replace(/[-]/g,t=>lqe[t]||t)}function N3(e){let t=bO(e).replace(/\s+/g,"").replace(/[^0-9]/g,"");return t.startsWith("88")&&(t=t.substring(2)),!t.startsWith("0")&&t.length===10&&(t=`0${t}`),t}function S3(e){return e.trim().replace(/\s+/g," ").toLowerCase()}function cqe(e){const t=bO(e),r=t.split(/[\n,]+/).map(u=>u.trim()).filter(Boolean);let n,a,i;const o=/(?:^|\s|:)(01[3-9][0-9]{8})(?:\s|$|,)/,l=t.match(o);if(l)n=l[1];else{const u=t.match(/\b(01[0-9]{9})\b/);u&&(n=u[1])}const c=[];for(const u of r){const d=u.replace(/01[0-9]{9}/g,"").trim();d.length>0&&c.push(d)}if(c.length>=1){const u=c[0];u.length<=50&&!/\d/.test(u)?(a=u,c.length>1&&(i=c.slice(1).join(", "))):i=c.join(", ")}return{phone:n,name:a,address:i}}const k3=new Map;function uqe({open:e,onOpenChange:t,onOrderCreated:r}){var oa,Jl,la,Au;const[n,a]=v.useState([]),[i,o]=v.useState(!0),[l,c]=v.useState(""),[u,d]=v.useState(""),[h,f]=v.useState([]),[m,g]=v.useState(!1),[p,x]=v.useState(null),[b,y]=v.useState(""),[w,N]=v.useState(""),[S,k]=v.useState(""),[_,j]=v.useState(""),[C,I]=v.useState(""),[M,$]=v.useState("steadfast"),[W,V]=v.useState("outside_dhaka"),[E,P]=v.useState(""),[R,O]=v.useState(""),[T,D]=v.useState(""),[X,A]=v.useState(),[q,L]=v.useState(!1),[J,le]=v.useState([]),[H,re]=v.useState(!1),[te,ie]=v.useState(null),ee={inside_dhaka:60,outside_dhaka:120},K=v.useMemo(()=>N3(b),[b]);v.useEffect(()=>{if(K.length!==11){A(void 0);return}const se=k3.get(K);if(se!=null&&se.data){A(se.data);return}let De=!0;return(async()=>{var ke;L(!0);try{const{data:et,error:Mt}=await Q.functions.invoke("courier-history",{body:{phone:K}});if(Mt)throw Mt;const Rt=et;if(Rt!=null&&Rt.error)throw new Error(Rt.error);const Z=(ke=Rt==null?void 0:Rt.data)==null?void 0:ke.courierData;k3.set(K,{data:Z,fetchedAt:Date.now()}),De&&A(Z)}catch{}finally{De&&L(!1)}})(),()=>{De=!1}},[K]),v.useEffect(()=>{e&&(Me(),he(),D(ee[W].toString()))},[e]),v.useEffect(()=>{(!T||T===ee.inside_dhaka.toString()||T===ee.outside_dhaka.toString())&&D(ee[W].toString())},[W]);const he=async()=>{try{const{data:se,error:De}=await Q.from("orders").select("shipping_phone, shipping_name, shipping_street, shipping_district, shipping_city, created_at").order("created_at",{ascending:!1});if(De)throw De;const ke=new Map;(se||[]).forEach(et=>{const Mt=et.shipping_phone.replace(/\D/g,"").slice(-11);if(Mt.length===11)if(ke.has(Mt)){const Rt=ke.get(Mt);Rt.orderCount++}else ke.set(Mt,{phone:et.shipping_phone,name:et.shipping_name,address:et.shipping_street,district:et.shipping_district,city:et.shipping_city,lastOrderDate:et.created_at,orderCount:1})}),le(Array.from(ke.values()))}catch(se){console.error("Failed to load previous customers:",se)}},ue=v.useMemo(()=>{if(b.length<3)return[];const se=N3(b);return J.filter(De=>De.phone.replace(/\D/g,"").slice(-11).includes(se)||De.name.toLowerCase().includes(b.toLowerCase())).slice(0,5)},[b,J]),be=se=>{y(se.phone.replace(/\D/g,"").slice(-11)),N(se.name),k(se.address),ie(se),re(!1)},Me=async()=>{o(!0);try{const{data:se,error:De}=await Q.from("products").select("id, name, price, images, stock, slug").eq("is_active",!0).order("name");if(De)throw De;const{data:ke,error:et}=await Q.from("product_variations").select("id, name, price, stock, product_id, sort_order").eq("is_active",!0).order("sort_order");if(et)throw et;const Mt=(se||[]).map(Rt=>{const Z=(ke||[]).filter(fe=>fe.product_id===Rt.id),ae=Array.from(new Map(Z.sort((fe,Ce)=>(fe.sort_order||0)-(Ce.sort_order||0)).map(fe=>[S3(fe.name),fe])).values());return{...Rt,variations:ae.map(fe=>({id:fe.id,name:fe.name,price:fe.price,stock:fe.stock}))}});a(Mt)}catch{G.error("Failed to load products")}finally{o(!1)}},Se=n.filter(se=>{const De=!l||se.slug.toLowerCase().includes(l.toLowerCase()),ke=!u||se.name.toLowerCase().includes(u.toLowerCase());return De&&ke}),tt=se=>{se.variations&&se.variations.length>0?x(se):ft(se)},ft=se=>{const De=h.find(ke=>ke.product.id===se.id&&!ke.variation);De?it(se.id,void 0,De.quantity+1):f([...h,{product:se,quantity:1}])},kt=(se,De)=>{const ke=h.find(et=>{var Mt;return et.product.id===se.id&&((Mt=et.variation)==null?void 0:Mt.id)===De.id});ke?it(se.id,De.id,ke.quantity+1):f([...h,{product:se,quantity:1,variation:De}]),x(null)},it=(se,De,ke)=>{if(ke<1){Rr(se,De);return}f(h.map(et=>{var Mt;if(et.product.id===se){if(De&&((Mt=et.variation)==null?void 0:Mt.id)===De)return{...et,quantity:ke};if(!De&&!et.variation)return{...et,quantity:ke}}return et}))},Rr=(se,De)=>{f(h.filter(ke=>{var et;return ke.product.id===se?De?((et=ke.variation)==null?void 0:et.id)!==De:!!ke.variation:!0}))},ce=h.reduce((se,De)=>{const ke=De.variation?De.variation.price:De.product.price,et=De.customPrice!==void 0?De.customPrice:ke;return se+et*De.quantity},0),Ee=Number(E)||0,Pe=Number(R)||0,We=Number(T)||0,mt=ce-Ee+We-Pe,nr=(se,De,ke)=>{f(h.map(et=>{var Mt;if(et.product.id===se){if(De&&((Mt=et.variation)==null?void 0:Mt.id)===De)return{...et,customPrice:ke};if(!De&&!et.variation)return{...et,customPrice:ke}}return et}))},ls=()=>{f([]),y(""),N(""),k(""),j(""),I(""),$("steadfast"),V("outside_dhaka"),P(""),O(""),D(ee.outside_dhaka.toString()),c(""),d(""),A(void 0),ie(null),re(!1),x(null)},ne=se=>{const De=bO(se);if(De.includes(`
`)||De.includes(",")||De.length>20){const ke=cqe(se);ke.phone&&y(ke.phone),ke.name&&!w&&N(ke.name),ke.address&&!S&&k(ke.address)}else{let ke=De.replace(/[^0-9+]/g,"");ke.startsWith("+88")?ke=ke.substring(3):ke.startsWith("88")&&ke.length>11&&(ke=ke.substring(2)),ke=ke.replace(/[^0-9]/g,""),y(ke.slice(0,11))}},Te=(()=>{const se=X==null?void 0:X.summary;if(!se)return null;const De=se.success_ratio??0,ke=se.cancelled_parcel??0,et=se.total_parcel??0;return ke>=5||De<50?{level:"high",message:"High Risk - Many cancelled orders",color:"bg-red-500"}:ke>=2||De<70?{level:"medium",message:"Medium Risk - Some cancelled orders",color:"bg-amber-500"}:et>0&&De>=80?{level:"low",message:"Good Customer",color:"bg-green-500"}:null})(),Xt=async()=>{if(!b.trim()){G.error("Please enter mobile number");return}if(!w.trim()){G.error("Please enter customer name");return}if(!S.trim()){G.error("Please enter address");return}if(h.length===0){G.error("Please add at least one product");return}g(!0);try{const{data:se,error:De}=await Q.functions.invoke("place-order",{body:{userId:null,items:h.map(ke=>{var Z,ae,fe;const et=ke.variation?ke.variation.price:ke.product.price,Mt=ke.customPrice!==void 0?ke.customPrice:et,Rt=((Z=ke.variation)==null?void 0:Z.name)||null;return{productId:ke.product.id,variationId:((ae=ke.variation)==null?void 0:ae.id)||null,variationName:Rt,quantity:ke.quantity,productName:Rt?`${ke.product.name} (${Rt})`:ke.product.name,productImage:((fe=ke.product.images)==null?void 0:fe[0])||null,price:Mt}}),shipping:{name:w,phone:b,address:S},shippingZone:W,invoiceNote:_||null,steadfastNote:C||null,orderSource:"manual"}});if(De)throw De;if(se!=null&&se.error){G.error(se.error);return}if(!(se!=null&&se.orderNumber)&&!(se!=null&&se.orderId))throw new Error("Order response missing order number");G.success(`Order created successfully! Order #${se.orderNumber||se.orderId}`),ls(),r(),t(!1)}catch(se){console.error("Failed to create order:",se),G.error(se.message||"Failed to create order")}finally{g(!1)}};return s.jsx(Jr,{open:e,onOpenChange:t,children:s.jsxs(zr,{className:"max-w-5xl max-h-[95vh] overflow-y-auto p-0",children:[s.jsxs(Ur,{className:"p-4 pb-2",children:[s.jsx(Vr,{className:"text-lg font-semibold",children:"New Order"}),K.length===11&&s.jsx("div",{className:"mt-2",children:q?s.jsxs("div",{className:"flex items-center py-2",children:[s.jsx(Kt,{className:"h-4 w-4 animate-spin text-muted-foreground"}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Checking courier history..."})]}):X?s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${(Te==null?void 0:Te.level)==="high"?"bg-red-50 border-2 border-red-500 text-red-800":(Te==null?void 0:Te.level)==="medium"?"bg-amber-50 border border-amber-400 text-amber-800":(Te==null?void 0:Te.level)==="low"?"bg-green-50 border border-green-400 text-green-800":"bg-muted/50 border text-muted-foreground"}`,children:[(Te==null?void 0:Te.level)==="high"?s.jsx(_J,{className:"h-6 w-6 text-red-600 shrink-0"}):(Te==null?void 0:Te.level)==="medium"?s.jsx(yi,{className:"h-6 w-6 text-amber-600 shrink-0"}):(Te==null?void 0:Te.level)==="low"?s.jsx(vi,{className:"h-6 w-6 text-green-600 shrink-0"}):null,s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:(Te==null?void 0:Te.message)||"Courier History"}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("span",{children:["Total: ",s.jsx("strong",{children:((oa=X.summary)==null?void 0:oa.total_parcel)||0})]}),s.jsxs("span",{className:"text-green-700",children:["Success: ",s.jsx("strong",{children:((Jl=X.summary)==null?void 0:Jl.success_parcel)||0})]}),s.jsxs("span",{className:"text-red-700",children:["Cancelled: ",s.jsx("strong",{children:((la=X.summary)==null?void 0:la.cancelled_parcel)||0})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:`text-3xl font-bold ${(Te==null?void 0:Te.level)==="high"?"text-red-600":(Te==null?void 0:Te.level)==="medium"?"text-amber-600":(Te==null?void 0:Te.level)==="low"?"text-green-600":"text-foreground"}`,children:[Math.round(((Au=X.summary)==null?void 0:Au.success_ratio)||0),"%"]}),s.jsx("p",{className:"text-xs opacity-70",children:"Success Rate"})]})]}):null})]}),s.jsxs("div",{className:"p-4 pt-2 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(z,{htmlFor:"mobileNumber",className:"text-sm text-muted-foreground flex items-center gap-2",children:["Mobile Number",te&&s.jsxs(Ge,{variant:"secondary",className:"gap-1 text-xs bg-amber-100 text-amber-700",children:[s.jsx(TN,{className:"h-3 w-3"}),"Repeat (",te.orderCount," orders)"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"mobileNumber",value:b,onChange:se=>{ne(se.target.value),re(!0),ie(null)},onFocus:()=>re(!0),onBlur:()=>setTimeout(()=>re(!1),200),onPaste:se=>{se.preventDefault();const De=se.clipboardData.getData("text");ne(De)},placeholder:"Enter or paste info",className:"h-9 pr-16",maxLength:11}),s.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:b.length===11&&s.jsxs(s.Fragment,{children:[s.jsx("a",{href:`tel:${b}`,className:"p-1 hover:bg-muted rounded text-blue-600",title:"Call",children:s.jsx(on,{className:"h-4 w-4"})}),s.jsx("a",{href:`https://wa.me/88${b}`,target:"_blank",rel:"noopener noreferrer",className:"p-1 hover:bg-muted rounded text-green-600",title:"WhatsApp",children:s.jsx(Qc,{className:"h-4 w-4"})})]})}),H&&ue.length>0&&s.jsx("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 bg-background border rounded-md shadow-lg max-h-48 overflow-y-auto",children:ue.map((se,De)=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted flex items-start gap-3 border-b last:border-b-0",onMouseDown:ke=>{ke.preventDefault(),be(se)},children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium truncate",children:se.name}),s.jsxs(Ge,{variant:"secondary",className:"gap-1 text-xs bg-amber-100 text-amber-700 shrink-0",children:[s.jsx(Jh,{className:"h-3 w-3"}),se.orderCount]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:se.phone}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:se.address})]})},De))})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(z,{htmlFor:"customerName",className:"text-sm text-muted-foreground",children:"Name"}),s.jsx(F,{id:"customerName",value:w,onChange:se=>N(se.target.value),placeholder:"Customer Name",className:"h-9"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(z,{className:"text-sm text-muted-foreground",children:"Delivery Method"}),s.jsxs(Zt,{value:M,onValueChange:$,children:[s.jsx(Vt,{className:"h-9",children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"steadfast",children:"Steadfast"}),s.jsx(qe,{value:"pathao",children:"Pathao"}),s.jsx(qe,{value:"redx",children:"RedX"}),s.jsx(qe,{value:"sundarban",children:"Sundarban"}),s.jsx(qe,{value:"self",children:"Self Delivery"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(z,{htmlFor:"address",className:"text-sm text-muted-foreground",children:"Address"}),s.jsx(F,{id:"address",value:S,onChange:se=>k(se.target.value),placeholder:"Enter address",className:"h-9"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(z,{className:"text-sm text-muted-foreground",children:"Shipping Zone"}),s.jsxs(Zt,{value:W,onValueChange:se=>V(se),children:[s.jsx(Vt,{className:"h-9",children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"inside_dhaka",children:"Inside Dhaka"}),s.jsx(qe,{value:"outside_dhaka",children:"Outside Dhaka"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(z,{htmlFor:"invoiceNote",className:"text-sm text-muted-foreground",children:"Invoice Note (shows on invoice)"}),s.jsx(F,{id:"invoiceNote",value:_,onChange:se=>j(se.target.value),placeholder:"Note for printed invoice...",className:"h-9"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(z,{htmlFor:"steadfastNote",className:"text-sm text-muted-foreground",children:"Steadfast Note (sent to courier)"}),s.jsx(F,{id:"steadfastNote",value:C,onChange:se=>I(se.target.value),placeholder:"Note for Steadfast...",className:"h-9"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(me,{className:"border",children:[s.jsx(we,{className:"py-3 px-4",children:s.jsx(_e,{className:"text-base font-semibold",children:"Ordered Products"})}),s.jsx(pe,{className:"p-4 pt-0 min-h-[250px]",children:h.length===0?s.jsx("p",{className:"text-sm text-blue-500",children:"No Products added. Please add products to the order"}):s.jsx("div",{className:"space-y-2",children:h.map((se,De)=>{var Rt;const ke=se.variation?`${se.product.id}-${se.variation.id}`:se.product.id,et=se.variation?se.variation.price:se.product.price,Mt=se.customPrice!==void 0?se.customPrice:et;return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/30 rounded-md",children:[((Rt=se.product.images)==null?void 0:Rt[0])&&s.jsx("img",{src:se.product.images[0],alt:se.product.name,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:se.product.name}),se.variation&&s.jsx(Ge,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-700",children:se.variation.name}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsx(F,{type:"number",min:"0",value:Mt,onChange:Z=>{var fe;const ae=Z.target.value;nr(se.product.id,(fe=se.variation)==null?void 0:fe.id,ae===""?void 0:Number(ae))},className:"h-6 w-16 text-xs px-1 py-0",placeholder:et.toString()}),se.customPrice!==void 0&&se.customPrice!==et&&s.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["",et]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(U,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>{var Z;return it(se.product.id,(Z=se.variation)==null?void 0:Z.id,se.quantity-1)},children:s.jsx(Cg,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-6 text-center text-sm",children:se.quantity}),s.jsx(U,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>{var Z;return it(se.product.id,(Z=se.variation)==null?void 0:Z.id,se.quantity+1)},children:s.jsx(qt,{className:"h-3 w-3"})}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>{var Z;return Rr(se.product.id,(Z=se.variation)==null?void 0:Z.id)},children:s.jsx(Mr,{className:"h-3 w-3"})})]}),s.jsxs("p",{className:"font-medium text-sm w-16 text-right",children:["",Mt*se.quantity]})]},ke)})})})]}),s.jsxs(me,{className:"border",children:[s.jsx(we,{className:"py-3 px-4",children:s.jsx(_e,{className:"text-base font-semibold",children:"Click To Add Products"})}),s.jsxs(pe,{className:"p-4 pt-0",children:[s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground mb-1 block",children:"Code/sku"}),s.jsx(F,{value:l,onChange:se=>c(se.target.value),placeholder:"Type to Search..",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground mb-1 block",children:"Name"}),s.jsx(F,{value:u,onChange:se=>d(se.target.value),placeholder:"Type to Search..",className:"h-8 text-sm"})]})]}),s.jsx("div",{className:"max-h-[200px] overflow-y-auto space-y-1",children:i?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Kt,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):Se.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No products found"}):Se.map(se=>{var De;return s.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-muted/50 rounded-md cursor-pointer group",onClick:()=>tt(se),children:[(De=se.images)!=null&&De[0]?s.jsx("img",{src:se.images[0],alt:se.name,className:"w-14 h-14 object-cover rounded"}):s.jsx("div",{className:"w-14 h-14 bg-muted rounded flex items-center justify-center text-muted-foreground text-xs",children:"No img"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:se.name}),s.jsxs("p",{className:"text-xs text-blue-600",children:["SKU: ",se.slug]}),s.jsxs("div",{className:"flex items-center justify-between mt-0.5",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Price: ",se.price]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Stock: ",se.stock]})]}),se.variations&&se.variations.length>0&&s.jsxs("p",{className:"text-xs text-amber-600 font-medium",children:[se.variations.length," sizes available"]})]}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-amber-500 hover:text-amber-600 opacity-70 group-hover:opacity-100",children:s.jsx($C,{className:"h-4 w-4 fill-current"})})]},se.id)})}),p&&s.jsxs("div",{className:"mt-3 p-3 border-2 border-primary rounded-lg bg-primary/5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("p",{className:"font-medium text-sm",children:["Select Size for: ",p.name]}),s.jsx(U,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:()=>x(null),children:""})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(new Map((p.variations||[]).map(se=>[S3(se.name),se])).values()).map(se=>s.jsxs(U,{variant:"outline",size:"sm",className:"h-8 px-3 hover:bg-primary hover:text-primary-foreground",onClick:()=>kt(p,se),children:[se.name,s.jsxs("span",{className:"ml-1 text-xs opacity-70",children:["(",se.price,")"]})]},se.id))})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Discount"}),s.jsx(F,{type:"number",value:E,onChange:se=>P(se.target.value),placeholder:"0",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Advance"}),s.jsx(F,{type:"number",value:R,onChange:se=>O(se.target.value),placeholder:"0",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Sub Total"}),s.jsx(F,{value:ce,readOnly:!0,className:"h-8 text-sm bg-muted/50"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"DeliveryCharge"}),s.jsx(F,{type:"number",value:T,onChange:se=>D(se.target.value),className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs text-primary",children:"Grand Total"}),s.jsx(F,{value:mt,readOnly:!0,className:"h-8 text-sm bg-muted/50 font-semibold"})]})]}),s.jsx(U,{onClick:Xt,disabled:m,className:"w-full h-10 bg-emerald-500 hover:bg-emerald-600 text-white font-medium",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):`Create Order (${mt.toFixed(2)})`})]})]})})}const dqe=[{value:"cod",label:"Cash on Delivery"},{value:"bkash",label:"bKash"},{value:"nagad",label:"Nagad"},{value:"bank",label:"Bank Transfer"}],hqe=[{value:"pending",label:"Pending"},{value:"paid",label:"Paid"},{value:"failed",label:"Failed"},{value:"refunded",label:"Refunded"}];function fqe({order:e,open:t,onOpenChange:r,onOrderUpdated:n}){const[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,h]=v.useState(""),[f,m]=v.useState(""),[g,p]=v.useState(""),[x,b]=v.useState(""),[y,w]=v.useState("cod"),[N,S]=v.useState("pending"),[k,_]=v.useState(0),[j,C]=v.useState(0),[I,M]=v.useState(""),[$,W]=v.useState([]),V=$.reduce((D,X)=>D+X.price*X.quantity,0),E=V+k-j;v.useEffect(()=>{e&&t&&(l(e.shipping_name||""),u(e.shipping_phone||""),h(e.shipping_street||""),m(e.shipping_city||""),p(e.shipping_district||""),b(e.shipping_postal_code||""),w(e.payment_method||"cod"),S(e.payment_status||"pending"),_(Number(e.shipping_cost)||0),C(Number(e.discount)||0),M(e.notes||""),W([...e.order_items]))},[e,t]);const P=(D,X,A)=>{W(q=>{const L=[...q];return L[D]={...L[D],[X]:A},L})},R=D=>{if($.length<=1){G.error("Order must have at least one item");return}W(X=>X.filter((A,q)=>q!==D))},O=()=>{const D={id:`new-${Date.now()}`,product_name:"New Item",product_image:null,quantity:1,price:0,variation_name:null};W(X=>[...X,D])},T=async()=>{if(e){if(!o.trim()){G.error("Customer name is required");return}if(!c.trim()){G.error("Phone number is required");return}if(!d.trim()){G.error("Address is required");return}if($.length===0){G.error("Order must have at least one item");return}i(!0);try{const{error:D}=await Q.from("orders").update({shipping_name:o.trim(),shipping_phone:c.trim(),shipping_street:d.trim(),shipping_city:f.trim(),shipping_district:g.trim(),shipping_postal_code:x.trim()||null,payment_method:y,payment_status:N,shipping_cost:k,discount:j,notes:I.trim()||null,subtotal:V,total:E}).eq("id",e.id);if(D)throw D;const{error:X}=await Q.from("order_items").delete().eq("order_id",e.id);if(X)throw X;const A=$.map(L=>({order_id:e.id,product_name:L.product_name,product_image:L.product_image,quantity:Number(L.quantity),price:Number(L.price),variation_name:L.variation_name,product_id:null,variation_id:null})),{error:q}=await Q.from("order_items").insert(A);if(q)throw q;G.success("Order updated successfully"),n(),r(!1)}catch(D){console.error("Error updating order:",D),G.error("Failed to update order")}finally{i(!1)}}};return e?s.jsx(Jr,{open:t,onOpenChange:r,children:s.jsxs(zr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ur,{children:s.jsxs(Vr,{children:["Edit Order ",e.order_number]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg border-b pb-2",children:"Customer Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Customer Name *"}),s.jsx(F,{value:o,onChange:D=>l(D.target.value),placeholder:"Enter customer name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Phone Number *"}),s.jsx(F,{value:c,onChange:D=>u(D.target.value),placeholder:"01XXXXXXXXX"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg border-b pb-2",children:"Shipping Address"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Street Address *"}),s.jsx(wt,{value:d,onChange:D=>h(D.target.value),placeholder:"House, Road, Area...",rows:2})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"District"}),s.jsx(F,{value:g,onChange:D=>p(D.target.value),placeholder:"District"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"City"}),s.jsx(F,{value:f,onChange:D=>m(D.target.value),placeholder:"City"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Postal Code"}),s.jsx(F,{value:x,onChange:D=>b(D.target.value),placeholder:"Postal Code"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg border-b pb-2",children:"Payment Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Payment Method"}),s.jsxs(Zt,{value:y,onValueChange:w,children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsx(Wt,{children:dqe.map(D=>s.jsx(qe,{value:D.value,children:D.label},D.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Payment Status"}),s.jsxs(Zt,{value:N,onValueChange:S,children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsx(Wt,{children:hqe.map(D=>s.jsx(qe,{value:D.value,children:D.label},D.value))})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[s.jsx("h3",{className:"font-medium text-lg",children:"Order Items"}),s.jsxs(U,{variant:"outline",size:"sm",onClick:O,children:[s.jsx(qt,{className:"h-4 w-4 mr-1"}),"Add Item"]})]}),s.jsx("div",{className:"space-y-3",children:$.map((D,X)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-3",children:[s.jsxs("div",{className:"col-span-2 space-y-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Product Name"}),s.jsx(F,{value:D.product_name,onChange:A=>P(X,"product_name",A.target.value),placeholder:"Product name"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Size/Variant"}),s.jsx(F,{value:D.variation_name||"",onChange:A=>P(X,"variation_name",A.target.value),placeholder:"Size/Variant"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Quantity"}),s.jsx(F,{type:"number",min:"1",value:D.quantity,onChange:A=>P(X,"quantity",parseInt(A.target.value)||1)})]})]}),s.jsxs("div",{className:"w-28 space-y-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Price ()"}),s.jsx(F,{type:"number",min:"0",value:D.price,onChange:A=>P(X,"price",parseFloat(A.target.value)||0)})]}),s.jsx(U,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>R(X),children:s.jsx(Mr,{className:"h-4 w-4"})})]},D.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg border-b pb-2",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Shipping Cost ()"}),s.jsx(F,{type:"number",min:"0",value:k,onChange:D=>_(parseFloat(D.target.value)||0)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Discount ()"}),s.jsx(F,{type:"number",min:"0",value:j,onChange:D=>C(parseFloat(D.target.value)||0)})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["",V.toFixed(0)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Shipping"}),s.jsxs("span",{children:["",k.toFixed(0)]})]}),j>0&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{children:["-",j.toFixed(0)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["",E.toFixed(0)]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg border-b pb-2",children:"Order Notes"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Notes"}),s.jsx(wt,{value:I,onChange:D=>M(D.target.value),placeholder:"Internal notes about the order...",rows:2})]})]})]}),s.jsxs(qi,{children:[s.jsx(U,{variant:"outline",onClick:()=>r(!1),disabled:a,children:"Cancel"}),s.jsxs(U,{onClick:T,disabled:a,children:[a&&s.jsx(Kt,{className:"h-4 w-4 mr-2 animate-spin"}),a?"Saving...":"Save Changes"]})]})]})}):null}const C3=[{value:"web",label:"Web Orders",icon:U8},{value:"manual",label:"Manual Orders",icon:PJ}],sm=[{value:"pending",label:"Pending",icon:ea,color:"bg-yellow-500"},{value:"processing",label:"Processing",icon:Tr,color:"bg-blue-500"},{value:"confirmed",label:"Confirmed",icon:vi,color:"bg-teal-500"},{value:"shipped",label:"Shipped",icon:ur,color:"bg-purple-500"},{value:"delivered",label:"Delivered",icon:vi,color:"bg-green-500"},{value:"returned",label:"Returned",icon:oo,color:"bg-orange-500"},{value:"cancelled",label:"Cancelled",icon:oo,color:"bg-red-500"}],P3=(e,t)=>{const r=t.replace(/\D/g,"").slice(-11);return e.filter(n=>n.shipping_phone.replace(/\D/g,"").slice(-11)===r).length},mqe=(e,t,r)=>{const n=t.replace(/\D/g,"").slice(-11);return e.filter(a=>a.shipping_phone.replace(/\D/g,"").slice(-11)===n&&a.id!==r).sort((a,i)=>new Date(i.created_at).getTime()-new Date(a.created_at).getTime())};function pqe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,i]=v.useState(""),[o,l]=v.useState("pending"),[c,u]=v.useState("all"),[d,h]=v.useState("all"),[f,m]=v.useState(null),[g,p]=v.useState(!1),[x,b]=v.useState(""),[y,w]=v.useState(!1),[N,S]=v.useState(!1),[k,_]=v.useState(new Set),[j,C]=v.useState(!1),[I,M]=v.useState(!1),[$,W]=v.useState(!1),[V,E]=v.useState(!1),[P,R]=v.useState(!1),[O,T]=v.useState(!1),[D,X]=v.useState(null),[A,q]=v.useState({}),[L,J]=v.useState(!1),[le,H]=v.useState(null),[re,te]=v.useState(!1),[ie,ee]=v.useState(!1),[K,he]=v.useState(void 0),[ue,be]=v.useState(void 0),[Me,Se]=v.useState(""),[tt,ft]=v.useState(""),[kt,it]=v.useState(!1),Rr=Z=>{X(Z),T(!0)};v.useEffect(()=>{ce()},[]);const ce=async()=>{try{const Z=await j0e();t(Z||[])}catch{G.error("Failed to load orders")}finally{n(!1)}},Ee=v.useCallback(async()=>{const Z=e.filter(ae=>ae.tracking_number);if(Z.length!==0){J(!0);try{const ae=Z.map(Fe=>Fe.tracking_number),{data:fe,error:Ce}=await Q.functions.invoke("steadfast-status",{body:{tracking_codes:ae}});if(Ce){console.error("Failed to fetch Steadfast statuses:",Ce),G.error("Failed to fetch delivery statuses");return}fe!=null&&fe.results&&q(fe.results)}catch(ae){console.error("Error fetching Steadfast statuses:",ae)}finally{J(!1)}}},[e]);v.useEffect(()=>{e.length>0&&Ee()},[e.length]);const Pe=e.filter(Z=>{var rn,un;const ae=Z.order_number.toLowerCase().includes(a.toLowerCase())||Z.shipping_name.toLowerCase().includes(a.toLowerCase())||Z.shipping_phone.includes(a),fe=o==="all"||Z.status===o,Ce=c==="all"||Z.order_source===c,Fe=new Date(Z.created_at);Fe.setHours(0,0,0,0);let ct=!0;if(K){const Or=new Date(K);Or.setHours(0,0,0,0),ct=ct&&Fe>=Or}if(ue){const Or=new Date(ue);Or.setHours(23,59,59,999),ct=ct&&Fe<=Or}let sr=!0;if(d!=="all"&&Z.tracking_number){const Or=A[Z.tracking_number],So=((rn=Or==null?void 0:Or.delivery_status)==null?void 0:rn.toLowerCase())||((un=Or==null?void 0:Or.current_status)==null?void 0:un.toLowerCase())||"";d==="returned"?sr=So.includes("return")||So.includes("cancelled"):d==="delivered"?sr=So.includes("delivered"):d==="in_transit"?sr=So.includes("transit")||So.includes("picked")||So.includes("hub"):d==="pending_delivery"&&(sr=So.includes("pending")||So==="")}else d!=="all"&&!Z.tracking_number&&(sr=!1);return ae&&fe&&Ce&&sr&&ct}),We=Z=>e.filter(ae=>{var Fe,ct;if(!ae.tracking_number)return!1;const fe=A[ae.tracking_number],Ce=((Fe=fe==null?void 0:fe.delivery_status)==null?void 0:Fe.toLowerCase())||((ct=fe==null?void 0:fe.current_status)==null?void 0:ct.toLowerCase())||"";return Z==="returned"?Ce.includes("return")||Ce.includes("cancelled"):Z==="delivered"?Ce.includes("delivered"):Z==="in_transit"?Ce.includes("transit")||Ce.includes("picked")||Ce.includes("hub"):!1}).length,mt=Z=>e.filter(ae=>{const fe=c==="all"||ae.order_source===c;return ae.status===Z&&fe}).length,nr=Z=>e.filter(ae=>ae.order_source===Z).length,ls=Z=>{const ae=C3.find(Ce=>Ce.value===Z);if(!ae)return s.jsx(Ge,{variant:"outline",children:Z||"web"});const fe=ae.icon;return s.jsxs(Ge,{variant:"outline",className:"gap-1",children:[s.jsx(fe,{className:"h-3 w-3"}),ae.label]})},ne=Z=>{m(Z),b(Z.tracking_number||""),Se(Z.invoice_note||""),ft(Z.steadfast_note||""),p(!0)},rt=async()=>{if(f){it(!0);try{const{error:Z}=await Q.from("orders").update({invoice_note:Me||null,steadfast_note:tt||null}).eq("id",f.id);if(Z)throw Z;t(ae=>ae.map(fe=>fe.id===f.id?{...fe,invoice_note:Me||null,steadfast_note:tt||null}:fe)),m({...f,invoice_note:Me||null,steadfast_note:tt||null}),G.success("Notes saved")}catch{G.error("Failed to save notes")}finally{it(!1)}}},Te=async(Z,ae)=>{w(!0);try{await fR(Z,ae,x||void 0),G.success("Order status updated");const fe=e.find(Ce=>Ce.id===Z);fe&&Xt(fe,ae),ce(),f&&f.id===Z&&m({...f,status:ae,tracking_number:x})}catch{G.error("Failed to update order status")}finally{w(!1)}},Xt=async(Z,ae)=>{try{const{data:fe}=await Q.from("admin_settings").select("key, value").in("key",["sms_enabled","sms_auto_send_status_change"]),Ce={};if(fe==null||fe.forEach(un=>{Ce[un.key]=un.value}),Ce.sms_enabled!=="true"||Ce.sms_auto_send_status_change!=="true")return;const ct={processing:"order_processing",confirmed:"order_confirmed",shipped:"order_shipped",delivered:"order_delivered",cancelled:"order_cancelled"}[ae];if(!ct)return;const{data:sr,error:rn}=await Q.functions.invoke("send-sms",{body:{phone:Z.shipping_phone,template_key:ct,order_id:Z.id,variables:{customer_name:Z.shipping_name,order_number:Z.order_number,total:Z.total.toString(),tracking_number:x||Z.tracking_number||""}}});rn?console.error("SMS error:",rn):sr!=null&&sr.success&&G.success("SMS notification sent")}catch(fe){console.error("Failed to send status SMS:",fe)}},oa=async Z=>{S(!0);try{const ae=`${Z.shipping_street}, ${Z.shipping_district}, ${Z.shipping_city}${Z.shipping_postal_code?`, ${Z.shipping_postal_code}`:""}`,fe=Z.steadfast_note||Z.notes||`Order items: ${Z.order_items.map(ct=>`${ct.product_name}${ct.variation_name?` (${ct.variation_name})`:""} x${ct.quantity}`).join(", ")}`,{data:Ce,error:Fe}=await Q.functions.invoke("steadfast-courier",{body:{orderId:Z.id,invoice:Z.order_number,recipient_name:Z.shipping_name,recipient_phone:Z.shipping_phone,recipient_address:ae,cod_amount:Z.payment_method==="cod"?Number(Z.total):0,note:fe}});if(Fe){console.error("Steadfast error:",Fe),G.error(Fe.message||"Failed to send order to Steadfast");return}if(Ce!=null&&Ce.error){G.error(Ce.error);return}G.success("Order sent to Steadfast successfully!"),Ce!=null&&Ce.tracking_code&&b(Ce.tracking_code),ce()}catch(ae){console.error("Failed to send to Steadfast:",ae),G.error("Failed to send order to Steadfast")}finally{S(!1)}},Jl=Z=>{const ae=new Set(k);ae.has(Z)?ae.delete(Z):ae.add(Z),_(ae)},la=()=>{k.size===Pe.length?_(new Set):_(new Set(Pe.map(Z=>Z.id)))},Au=async()=>{if(k.size===0){G.error("Please select orders to send");return}C(!0);try{const ae=e.filter(Fe=>k.has(Fe.id)).map(Fe=>{const ct=`${Fe.shipping_street}, ${Fe.shipping_district}, ${Fe.shipping_city}${Fe.shipping_postal_code?`, ${Fe.shipping_postal_code}`:""}`,sr=Fe.steadfast_note||Fe.notes||`Order items: ${Fe.order_items.map(rn=>`${rn.product_name}${rn.variation_name?` (${rn.variation_name})`:""} x${rn.quantity}`).join(", ")}`;return{orderId:Fe.id,invoice:Fe.order_number,recipient_name:Fe.shipping_name,recipient_phone:Fe.shipping_phone,recipient_address:ct,cod_amount:Fe.payment_method==="cod"?Number(Fe.total):0,note:sr}}),{data:fe,error:Ce}=await Q.functions.invoke("steadfast-courier",{body:{orders:ae}});if(Ce){console.error("Bulk Steadfast error:",Ce),G.error(Ce.message||"Failed to send orders to Steadfast");return}if(fe!=null&&fe.results){const Fe=fe.results.filter(sr=>sr.success).length,ct=fe.results.filter(sr=>!sr.success).length;ct>0?G.warning(`Sent ${Fe} orders, ${ct} failed`):G.success(`Successfully sent ${Fe} orders to Steadfast`)}_(new Set),ce()}catch(Z){console.error("Failed to bulk send to Steadfast:",Z),G.error("Failed to send orders to Steadfast")}finally{C(!1)}},se=async Z=>{if(k.size===0){G.error("Please select orders to update");return}M(!0);try{const ae=e.filter(Fe=>k.has(Fe.id));let fe=0,Ce=0;for(const Fe of ae)try{await fR(Fe.id,Z),Xt(Fe,Z),fe++}catch(ct){console.error(`Failed to update order ${Fe.order_number}:`,ct),Ce++}Ce>0?G.warning(`Updated ${fe} orders, ${Ce} failed`):G.success(`Successfully updated ${fe} orders to ${Z}`),_(new Set),ce()}catch(ae){console.error("Failed to bulk update status:",ae),G.error("Failed to update order statuses")}finally{M(!1)}},De=async()=>{if(le){ee(!0);try{await _0e(le.id),G.success(`Order ${le.order_number} deleted successfully`),te(!1),H(null),p(!1),ce()}catch(Z){console.error("Failed to delete order:",Z),G.error("Failed to delete order")}finally{ee(!1)}}},ke=Z=>{H(Z),te(!0)},et=async(Z,ae)=>{try{const{error:fe}=await Q.from("orders").update({is_printed:!ae}).eq("id",Z);if(fe)throw fe;t(Ce=>Ce.map(Fe=>Fe.id===Z?{...Fe,is_printed:!ae}:Fe)),G.success(ae?"Marked as not printed":"Marked as printed")}catch{G.error("Failed to update print status")}},Mt=Z=>{const ae=sm.find(Ce=>Ce.value===Z);if(!ae)return s.jsx(Ge,{children:Z});const fe=ae.icon;return s.jsxs(Ge,{className:`${ae.color} text-white gap-1`,children:[s.jsx(fe,{className:"h-3 w-3"}),ae.label]})},Rt=Z=>{if(!Z)return s.jsx("span",{className:"text-muted-foreground text-xs",children:"-"});const ae=A[Z];if(!ae)return L?s.jsx(Kt,{className:"h-4 w-4 animate-spin text-muted-foreground"}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"Loading..."});if(ae.error)return s.jsx(Ge,{variant:"outline",className:"text-xs",children:"Error"});const fe=ae.delivery_status||ae.current_status||"Unknown",Ce=fe.toLowerCase();let Fe="bg-gray-500",ct=ea;return Ce.includes("delivered")?(Fe="bg-green-500",ct=vi):Ce.includes("return")||Ce.includes("cancelled")?(Fe="bg-red-500",ct=HA):Ce.includes("transit")||Ce.includes("picked")||Ce.includes("hub")?(Fe="bg-blue-500",ct=ur):Ce.includes("pending")&&(Fe="bg-yellow-500",ct=ea),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(Ge,{className:`${Fe} text-white gap-1 text-xs`,children:[s.jsx(ct,{className:"h-3 w-3"}),fe]}),ae.rider_name&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Rider: ",ae.rider_name]})]})};return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx(St,{className:"h-8 w-32"}),s.jsx(me,{children:s.jsx(pe,{className:"p-0",children:s.jsx("div",{className:"space-y-4 p-4",children:[...Array(5)].map((Z,ae)=>s.jsx(St,{className:"h-12 w-full"},ae))})})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Orders"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and track customer orders"})]}),s.jsxs(U,{onClick:()=>R(!0),children:[s.jsx(qt,{className:"mr-2 h-4 w-4"}),"Add Order"]})]}),s.jsx(wi,{value:c,onValueChange:u,className:"w-full",children:s.jsxs(Fa,{className:"h-auto p-1 bg-muted/50",children:[s.jsxs(It,{value:"all",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground px-4",children:["All Orders",s.jsx(Ge,{variant:"secondary",className:"ml-2 h-5 px-1.5 text-xs",children:e.length})]}),C3.map(Z=>{const ae=Z.icon;return s.jsxs(It,{value:Z.value,className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground px-4 gap-1.5",children:[s.jsx(ae,{className:"h-4 w-4"}),Z.label,s.jsx(Ge,{variant:"secondary",className:"ml-1 h-5 px-1.5 text-xs",children:nr(Z.value)})]},Z.value)})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsx(wi,{value:o,onValueChange:l,className:"w-full",children:s.jsxs(Fa,{className:"h-auto p-1 bg-muted/50 inline-flex w-auto min-w-full",children:[sm.map(Z=>s.jsxs(It,{value:Z.value,className:"data-[state=active]:bg-background data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:shadow-none rounded-none px-4",children:[Z.label,s.jsx(Ge,{variant:"outline",className:"ml-2 h-5 px-1.5 text-xs",children:mt(Z.value)})]},Z.value)),s.jsxs(It,{value:"all",className:"data-[state=active]:bg-background data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:shadow-none rounded-none px-4",children:["All",s.jsx(Ge,{variant:"outline",className:"ml-2 h-5 px-1.5 text-xs",children:e.filter(Z=>c==="all"||Z.order_source===c).length})]})]})})}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Steadfast Status:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:d==="all"?"default":"outline",size:"sm",onClick:()=>h("all"),children:"All"}),s.jsxs(U,{variant:d==="returned"?"destructive":"outline",size:"sm",onClick:()=>h("returned"),className:"gap-1",children:[s.jsx(HA,{className:"h-3 w-3"}),"Returned (",We("returned"),")"]}),s.jsxs(U,{variant:d==="delivered"?"default":"outline",size:"sm",onClick:()=>h("delivered"),className:"gap-1 bg-green-600 hover:bg-green-700 data-[active=true]:bg-green-600","data-active":d==="delivered",children:[s.jsx(vi,{className:"h-3 w-3"}),"Delivered (",We("delivered"),")"]}),s.jsxs(U,{variant:d==="in_transit"?"default":"outline",size:"sm",onClick:()=>h("in_transit"),className:"gap-1",children:[s.jsx(ur,{className:"h-3 w-3"}),"In Transit (",We("in_transit"),")"]})]}),s.jsxs(U,{variant:"ghost",size:"sm",onClick:Ee,disabled:L,className:"gap-1 ml-auto",children:[L?s.jsx(Kt,{className:"h-4 w-4 animate-spin"}):s.jsx(xc,{className:"h-4 w-4"}),"Refresh Status"]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(as,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:"Search by order number, customer, or phone...",value:a,onChange:Z=>i(Z.target.value),className:"max-w-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(fu,{children:[s.jsx(mu,{asChild:!0,children:s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(ao,{className:"h-4 w-4"}),K?ot(K,"dd MMM yyyy"):"From Date"]})}),s.jsx(Il,{className:"w-auto p-0",align:"start",children:s.jsx(Al,{mode:"single",selected:K,onSelect:he,initialFocus:!0})})]}),s.jsxs(fu,{children:[s.jsx(mu,{asChild:!0,children:s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(ao,{className:"h-4 w-4"}),ue?ot(ue,"dd MMM yyyy"):"To Date"]})}),s.jsx(Il,{className:"w-auto p-0",align:"start",children:s.jsx(Al,{mode:"single",selected:ue,onSelect:be,initialFocus:!0})})]}),(K||ue)&&s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>{he(void 0),be(void 0)},className:"text-muted-foreground",children:[s.jsx(oo,{className:"h-4 w-4 mr-1"}),"Clear"]})]})]}),s.jsx("div",{className:"flex gap-2 flex-wrap mt-4",children:k.size>0&&s.jsxs(s.Fragment,{children:[s.jsxs(Zt,{onValueChange:se,disabled:I,children:[s.jsx(Vt,{className:"w-[180px]",children:s.jsx(Jt,{placeholder:I?"Updating...":`Change ${k.size} Status`})}),s.jsx(Wt,{children:sm.map(Z=>{const ae=Z.icon;return s.jsx(qe,{value:Z.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{className:"h-4 w-4"}),Z.label]})},Z.value)})})]}),s.jsxs(U,{variant:"outline",onClick:()=>W(!0),className:"gap-2",children:[s.jsx(EN,{className:"h-4 w-4"}),"Print ",k.size," Invoice",k.size>1?"s":""]}),s.jsxs(U,{variant:"outline",onClick:()=>E(!0),className:"gap-2",children:[s.jsx(DC,{className:"h-4 w-4"}),"Print ",k.size," Sticker",k.size>1?"s":""]}),s.jsxs(U,{onClick:Au,disabled:j,className:"gap-2",children:[s.jsx(ap,{className:"h-4 w-4"}),j?"Sending...":`Send ${k.size} to Steadfast`]})]})})]}),s.jsx(pe,{className:"overflow-x-auto",children:s.jsxs(Ss,{className:"min-w-[1400px]",children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{className:"w-10",children:s.jsx(T2,{checked:k.size>0&&k.size===Pe.length,onCheckedChange:la})}),s.jsx(Ne,{children:"Order"}),s.jsx(Ne,{children:"Source"}),s.jsx(Ne,{children:"Customer"}),s.jsx(Ne,{children:"Products"}),s.jsx(Ne,{children:"Date"}),s.jsx(Ne,{children:"Total"}),s.jsx(Ne,{children:"Payment"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{children:"Steadfast Status"}),s.jsx(Ne,{children:"Print"}),s.jsx(Ne,{children:"Change Status"}),s.jsx(Ne,{children:"Tracking"}),s.jsx(Ne,{className:"text-right sticky right-0 bg-background shadow-[-2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:"Actions"})]})}),s.jsxs(Cs,{children:[Pe.map(Z=>s.jsxs(Et,{children:[s.jsx(xe,{children:s.jsx(T2,{checked:k.has(Z.id),onCheckedChange:()=>Jl(Z.id)})}),s.jsx(xe,{className:"font-medium cursor-pointer hover:text-primary hover:underline",onClick:()=>ne(Z),children:Z.order_number}),s.jsx(xe,{children:ls(Z.order_source)}),s.jsx(xe,{children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate cursor-pointer hover:text-primary hover:underline",onClick:()=>ne(Z),children:Z.shipping_name}),P3(e,Z.shipping_phone)>1&&s.jsxs(Ge,{variant:"secondary",className:"gap-1 text-xs bg-amber-100 text-amber-700 hover:bg-amber-200",children:[s.jsx(TN,{className:"h-3 w-3"}),"Repeat"]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:Z.shipping_phone}),s.jsx(n9e,{phone:Z.shipping_phone,className:"mt-2"})]}),s.jsx("div",{className:"shrink-0 pt-1",children:s.jsx(JBe,{phone:Z.shipping_phone,customerName:Z.shipping_name})})]})}),s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[Z.order_items.slice(0,3).map((ae,fe)=>s.jsxs("div",{className:"relative w-10 h-10 rounded border bg-muted overflow-hidden shrink-0",title:`${ae.product_name}${ae.variation_name?` (${ae.variation_name})`:""} x${ae.quantity}`,children:[ae.product_image?s.jsx("img",{src:ae.product_image,alt:ae.product_name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground text-xs",children:s.jsx(Tr,{className:"h-4 w-4"})}),ae.quantity>1&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-[10px] px-1 rounded-full min-w-[16px] text-center",children:ae.quantity})]},ae.id)),Z.order_items.length>3&&s.jsxs("div",{className:"w-10 h-10 rounded border bg-muted flex items-center justify-center text-xs text-muted-foreground shrink-0",children:["+",Z.order_items.length-3]})]})}),s.jsx(xe,{children:ot(new Date(Z.created_at),"MMM dd, yyyy")}),s.jsxs(xe,{children:["",Number(Z.total).toFixed(0)]}),s.jsx(xe,{children:s.jsx(Ge,{variant:Z.payment_status==="paid"?"default":"outline",children:Z.payment_status})}),s.jsx(xe,{children:Mt(Z.status)}),s.jsx(xe,{children:Rt(Z.tracking_number)}),s.jsx(xe,{children:s.jsx("button",{onClick:()=>et(Z.id,Z.is_printed),className:`flex items-center justify-center w-8 h-8 rounded-full transition-colors ${Z.is_printed?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:Z.is_printed?"Printed - Click to unmark":"Not printed - Click to mark as printed",children:Z.is_printed?s.jsx(Ni,{className:"h-5 w-5"}):s.jsx(EN,{className:"h-4 w-4"})})}),s.jsx(xe,{children:s.jsxs(Zt,{value:Z.status,onValueChange:ae=>Te(Z.id,ae),disabled:y,children:[s.jsx(Vt,{className:"w-[130px] h-8 text-xs",children:s.jsx(Jt,{placeholder:"Change"})}),s.jsx(Wt,{children:sm.map(ae=>{const fe=ae.icon;return s.jsx(qe,{value:ae.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{className:"h-3 w-3"}),ae.label]})},ae.value)})})]})}),s.jsx(xe,{children:Z.tracking_number?s.jsx("a",{href:`https://steadfast.com.bd/t/${Z.tracking_number}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex",children:s.jsxs(Ge,{variant:"secondary",className:"gap-1 cursor-pointer hover:bg-primary hover:text-primary-foreground transition-colors",children:[s.jsx(ur,{className:"h-3 w-3"}),Z.tracking_number]})}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"Not sent"})}),s.jsx(xe,{className:"text-right sticky right-0 bg-background shadow-[-2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>ne(Z),title:"View order details",children:s.jsx(_r,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>ke(Z),className:"text-destructive hover:text-destructive hover:bg-destructive/10",title:"Delete order",children:s.jsx(Mr,{className:"h-4 w-4"})})]})})]},Z.id)),Pe.length===0&&s.jsx(Et,{children:s.jsx(xe,{colSpan:13,className:"text-center py-8 text-muted-foreground",children:"No orders found"})})]})]})})]}),s.jsx(Jr,{open:g,onOpenChange:p,children:s.jsxs(zr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ur,{children:s.jsxs(Vr,{children:["Order ",f==null?void 0:f.order_number]})}),f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:["Customer Information",P3(e,f.shipping_phone)>1&&s.jsxs(Ge,{variant:"secondary",className:"gap-1 text-xs bg-amber-100 text-amber-700",children:[s.jsx(TN,{className:"h-3 w-3"}),"Repeat Customer"]})]}),s.jsxs("div",{className:"text-sm space-y-1 text-muted-foreground",children:[s.jsx("p",{children:f.shipping_name}),s.jsx("p",{children:f.shipping_phone}),s.jsx("p",{children:f.shipping_street}),s.jsxs("p",{children:[f.shipping_district,", ",f.shipping_city]}),f.shipping_postal_code&&s.jsx("p",{children:f.shipping_postal_code})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Order Details"}),s.jsxs("div",{className:"text-sm space-y-1 text-muted-foreground",children:[s.jsxs("p",{children:["Date: ",ot(new Date(f.created_at),"PPpp")]}),s.jsxs("p",{children:["Payment: ",f.payment_method.toUpperCase()]}),s.jsxs("p",{children:["Payment Status: ",f.payment_status]}),f.notes&&s.jsxs("p",{children:["Notes: ",f.notes]})]})]})]}),(()=>{const Z=mqe(e,f.shipping_phone,f.id);return Z.length===0?null:s.jsxs("div",{className:"border rounded-lg p-3 bg-amber-50",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2 text-amber-800",children:[s.jsx(Jh,{className:"h-4 w-4"}),"Previous Orders (",Z.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:Z.map(ae=>s.jsxs("div",{className:"flex items-center justify-between text-sm bg-white rounded px-2 py-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-amber-700",children:ae.order_number}),s.jsx("span",{className:"text-muted-foreground",children:ot(new Date(ae.created_at),"dd MMM yyyy")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Mt(ae.status),s.jsxs("span",{className:"font-medium",children:["",Number(ae.total).toFixed(0)]})]})]},ae.id))})]})})(),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Items"}),s.jsx("div",{className:"border rounded-lg divide-y",children:f.order_items.map(Z=>s.jsxs("div",{className:"flex items-center gap-3 p-3",children:[Z.product_image&&s.jsx("img",{src:Z.product_image,alt:Z.product_name,className:"h-12 w-12 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:Z.product_name}),Z.variation_name&&s.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Size: ",Z.variation_name]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",Z.quantity]})]}),s.jsxs("p",{className:"font-medium",children:["",Number(Z.price).toFixed(0)]})]},Z.id))})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["",Number(f.subtotal).toFixed(0)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Shipping"}),s.jsxs("span",{children:["",Number(f.shipping_cost||0).toFixed(0)]})]}),f.discount&&Number(f.discount)>0&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{children:["-",Number(f.discount).toFixed(0)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["",Number(f.total).toFixed(0)]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Order Notes"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{className:"text-sm text-muted-foreground",children:"Invoice Note (shows on invoice)"}),s.jsx(wt,{value:Me,onChange:Z=>Se(Z.target.value),placeholder:"Note to show on printed invoice...",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{className:"text-sm text-muted-foreground",children:"Steadfast Note (sent to courier)"}),s.jsx(wt,{value:tt,onChange:Z=>ft(Z.target.value),placeholder:"Note to send to Steadfast...",rows:2})]})]}),s.jsx(U,{variant:"outline",size:"sm",onClick:rt,disabled:kt,children:kt?"Saving...":"Save Notes"})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Update Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Status"}),s.jsxs(Zt,{value:f.status,onValueChange:Z=>Te(f.id,Z),disabled:y,children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsx(Wt,{children:sm.map(Z=>s.jsx(qe,{value:Z.value,children:Z.label},Z.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Tracking Number"}),s.jsx(F,{value:x,onChange:Z=>b(Z.target.value),placeholder:"Enter tracking number"})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs(U,{variant:"outline",onClick:()=>{p(!1),Rr(f)},className:"gap-2",children:[s.jsx(Rx,{className:"h-4 w-4"}),"Edit Order"]}),s.jsxs(U,{onClick:()=>oa(f),disabled:N||!!f.tracking_number,className:"flex-1",children:[s.jsx(ap,{className:"h-4 w-4 mr-2"}),N?"Sending...":f.tracking_number?"Already Sent to Steadfast":"Send to Steadfast"]}),s.jsxs(U,{variant:"destructive",onClick:()=>ke(f),className:"gap-2",children:[s.jsx(Mr,{className:"h-4 w-4"}),"Delete"]})]})]})]})]})}),s.jsx(fqe,{order:D,open:O,onOpenChange:T,onOrderUpdated:ce}),s.jsx(zT,{open:re,onOpenChange:te,children:s.jsxs(r1,{children:[s.jsxs(n1,{children:[s.jsx(a1,{children:"Delete Order"}),s.jsxs(i1,{children:["Are you sure you want to delete order ",s.jsx("strong",{children:le==null?void 0:le.order_number}),"? This action cannot be undone and will permanently remove the order and all its items."]})]}),s.jsxs(s1,{children:[s.jsx(l1,{disabled:ie,children:"Cancel"}),s.jsx(o1,{onClick:De,disabled:ie,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:ie?"Deleting...":"Delete Order"})]})]})}),s.jsx(aqe,{orders:e.filter(Z=>k.has(Z.id)),open:$,onOpenChange:W,onOrdersPrinted:Z=>{t(ae=>ae.map(fe=>Z.includes(fe.id)?{...fe,is_printed:!0}:fe)),_(new Set)}}),s.jsx(oqe,{orders:e.filter(Z=>k.has(Z.id)),open:V,onOpenChange:E,onOrdersPrinted:Z=>{t(ae=>ae.map(fe=>Z.includes(fe.id)?{...fe,is_printed:!0}:fe)),_(new Set)}}),s.jsx(uqe,{open:P,onOpenChange:R,onOrderCreated:ce})]})}function gqe(){var x;const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,i]=v.useState(""),[o,l]=v.useState(null),[c,u]=v.useState(!1),{toast:d}=TC();v.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const y=(await T0e()||[]).map(w=>({...w,items:typeof w.items=="string"?JSON.parse(w.items):w.items}));t(y)}catch(b){console.error("Error loading draft orders:",b),d({title:"Error loading incomplete orders",variant:"destructive"})}finally{n(!1)}},f=e.filter(b=>{var w,N;const y=a.toLowerCase();return((w=b.shipping_name)==null?void 0:w.toLowerCase().includes(y))||((N=b.shipping_phone)==null?void 0:N.toLowerCase().includes(y))||b.session_id.toLowerCase().includes(y)}),m=async b=>{if(confirm("Are you sure you want to delete this incomplete order?"))try{await O0e(b),t(y=>y.filter(w=>w.id!==b)),d({title:"Incomplete order deleted"})}catch(y){console.error("Error deleting draft order:",y),d({title:"Error deleting order",variant:"destructive"})}},g=b=>{l(b),u(!0)},p=b=>`${(b==null?void 0:b.toLocaleString("en-BD"))||0}`;return r?s.jsxs("div",{className:"space-y-4",children:[s.jsx(St,{className:"h-10 w-full"}),s.jsx(St,{className:"h-64 w-full"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"font-display text-2xl font-bold text-foreground",children:"Incomplete Orders"}),s.jsx("p",{className:"text-muted-foreground",children:"View abandoned carts and incomplete checkouts"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-card rounded-lg p-4 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-full flex items-center justify-center",children:s.jsx(En,{className:"h-5 w-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:e.filter(b=>!b.is_converted).length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})}),s.jsx("div",{className:"bg-card rounded-lg p-4 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-full flex items-center justify-center",children:s.jsx(Tr,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:e.filter(b=>b.is_converted).length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Converted"})]})]})}),s.jsx("div",{className:"bg-card rounded-lg p-4 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(ea,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:p(e.filter(b=>!b.is_converted).reduce((b,y)=>b+(y.total||0),0))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Potential Revenue"})]})]})})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(as,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:"Search by name, phone, or session...",value:a,onChange:b=>i(b.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"Customer"}),s.jsx(Ne,{children:"Contact"}),s.jsx(Ne,{children:"Items"}),s.jsx(Ne,{children:"Total"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{children:"Last Updated"}),s.jsx(Ne,{className:"text-right",children:"Actions"})]})}),s.jsx(Cs,{children:f.length===0?s.jsx(Et,{children:s.jsx(xe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No incomplete orders found"})}):f.map(b=>{var y;return s.jsxs(Et,{children:[s.jsx(xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.shipping_name||"Unknown"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:b.shipping_street||"No address"})]})}),s.jsx(xe,{children:s.jsx("p",{className:"text-sm",children:b.shipping_phone||"N/A"})}),s.jsxs(xe,{children:[s.jsx("span",{className:"font-medium",children:((y=b.items)==null?void 0:y.length)||0})," items"]}),s.jsx(xe,{className:"font-semibold",children:p(b.total)}),s.jsx(xe,{children:s.jsx(Ge,{variant:b.is_converted?"default":"secondary",children:b.is_converted?"Converted":"Abandoned"})}),s.jsx(xe,{className:"text-sm text-muted-foreground",children:ot(new Date(b.updated_at),"MMM dd, yyyy HH:mm")}),s.jsx(xe,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>g(b),children:s.jsx(_r,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>m(b.id),children:s.jsx(Mr,{className:"h-4 w-4"})})]})})]},b.id)})})]})}),s.jsx(Jr,{open:c,onOpenChange:u,children:s.jsxs(zr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ur,{children:s.jsx(Vr,{children:"Incomplete Order Details"})}),o&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Ra,{className:"h-4 w-4"})," Customer Information"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",o.shipping_name||"Not provided"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(on,{className:"h-4 w-4 text-muted-foreground"}),o.shipping_phone||"Not provided"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(lo,{className:"h-4 w-4"})," Shipping Address"]}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:o.shipping_street?s.jsxs("p",{children:[o.shipping_street,s.jsx("br",{}),o.shipping_district,", ",o.shipping_city,o.shipping_postal_code&&` - ${o.shipping_postal_code}`]}):s.jsx("p",{className:"text-muted-foreground",children:"No address provided"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Tr,{className:"h-4 w-4"})," Cart Items"]}),s.jsx("div",{className:"border rounded-lg divide-y",children:((x=o.items)==null?void 0:x.length)>0?o.items.map((b,y)=>s.jsxs("div",{className:"flex items-center gap-4 p-4",children:[b.image&&s.jsx("img",{src:b.image,alt:b.name,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:b.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p(b.price),"  ",b.quantity]})]}),s.jsx("p",{className:"font-semibold",children:p(b.price*b.quantity)})]},y)):s.jsx("p",{className:"p-4 text-center text-muted-foreground",children:"No items in cart"})})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsx("span",{children:p(o.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),s.jsx("span",{children:o.shipping_cost===0?"Free":p(o.shipping_cost)})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{className:"text-primary",children:p(o.total)})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("p",{children:["Created: ",ot(new Date(o.created_at),"MMM dd, yyyy HH:mm:ss")]}),s.jsxs("p",{children:["Last Updated: ",ot(new Date(o.updated_at),"MMM dd, yyyy HH:mm:ss")]}),o.converted_at&&s.jsxs("p",{className:"text-green-600",children:["Converted: ",ot(new Date(o.converted_at),"MMM dd, yyyy HH:mm:ss")]})]})]})]})})]})}const vqe={input_blocking_enabled:!1,max_phone_changes:3,otp_abuse_threshold:5,time_blocking_enabled:!1,order_cooldown_hours:12,history_blocking_enabled:!1,min_success_rate:50,new_customer_otp_enabled:!1,custom_history_blocking_enabled:!1,return_rate_otp_threshold:20,return_rate_block_threshold:50,status_blocking_enabled:!1,block_pending_orders:!0,block_shipped_orders:!1,block_returned_orders:!0,max_pending_orders:2},xqe=()=>{const e=Ll(),[t,r]=v.useState(vqe),{data:n,isLoading:a}=fr({queryKey:["order-protection-settings"],queryFn:async()=>{const{data:l,error:c}=await Q.from("admin_settings").select("key, value").like("key","order_protection_%");if(c)throw c;const u={};return l==null||l.forEach(d=>{u[d.key.replace("order_protection_","")]=d.value}),u}});v.useEffect(()=>{n&&r({input_blocking_enabled:n.input_blocking_enabled==="true",max_phone_changes:parseInt(n.max_phone_changes)||3,otp_abuse_threshold:parseInt(n.otp_abuse_threshold)||5,time_blocking_enabled:n.time_blocking_enabled==="true",order_cooldown_hours:parseInt(n.order_cooldown_hours)||12,history_blocking_enabled:n.history_blocking_enabled==="true",min_success_rate:parseInt(n.min_success_rate)||50,new_customer_otp_enabled:n.new_customer_otp_enabled==="true",custom_history_blocking_enabled:n.custom_history_blocking_enabled==="true",return_rate_otp_threshold:parseInt(n.return_rate_otp_threshold)||20,return_rate_block_threshold:parseInt(n.return_rate_block_threshold)||50,status_blocking_enabled:n.status_blocking_enabled==="true",block_pending_orders:n.block_pending_orders!=="false",block_shipped_orders:n.block_shipped_orders==="true",block_returned_orders:n.block_returned_orders!=="false",max_pending_orders:parseInt(n.max_pending_orders)||2})},[n]);const i=Xn({mutationFn:async l=>{const c=Object.entries(l).map(([u,d])=>({key:`order_protection_${u}`,value:String(d)}));for(const u of c){const{error:d}=await Q.from("admin_settings").upsert({key:u.key,value:u.value,updated_at:new Date().toISOString()},{onConflict:"key"});if(d)throw d}},onSuccess:()=>{e.invalidateQueries({queryKey:["order-protection-settings"]}),G.success("Order protection settings saved successfully")},onError:l=>{console.error("Error saving settings:",l),G.error("Failed to save settings")}}),o=()=>{i.mutate(t)};return a?s.jsx(At,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(At,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Ma,{className:"h-8 w-8"}),"Order Protection Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure fraud prevention and order blocking rules"})]}),s.jsx(me,{className:"border-amber-200 bg-amber-50/50 dark:bg-amber-950/20 dark:border-amber-800",children:s.jsxs(we,{className:"pb-3",children:[s.jsxs(_e,{className:"flex items-center gap-2 text-amber-800 dark:text-amber-200",children:[s.jsx(yi,{className:"h-5 w-5"}),"6 Types of Order Blocking"]}),s.jsx(nt,{className:"text-amber-700 dark:text-amber-300",children:"Enable the blocking methods that suit your business needs"})]})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(on,{className:"h-5 w-5 text-blue-500"}),"Input-Based Blocking"]}),s.jsx(gt,{checked:t.input_blocking_enabled,onCheckedChange:l=>r({...t,input_blocking_enabled:l})})]}),s.jsx(nt,{children:"Block based on phone number changes and OTP abuse"})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Max Phone Number Changes"}),s.jsx(F,{type:"number",min:"1",max:"10",value:t.max_phone_changes,onChange:l=>r({...t,max_phone_changes:parseInt(l.target.value)||3}),disabled:!t.input_blocking_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Block if customer changes phone more than this"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"OTP Abuse Threshold"}),s.jsx(F,{type:"number",min:"1",max:"20",value:t.otp_abuse_threshold,onChange:l=>r({...t,otp_abuse_threshold:parseInt(l.target.value)||5}),disabled:!t.input_blocking_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Block after this many OTP requests"})]})]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(ea,{className:"h-5 w-5 text-green-500"}),"Time-Based Blocking"]}),s.jsx(gt,{checked:t.time_blocking_enabled,onCheckedChange:l=>r({...t,time_blocking_enabled:l})})]}),s.jsx(nt,{children:"Prevent orders within a cooldown period"})]}),s.jsx(pe,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Order Cooldown (Hours)"}),s.jsx(F,{type:"number",min:"1",max:"72",value:t.order_cooldown_hours,onChange:l=>r({...t,order_cooldown_hours:parseInt(l.target.value)||12}),disabled:!t.time_blocking_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum hours between orders from same phone"})]})})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Jh,{className:"h-5 w-5 text-red-500"}),"History-Based Blocking"]}),s.jsx(gt,{checked:t.history_blocking_enabled,onCheckedChange:l=>r({...t,history_blocking_enabled:l})})]}),s.jsx(nt,{children:"Block if courier return rate is too high"})]}),s.jsx(pe,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Minimum Success Rate (%)"}),s.jsx(F,{type:"number",min:"0",max:"100",value:t.min_success_rate,onChange:l=>r({...t,min_success_rate:parseInt(l.target.value)||50}),disabled:!t.history_blocking_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Block if delivery success rate is below this (Returned > Received)"})]})})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(EJ,{className:"h-5 w-5 text-purple-500"}),"New Customer OTP"]}),s.jsx(gt,{checked:t.new_customer_otp_enabled,onCheckedChange:l=>r({...t,new_customer_otp_enabled:l})})]}),s.jsx(nt,{children:"Require OTP verification for customers with no history"})]}),s.jsx(pe,{children:s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg text-sm text-muted-foreground",children:"When enabled, new customers (Received: 0 | Returned: 0) will need to verify via OTP before placing an order."})})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(G8,{className:"h-5 w-5 text-orange-500"}),"Custom History Blocking"]}),s.jsx(gt,{checked:t.custom_history_blocking_enabled,onCheckedChange:l=>r({...t,custom_history_blocking_enabled:l})})]}),s.jsx(nt,{children:"OTP or block based on return percentage"})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"OTP Required Threshold (%)"}),s.jsx(F,{type:"number",min:"0",max:"100",value:t.return_rate_otp_threshold,onChange:l=>r({...t,return_rate_otp_threshold:parseInt(l.target.value)||20}),disabled:!t.custom_history_blocking_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Require OTP if return rate is above this (e.g., 20%)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Block Threshold (%)"}),s.jsx(F,{type:"number",min:"0",max:"100",value:t.return_rate_block_threshold,onChange:l=>r({...t,return_rate_block_threshold:parseInt(l.target.value)||50}),disabled:!t.custom_history_blocking_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completely block if return rate exceeds this (e.g., 50%)"})]})]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Zc,{className:"h-5 w-5 text-cyan-500"}),"Status-Based Blocking"]}),s.jsx(gt,{checked:t.status_blocking_enabled,onCheckedChange:l=>r({...t,status_blocking_enabled:l})})]}),s.jsx(nt,{children:"Block based on existing order statuses"})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{className:"font-normal",children:"Block if has Pending orders"}),s.jsx(gt,{checked:t.block_pending_orders,onCheckedChange:l=>r({...t,block_pending_orders:l}),disabled:!t.status_blocking_enabled})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{className:"font-normal",children:"Block if has Shipped orders"}),s.jsx(gt,{checked:t.block_shipped_orders,onCheckedChange:l=>r({...t,block_shipped_orders:l}),disabled:!t.status_blocking_enabled})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{className:"font-normal",children:"Block if has Returned orders"}),s.jsx(gt,{checked:t.block_returned_orders,onCheckedChange:l=>r({...t,block_returned_orders:l}),disabled:!t.status_blocking_enabled})]})]}),s.jsx(iu,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Max Pending Orders Allowed"}),s.jsx(F,{type:"number",min:"1",max:"10",value:t.max_pending_orders,onChange:l=>r({...t,max_pending_orders:parseInt(l.target.value)||2}),disabled:!t.status_blocking_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Block if customer has more pending orders than this"})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(U,{onClick:o,disabled:i.isPending,size:"lg",children:[s.jsx(Cn,{className:"h-4 w-4 mr-2"}),i.isPending?"Saving...":"Save All Settings"]})})]})})};function yqe(){var M,$,W,V,E,P;const[e,t]=v.useState(""),[r,n]=v.useState(!1),[a,i]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,h]=v.useState(""),[f,m]=v.useState(!1),[g,p]=v.useState(!1),[x,b]=v.useState(!0);v.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:R,error:O}=await Q.from("admin_settings").select("value").eq("key","bdcourier_api_key").single();!O&&R&&h(R.value)}catch(R){console.error("Failed to load API key:",R)}finally{b(!1)}},w=async()=>{p(!0);try{const{error:R}=await Q.from("admin_settings").upsert({key:"bdcourier_api_key",value:d,updated_at:new Date().toISOString()},{onConflict:"key"});if(R)throw R;G.success("API key saved successfully")}catch{G.error("Failed to save API key")}finally{p(!1)}},N=async()=>{if(!e.trim()){G.error("Please enter a phone number");return}n(!0),l(null),u(!0);try{const{data:R,error:O}=await Q.functions.invoke("courier-history",{body:{phone:e.trim()}});if(console.log("Courier history response:",R),O)throw new Error(O.message);if(R!=null&&R.error)throw new Error(R.error);i((R==null?void 0:R.data)||{})}catch(R){console.error("Failed to fetch courier history:",R);const O=R instanceof Error?R.message:"Failed to fetch courier history";l(O),G.error(O)}finally{n(!1)}},S=R=>R===void 0?{level:"Unknown",color:"secondary",icon:yi}:R>=80?{level:"Low Risk",color:"default",icon:vi}:R>=50?{level:"Medium Risk",color:"secondary",icon:yi}:{level:"High Risk",color:"destructive",icon:oo},k=({name:R,stats:O})=>{if(!O||O.total_parcel===0)return null;const T=O.total_parcel?Math.round((O.success_parcel||0)/O.total_parcel*100):0;return s.jsxs(me,{children:[s.jsx(we,{className:"pb-2",children:s.jsxs(_e,{className:"text-lg flex items-center gap-2",children:[s.jsx(ur,{className:"h-5 w-5 text-primary"}),R]})}),s.jsx(pe,{children:s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:O.total_parcel||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:O.success_parcel||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Delivered"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:O.cancelled_parcel||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Cancelled"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-primary",children:[T,"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Success"})]})]})})]})},_=(M=a==null?void 0:a.courierData)==null?void 0:M.summary,j=a==null?void 0:a.courierData,C=S(_==null?void 0:_.success_ratio),I=C.icon;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Courier History"}),s.jsx("p",{className:"text-muted-foreground",children:"Check customer delivery history from all couriers"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(me,{children:[s.jsx(we,{className:"pb-3",children:s.jsxs(_e,{className:"text-base flex items-center gap-2",children:[s.jsx(mJ,{className:"h-4 w-4"}),"BD Courier API Key"]})}),s.jsxs(pe,{className:"space-y-3",children:[x?s.jsx(St,{className:"h-9 w-full"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(F,{type:f?"text":"password",value:d,onChange:R=>h(R.target.value),placeholder:"Enter API key"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>m(!f),children:f?s.jsx(ni,{className:"h-4 w-4"}):s.jsx(_r,{className:"h-4 w-4"})})]}),s.jsxs(U,{onClick:w,disabled:g,size:"sm",className:"w-full gap-2",children:[s.jsx(Cn,{className:"h-3 w-3"}),g?"Saving...":"Save Key"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Get your key from"," ",s.jsx("a",{href:"https://bdcourier.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"bdcourier.com"})]})]})]}),s.jsxs(me,{className:"md:col-span-2",children:[s.jsxs(we,{className:"pb-3",children:[s.jsx(_e,{className:"text-base",children:"Search Customer"}),s.jsx(nt,{children:"Check courier history from Pathao, RedX, Steadfast, and Paperfly"})]}),s.jsxs(pe,{children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(z,{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),s.jsx(F,{id:"phone",placeholder:"Enter phone number (e.g., 01712345678)",value:e,onChange:R=>t(R.target.value),onKeyDown:R=>R.key==="Enter"&&N()})]}),s.jsxs(U,{onClick:N,disabled:r||!d,className:"gap-2",children:[r?s.jsx(Kt,{className:"h-4 w-4 animate-spin"}):s.jsx(as,{className:"h-4 w-4"}),"Search"]})]}),!d&&!x&&s.jsx("p",{className:"text-xs text-destructive mt-2",children:"Please add your BD Courier API key first"})]})]})]}),r&&s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[1,2,3,4].map(R=>s.jsx(me,{children:s.jsxs(pe,{className:"p-6",children:[s.jsx(St,{className:"h-6 w-32 mb-4"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(O=>s.jsx(St,{className:"h-12 w-full"},O))})]})},R))}),!r&&o&&s.jsx(me,{children:s.jsxs(pe,{className:"py-12 text-center",children:[s.jsx(oo,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Failed to fetch history"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:o}),s.jsx(U,{variant:"outline",onClick:N,children:"Try Again"})]})}),!r&&!o&&c&&a&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(_e,{children:"Overall Summary"}),s.jsx(nt,{children:"Combined statistics from all couriers"})]}),s.jsxs(Ge,{variant:C.color,className:"gap-1 text-sm px-3 py-1",children:[s.jsx(I,{className:"h-4 w-4"}),C.level]})]})}),s.jsx(pe,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("div",{className:"text-3xl font-bold",children:(_==null?void 0:_.total_parcel)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Parcels"})]}),s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:(_==null?void 0:_.success_parcel)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Delivered"})]}),s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950 rounded-lg",children:[s.jsx("div",{className:"text-3xl font-bold text-red-600",children:(_==null?void 0:_.cancelled_parcel)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Cancelled"})]}),s.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg",children:[s.jsxs("div",{className:"text-3xl font-bold text-primary",children:[(($=_==null?void 0:_.success_ratio)==null?void 0:$.toFixed(1))||0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Breakdown by Courier"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(k,{name:"Steadfast",stats:j==null?void 0:j.steadfast}),s.jsx(k,{name:"Pathao",stats:j==null?void 0:j.pathao}),s.jsx(k,{name:"RedX",stats:j==null?void 0:j.redx}),s.jsx(k,{name:"Paperfly",stats:j==null?void 0:j.paperfly})]}),!((W=j==null?void 0:j.steadfast)!=null&&W.total_parcel)&&!((V=j==null?void 0:j.pathao)!=null&&V.total_parcel)&&!((E=j==null?void 0:j.redx)!=null&&E.total_parcel)&&!((P=j==null?void 0:j.paperfly)!=null&&P.total_parcel)&&s.jsx(me,{children:s.jsxs(pe,{className:"py-12 text-center",children:[s.jsx(Tr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No courier history found for this phone number"})]})})]})]}),!r&&!o&&!c&&s.jsx(me,{children:s.jsxs(pe,{className:"py-12 text-center",children:[s.jsx(Tr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Check Customer History"}),s.jsx("p",{className:"text-muted-foreground",children:"Enter a phone number above to search for delivery history"})]})})]})}function bqe(){const[e,t]=v.useState(!0),[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(""),[d,h]=v.useState(""),[f,m]=v.useState(!1),[g,p]=v.useState("");v.useEffect(()=>{x()},[]);const x=async()=>{try{const{data:w,error:N}=await Q.from("admin_settings").select("key, value").in("key",["steadfast_api_key","steadfast_secret_key","bdcourier_api_key"]);if(N)throw N;w==null||w.forEach(S=>{S.key==="steadfast_api_key"?u(S.value):S.key==="steadfast_secret_key"?h(S.value):S.key==="bdcourier_api_key"&&p(S.value)})}catch(w){console.error("Failed to load settings:",w),G.error("Failed to load courier settings")}finally{t(!1)}},b=async()=>{n(!0);try{const{error:w}=await Q.from("admin_settings").upsert({key:"steadfast_api_key",value:c,updated_at:new Date().toISOString()},{onConflict:"key"});if(w)throw w;const{error:N}=await Q.from("admin_settings").upsert({key:"steadfast_secret_key",value:d,updated_at:new Date().toISOString()},{onConflict:"key"});if(N)throw N;G.success("Steadfast credentials saved successfully")}catch(w){console.error("Failed to save settings:",w),G.error("Failed to save Steadfast settings")}finally{n(!1)}},y=async()=>{n(!0);try{const{error:w}=await Q.from("admin_settings").upsert({key:"bdcourier_api_key",value:g,updated_at:new Date().toISOString()},{onConflict:"key"});if(w)throw w;G.success("BD Courier API key saved successfully")}catch(w){console.error("Failed to save settings:",w),G.error("Failed to save BD Courier settings")}finally{n(!1)}};return e?s.jsxs("div",{className:"space-y-6",children:[s.jsx(St,{className:"h-8 w-48"}),s.jsx(me,{children:s.jsxs(pe,{className:"p-6 space-y-4",children:[s.jsx(St,{className:"h-10 w-full"}),s.jsx(St,{className:"h-10 w-full"})]})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-display font-bold flex items-center gap-2",children:[s.jsx(ur,{className:"h-8 w-8"}),"Courier Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your courier API credentials"})]}),s.jsxs(wi,{defaultValue:"steadfast",className:"w-full",children:[s.jsxs(Fa,{className:"grid w-full grid-cols-2 max-w-md",children:[s.jsxs(It,{value:"steadfast",className:"flex items-center gap-2",children:[s.jsx(ur,{className:"h-4 w-4"}),"Steadfast"]}),s.jsxs(It,{value:"bdcourier",className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"h-4 w-4"}),"BD Courier"]})]}),s.jsxs(Ht,{value:"steadfast",className:"space-y-4 mt-4",children:[s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"Steadfast API Credentials"}),s.jsx(nt,{children:"Enter your Steadfast API credentials to enable automatic courier booking. You can get these from your Steadfast merchant portal."})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"steadfastApiKey",children:"API Key"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"steadfastApiKey",type:a?"text":"password",value:c,onChange:w=>u(w.target.value),placeholder:"Enter your Steadfast API Key",className:"pr-10"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!a),children:a?s.jsx(ni,{className:"h-4 w-4"}):s.jsx(_r,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"steadfastSecretKey",children:"Secret Key"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"steadfastSecretKey",type:o?"text":"password",value:d,onChange:w=>h(w.target.value),placeholder:"Enter your Steadfast Secret Key",className:"pr-10"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>l(!o),children:o?s.jsx(ni,{className:"h-4 w-4"}):s.jsx(_r,{className:"h-4 w-4"})})]})]}),s.jsxs(U,{onClick:b,disabled:r,className:"w-full",children:[s.jsx(Cn,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Steadfast Credentials"]})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsx(_e,{children:"How to Get Steadfast Credentials"})}),s.jsxs(pe,{className:"text-sm text-muted-foreground space-y-2",children:[s.jsxs("p",{children:["1. Log in to your Steadfast merchant portal at ",s.jsx("strong",{children:"portal.steadfast.com.bd"})]}),s.jsx("p",{children:"2. Navigate to Settings  API Settings"}),s.jsx("p",{children:"3. Copy your API Key and Secret Key"}),s.jsx("p",{children:"4. Paste them in the fields above and save"})]})]})]}),s.jsxs(Ht,{value:"bdcourier",className:"space-y-4 mt-4",children:[s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"BD Courier API Credentials"}),s.jsx(nt,{children:"Enter your BD Courier API key to enable courier history lookup. This is used to check customer delivery history."})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"bdCourierApiKey",children:"API Key"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"bdCourierApiKey",type:f?"text":"password",value:g,onChange:w=>p(w.target.value),placeholder:"Enter your BD Courier API Key",className:"pr-10"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>m(!f),children:f?s.jsx(ni,{className:"h-4 w-4"}):s.jsx(_r,{className:"h-4 w-4"})})]})]}),s.jsxs(U,{onClick:y,disabled:r,className:"w-full",children:[s.jsx(Cn,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save BD Courier API Key"]})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsx(_e,{children:"How to Get BD Courier API Key"})}),s.jsxs(pe,{className:"text-sm text-muted-foreground space-y-2",children:[s.jsxs("p",{children:["1. Visit ",s.jsx("strong",{children:"bdcourier.com"})," and create an account"]}),s.jsx("p",{children:"2. Navigate to your account settings or API section"}),s.jsx("p",{children:"3. Generate or copy your API key"}),s.jsx("p",{children:"4. Paste it in the field above and save"})]})]})]})]})]})}var IK={exports:{}},MK={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=v;function wqe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jqe=typeof Object.is=="function"?Object.is:wqe,_qe=Wh.useState,Nqe=Wh.useEffect,Sqe=Wh.useLayoutEffect,kqe=Wh.useDebugValue;function Cqe(e,t){var r=t(),n=_qe({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return Sqe(function(){a.value=r,a.getSnapshot=t,T_(a)&&i({inst:a})},[e,r,t]),Nqe(function(){return T_(a)&&i({inst:a}),e(function(){T_(a)&&i({inst:a})})},[e]),kqe(r),r}function T_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jqe(e,r)}catch{return!0}}function Pqe(e,t){return t()}var Eqe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Pqe:Cqe;MK.useSyncExternalStore=Wh.useSyncExternalStore!==void 0?Wh.useSyncExternalStore:Eqe;IK.exports=MK;var Tqe=IK.exports;function Oqe(){return Tqe.useSyncExternalStore(Aqe,()=>!0,()=>!1)}function Aqe(){return()=>{}}var wO="Avatar",[Iqe,zHe]=On(wO),[Mqe,RK]=Iqe(wO),$K=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=v.useState("idle");return s.jsx(Mqe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Be.span,{...n,ref:t})})});$K.displayName=wO;var DK="AvatarImage",LK=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=RK(DK,r),l=Rqe(n,i),c=Br(u=>{a(u),o.onImageLoadingStatusChange(u)});return Er(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Be.img,{...i,ref:t,src:n}):null});LK.displayName=DK;var FK="AvatarFallback",BK=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=RK(FK,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Be.span,{...a,ref:t}):null});BK.displayName=FK;function E3(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Rqe(e,{referrerPolicy:t,crossOrigin:r}){const n=Oqe(),a=v.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=v.useState(()=>E3(i,e));return Er(()=>{l(E3(i,e))},[i,e]),Er(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var zK=$K,UK=LK,VK=BK;const WK=v.forwardRef(({className:e,...t},r)=>s.jsx(zK,{ref:r,className:de("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));WK.displayName=zK.displayName;const qK=v.forwardRef(({className:e,...t},r)=>s.jsx(UK,{ref:r,className:de("aspect-square h-full w-full",e),...t}));qK.displayName=UK.displayName;const HK=v.forwardRef(({className:e,...t},r)=>s.jsx(VK,{ref:r,className:de("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));HK.displayName=VK.displayName;function $qe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,u]=v.useState(null),[d,h]=v.useState(!1),[f,m]=v.useState(!1),[g,p]=v.useState({email:"",password:"",fullName:""}),[x,b]=v.useState(!1),[y,w]=v.useState(null),[N,S]=v.useState(""),[k,_]=v.useState(""),[j,C]=v.useState(!1);v.useEffect(()=>{I()},[]);const I=async()=>{try{const O=await N0e();t(O||[])}catch{G.error("Failed to load users")}finally{n(!1)}},M=O=>{var T,D;return((D=(T=O.user_roles)==null?void 0:T[0])==null?void 0:D.role)||"user"},$=e.filter(O=>{var X,A;const T=((X=O.full_name)==null?void 0:X.toLowerCase().includes(a.toLowerCase()))||((A=O.email)==null?void 0:A.toLowerCase().includes(a.toLowerCase())),D=o==="all"||M(O)===o;return T&&D}),W=async(O,T)=>{u(O);try{await S0e(O,T),G.success("User role updated"),I()}catch{G.error("Failed to update user role")}finally{u(null)}},V=(O,T)=>{var D;return O?O.split(" ").map(X=>X[0]).join("").toUpperCase().slice(0,2):((D=T==null?void 0:T[0])==null?void 0:D.toUpperCase())||"U"},E=async()=>{if(!g.email||!g.password){G.error("Email and password are required");return}if(g.password.length<6){G.error("Password must be at least 6 characters");return}m(!0);try{const{data:O,error:T}=await Q.functions.invoke("create-admin-user",{body:{email:g.email,password:g.password,fullName:g.fullName}});if(T)throw T;if(O.error)throw new Error(O.error);G.success("Admin user created successfully"),p({email:"",password:"",fullName:""}),h(!1),I()}catch(O){G.error(O.message||"Failed to create admin user")}finally{m(!1)}},P=async()=>{if(!y||!k){G.error("Password is required");return}if(k.length<6){G.error("Password must be at least 6 characters");return}C(!0);try{const{data:O,error:T}=await Q.functions.invoke("reset-user-password",{body:{userId:y,newPassword:k}});if(T)throw T;if(O.error)throw new Error(O.error);G.success("Password reset successfully"),_(""),w(null),b(!1)}catch(O){G.error(O.message||"Failed to reset password")}finally{C(!1)}},R=(O,T)=>{w(O),S(T),_(""),b(!0)};return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx(St,{className:"h-8 w-32"}),s.jsx(me,{children:s.jsx(pe,{className:"p-0",children:s.jsx("div",{className:"space-y-4 p-4",children:[...Array(5)].map((O,T)=>s.jsx(St,{className:"h-12 w-full"},T))})})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Users"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts and roles"})]}),s.jsxs(Jr,{open:d,onOpenChange:h,children:[s.jsx(cv,{asChild:!0,children:s.jsxs(U,{className:"gap-2",children:[s.jsx(qt,{className:"h-4 w-4"}),"Add Admin"]})}),s.jsxs(zr,{children:[s.jsxs(Ur,{children:[s.jsx(Vr,{children:"Create Admin User"}),s.jsx(al,{children:"Create a new admin account with email and password"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"fullName",children:"Full Name"}),s.jsx(F,{id:"fullName",placeholder:"Enter full name",value:g.fullName,onChange:O=>p(T=>({...T,fullName:O.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"email",children:"Email *"}),s.jsx(F,{id:"email",type:"email",placeholder:"admin@example.com",value:g.email,onChange:O=>p(T=>({...T,email:O.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"password",children:"Password *"}),s.jsx(F,{id:"password",type:"password",placeholder:"Min 6 characters",value:g.password,onChange:O=>p(T=>({...T,password:O.target.value}))})]})]}),s.jsxs(qi,{children:[s.jsx(U,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsx(U,{onClick:E,disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}),"Creating..."]}):"Create Admin"})]})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(me,{children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Dl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(pe,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(me,{children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Admins"}),s.jsx(Ma,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(pe,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(O=>M(O)==="admin").length})})]}),s.jsxs(me,{children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Regular Users"}),s.jsx(Ra,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(pe,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(O=>M(O)==="user").length})})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(as,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:"Search by name or email...",value:a,onChange:O=>i(O.target.value),className:"max-w-sm"})]}),s.jsxs(Zt,{value:o,onValueChange:l,children:[s.jsx(Vt,{className:"w-40",children:s.jsx(Jt,{placeholder:"Filter role"})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"all",children:"All Roles"}),s.jsx(qe,{value:"admin",children:"Admins"}),s.jsx(qe,{value:"user",children:"Users"})]})]})]})}),s.jsx(pe,{children:s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"User"}),s.jsx(Ne,{children:"Email"}),s.jsx(Ne,{children:"Phone"}),s.jsx(Ne,{children:"Joined"}),s.jsx(Ne,{children:"Role"}),s.jsx(Ne,{children:"Actions"})]})}),s.jsxs(Cs,{children:[$.map(O=>s.jsxs(Et,{children:[s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(WK,{children:[s.jsx(qK,{src:O.avatar_url||void 0}),s.jsx(HK,{children:V(O.full_name,O.email)})]}),s.jsx("span",{className:"font-medium",children:O.full_name||"Unnamed"})]})}),s.jsx(xe,{className:"text-muted-foreground",children:O.email}),s.jsx(xe,{className:"text-muted-foreground",children:O.phone||"-"}),s.jsx(xe,{className:"text-muted-foreground",children:ot(new Date(O.created_at),"MMM dd, yyyy")}),s.jsx(xe,{children:s.jsxs(Zt,{value:M(O),onValueChange:T=>W(O.user_id,T),disabled:c===O.user_id,children:[s.jsx(Vt,{className:"w-28",children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"user",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"h-3 w-3"}),"User"]})}),s.jsx(qe,{value:"admin",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ma,{className:"h-3 w-3"}),"Admin"]})})]})]})}),s.jsx(xe,{children:s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>R(O.user_id,O.full_name||O.email||"User"),className:"gap-1",children:[s.jsx(fJ,{className:"h-4 w-4"}),"Reset Password"]})})]},O.id)),$.length===0&&s.jsx(Et,{children:s.jsx(xe,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No users found"})})]})]})})]}),s.jsx(Jr,{open:x,onOpenChange:b,children:s.jsxs(zr,{children:[s.jsxs(Ur,{children:[s.jsx(Vr,{children:"Reset Password"}),s.jsxs(al,{children:["Set a new password for ",N]})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"newPassword",children:"New Password *"}),s.jsx(F,{id:"newPassword",type:"password",placeholder:"Min 6 characters",value:k,onChange:O=>_(O.target.value)})]})}),s.jsxs(qi,{children:[s.jsx(U,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),s.jsx(U,{onClick:P,disabled:j,children:j?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}),"Resetting..."]}):"Reset Password"})]})]})})]})}function Dqe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,i]=v.useState(""),[o,l]=v.useState(null),[c,u]=v.useState(!1);v.useEffect(()=>{d()},[]);const d=async()=>{try{const x=await GV();t(x||[])}catch{G.error("Failed to load inventory")}finally{n(!1)}},h=e.filter(x=>x.name.toLowerCase().includes(a.toLowerCase())),f=e.filter(x=>x.stock<10&&x.is_active),m=e.filter(x=>x.stock===0&&x.is_active),g=async(x,b)=>{u(!0);try{await k0e(x,b),G.success("Stock updated successfully"),l(null),d()}catch{G.error("Failed to update stock")}finally{u(!1)}},p=x=>x===0?s.jsx(Ge,{variant:"destructive",children:"Out of Stock"}):x<10?s.jsx(Ge,{className:"bg-accent text-accent-foreground",children:"Low Stock"}):s.jsxs(Ge,{variant:"secondary",children:[x," in stock"]});return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx(St,{className:"h-8 w-32"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((x,b)=>s.jsx(St,{className:"h-24"},b))}),s.jsx(me,{children:s.jsx(pe,{className:"p-0",children:s.jsx("div",{className:"space-y-4 p-4",children:[...Array(5)].map((x,b)=>s.jsx(St,{className:"h-12 w-full"},b))})})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Inventory"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage product stock levels"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(me,{children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Total Products"}),s.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(pe,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(me,{className:"border-accent/50",children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Low Stock"}),s.jsx(yi,{className:"h-4 w-4 text-accent"})]}),s.jsxs(pe,{children:[s.jsx("div",{className:"text-2xl font-bold text-accent",children:f.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Less than 10 units"})]})]}),s.jsxs(me,{className:"border-destructive/50",children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Out of Stock"}),s.jsx(yi,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(pe,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:m.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Needs immediate restock"})]})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:"Search products...",value:a,onChange:x=>i(x.target.value),className:"max-w-sm"})]})}),s.jsx(pe,{children:s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"Product"}),s.jsx(Ne,{children:"Category"}),s.jsx(Ne,{children:"Current Stock"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{className:"text-right",children:"Update Stock"})]})}),s.jsxs(Cs,{children:[h.map(x=>{var b,y;return s.jsxs(Et,{children:[s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[((b=x.images)==null?void 0:b[0])&&s.jsx("img",{src:x.images[0],alt:x.name,className:"h-10 w-10 rounded object-cover"}),s.jsx("span",{className:"font-medium",children:x.name})]})}),s.jsx(xe,{className:"text-muted-foreground",children:((y=x.categories)==null?void 0:y.name)||"-"}),s.jsx(xe,{children:(o==null?void 0:o.id)===x.id?s.jsx(F,{type:"number",value:o.stock,onChange:w=>l({...o,stock:parseInt(w.target.value)||0}),className:"w-24",autoFocus:!0}):s.jsx("span",{className:"font-medium",children:x.stock})}),s.jsx(xe,{children:p(x.stock)}),s.jsx(xe,{className:"text-right",children:(o==null?void 0:o.id)===x.id?s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(U,{size:"sm",onClick:()=>g(x.id,o.stock),disabled:c,children:s.jsx(Ni,{className:"h-4 w-4"})}),s.jsx(U,{size:"sm",variant:"outline",onClick:()=>l(null),disabled:c,children:"Cancel"})]}):s.jsx(U,{size:"sm",variant:"outline",onClick:()=>l({id:x.id,stock:x.stock}),children:"Edit"})})]},x.id)}),h.length===0&&s.jsx(Et,{children:s.jsx(xe,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No products found"})})]})]})})]})]})}const T3={title:"",subtitle:"",image_url:"",link_url:"",is_active:!0,sort_order:0};function Lqe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(T3),[d,h]=v.useState(!1),[f,m]=v.useState(!1),g=v.useRef(null);v.useEffect(()=>{p()},[]);const p=async()=>{try{const _=await C0e();t(_||[])}catch{G.error("Failed to load sliders")}finally{n(!1)}},x=()=>{l(null),u(T3),i(!0)},b=_=>{l(_),u({title:_.title,subtitle:_.subtitle||"",image_url:_.image_url,link_url:_.link_url||"",is_active:_.is_active??!0,sort_order:_.sort_order||0}),i(!0)},y=async _=>{var C;const j=(C=_.target.files)==null?void 0:C[0];if(j){if(!j.type.startsWith("image/")){G.error("Please select an image file");return}if(j.size>5*1024*1024){G.error("Image size should be less than 5MB");return}m(!0);try{const I=j.name.split(".").pop(),$=`sliders/${`slider-${Date.now()}.${I}`}`,{error:W}=await Q.storage.from("shop-assets").upload($,j);if(W)throw W;const{data:{publicUrl:V}}=Q.storage.from("shop-assets").getPublicUrl($);u(E=>({...E,image_url:V})),G.success("Image uploaded successfully")}catch(I){console.error("Upload error:",I),G.error("Failed to upload image")}finally{m(!1)}}},w=async _=>{if(_.preventDefault(),!c.image_url){G.error("Please upload an image or enter an image URL");return}h(!0);try{const j={title:c.title,subtitle:c.subtitle||void 0,image_url:c.image_url,link_url:c.link_url||void 0,is_active:c.is_active,sort_order:c.sort_order};o?(await mR(o.id,j),G.success("Slider updated successfully")):(await P0e(j),G.success("Slider created successfully")),i(!1),p()}catch{G.error("Failed to save slider")}finally{h(!1)}},N=async _=>{if(confirm("Are you sure you want to delete this slider?"))try{await E0e(_),G.success("Slider deleted successfully"),p()}catch{G.error("Failed to delete slider")}},S=async _=>{try{await mR(_.id,{is_active:!_.is_active}),G.success(`Slider ${_.is_active?"deactivated":"activated"}`),p()}catch{G.error("Failed to update slider")}},k=()=>{u(_=>({..._,image_url:""}))};return r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(St,{className:"h-8 w-32"}),s.jsx(St,{className:"h-10 w-32"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(3)].map((_,j)=>s.jsx(St,{className:"h-48 w-full"},j))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Slider Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage homepage hero slider images, titles, and links"})]}),s.jsxs(Jr,{open:a,onOpenChange:i,children:[s.jsx(cv,{asChild:!0,children:s.jsxs(U,{onClick:x,className:"gap-2",children:[s.jsx(qt,{className:"h-4 w-4"}),"Add Slider"]})}),s.jsxs(zr,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsx(Ur,{children:s.jsx(Vr,{children:o?"Edit Slider":"Add New Slider"})}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Slider Image *"}),c.image_url?s.jsxs("div",{className:"relative rounded-lg overflow-hidden border",children:[s.jsx("img",{src:c.image_url,alt:"Preview",className:"w-full h-40 object-cover",onError:_=>{_.currentTarget.src="https://via.placeholder.com/800x400?text=Image+Error"}}),s.jsx(U,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:k,children:s.jsx(er,{className:"h-4 w-4"})})]}):s.jsx("div",{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",onClick:()=>{var _;return(_=g.current)==null?void 0:_.click()},children:f?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Uploading..."})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(si,{className:"h-8 w-8 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload image"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG up to 5MB"})]})}),s.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:y,className:"hidden"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-px bg-border"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"or paste URL"}),s.jsx("div",{className:"flex-1 h-px bg-border"})]}),s.jsx(F,{value:c.image_url,onChange:_=>u({...c,image_url:_.target.value}),placeholder:"https://example.com/slider.jpg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"title",children:"Title *"}),s.jsx(F,{id:"title",value:c.title,onChange:_=>u({...c,title:_.target.value}),placeholder:"e.g., Summer Collection 2026",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"subtitle",children:"Subtitle / Description"}),s.jsx(wt,{id:"subtitle",value:c.subtitle,onChange:_=>u({...c,subtitle:_.target.value}),placeholder:"e.g., Up to 50% off on selected items",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"link_url",children:"Button Link URL"}),s.jsx(F,{id:"link_url",value:c.link_url,onChange:_=>u({...c,link_url:_.target.value}),placeholder:"/products or /category/summer"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Where should the slider button link to?"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"sort_order",children:"Display Order"}),s.jsx(F,{id:"sort_order",type:"number",value:c.sort_order,onChange:_=>u({...c,sort_order:parseInt(_.target.value)||0})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower numbers appear first"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[s.jsx(gt,{id:"is_active",checked:c.is_active,onCheckedChange:_=>u({...c,is_active:_})}),s.jsx(z,{htmlFor:"is_active",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(U,{type:"submit",disabled:d||f,children:d?"Saving...":o?"Update Slider":"Create Slider"})]})]})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.map(_=>s.jsxs(me,{className:"overflow-hidden",children:[s.jsxs("div",{className:"relative aspect-[16/9]",children:[s.jsx("img",{src:_.image_url,alt:_.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:s.jsx(Ge,{variant:_.is_active?"default":"secondary",children:_.is_active?"Active":"Inactive"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-3 left-3 right-3 text-white",children:[s.jsx("h3",{className:"font-semibold text-lg",children:_.title}),_.subtitle&&s.jsx("p",{className:"text-sm opacity-90 line-clamp-2",children:_.subtitle})]})]}),s.jsx(pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{checked:_.is_active??!0,onCheckedChange:()=>S(_)}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Order: ",_.sort_order]})]}),s.jsxs("div",{className:"flex gap-1",children:[_.link_url&&s.jsx(U,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx("a",{href:_.link_url,target:"_blank",rel:"noopener noreferrer",children:s.jsx(md,{className:"h-4 w-4"})})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>b(_),children:s.jsx(Sl,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>N(_.id),children:s.jsx(Mr,{className:"h-4 w-4 text-destructive"})})]})]})})]},_.id)),e.length===0&&s.jsx(me,{className:"col-span-full",children:s.jsxs(pe,{className:"py-12 text-center",children:[s.jsx(xi,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No sliders yet."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your first slider to display on the homepage hero section!"})]})})]})]})}function Fqe(){const[e,t]=v.useState(""),[r,n]=v.useState(null),[a,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState(!0);v.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:k,error:_}=await Q.from("admin_settings").select("key, value").in("key",["shop_name","shop_logo_url","favicon_url"]);if(_)throw _;k==null||k.forEach(j=>{j.key==="shop_name"&&t(j.value),j.key==="shop_logo_url"&&n(j.value),j.key==="favicon_url"&&i(j.value)})}catch(k){console.error("Failed to load settings:",k)}finally{m(!1)}},p=async k=>{var j;const _=(j=k.target.files)==null?void 0:j[0];if(_){if(!_.type.startsWith("image/")){G.error("Please upload an image file");return}if(_.size>2*1024*1024){G.error("Image must be less than 2MB");return}l(!0);try{const I=`shop-logo.${_.name.split(".").pop()}`;await Q.storage.from("shop-assets").remove([I]);const{error:M}=await Q.storage.from("shop-assets").upload(I,_,{upsert:!0});if(M)throw M;const{data:$}=Q.storage.from("shop-assets").getPublicUrl(I),W=`${$.publicUrl}?t=${Date.now()}`;n(W),await N("shop_logo_url",W),G.success("Logo uploaded successfully")}catch(C){console.error("Upload error:",C),G.error("Failed to upload logo")}finally{l(!1)}}},x=async k=>{var j;const _=(j=k.target.files)==null?void 0:j[0];if(_){if(!_.type.startsWith("image/")){G.error("Please upload an image file");return}if(_.size>500*1024){G.error("Favicon must be less than 500KB");return}u(!0);try{const I=`favicon.${_.name.split(".").pop()}`;await Q.storage.from("shop-assets").remove([I]);const{error:M}=await Q.storage.from("shop-assets").upload(I,_,{upsert:!0});if(M)throw M;const{data:$}=Q.storage.from("shop-assets").getPublicUrl(I),W=`${$.publicUrl}?t=${Date.now()}`;i(W),await N("favicon_url",W),w(W),G.success("Favicon uploaded successfully")}catch(C){console.error("Upload error:",C),G.error("Failed to upload favicon")}finally{u(!1)}}},b=async()=>{try{await Q.storage.from("shop-assets").remove(["shop-logo.png","shop-logo.jpg","shop-logo.jpeg","shop-logo.webp"]),await Q.from("admin_settings").delete().eq("key","shop_logo_url"),n(null),G.success("Logo deleted")}catch{G.error("Failed to delete logo")}},y=async()=>{try{await Q.storage.from("shop-assets").remove(["favicon.png","favicon.jpg","favicon.ico","favicon.webp"]),await Q.from("admin_settings").delete().eq("key","favicon_url"),i(null);const k=document.querySelector("link[rel~='icon']");k&&(k.href="/favicon.ico"),G.success("Favicon deleted")}catch{G.error("Failed to delete favicon")}},w=k=>{let _=document.querySelector("link[rel~='icon']");_||(_=document.createElement("link"),_.rel="icon",document.head.appendChild(_)),_.href=k},N=async(k,_)=>{const{error:j}=await Q.from("admin_settings").upsert({key:k,value:_},{onConflict:"key"});if(j)throw j},S=async()=>{h(!0);try{await N("shop_name",e),await N("site_name",e),document.title=e,G.success("Settings saved successfully")}catch{G.error("Failed to save settings")}finally{h(!1)}};return f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Shop Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure your shop name, logo, and favicon for invoices"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(kJ,{className:"h-5 w-5"}),"Shop Name"]}),s.jsx(nt,{children:"This name will appear on all invoices"})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"shopName",children:"Shop Name"}),s.jsx(F,{id:"shopName",value:e,onChange:k=>t(k.target.value),placeholder:"Enter your shop name"})]}),s.jsxs(U,{onClick:S,disabled:d,className:"w-full gap-2",children:[s.jsx(Cn,{className:"h-4 w-4"}),d?"Saving...":"Save Shop Name"]})]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(si,{className:"h-5 w-5"}),"Shop Logo"]}),s.jsx(nt,{children:"Upload your logo (max 2MB, PNG/JPG/WebP)"})]}),s.jsx(pe,{className:"space-y-4",children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border rounded-lg p-4 bg-muted/50",children:s.jsx("img",{src:r,alt:"Shop Logo",className:"max-h-24 object-contain mx-auto"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{htmlFor:"logo-replace",className:"flex-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 border rounded-md hover:bg-muted transition-colors",children:[s.jsx(si,{className:"h-4 w-4"}),"Replace Logo"]}),s.jsx("input",{id:"logo-replace",type:"file",accept:"image/*",className:"hidden",onChange:p,disabled:o})]}),s.jsx(U,{variant:"destructive",size:"icon",onClick:b,children:s.jsx(Mr,{className:"h-4 w-4"})})]})]}):s.jsxs(z,{htmlFor:"logo-upload",className:"cursor-pointer",children:[s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover:border-primary transition-colors",children:[s.jsx(si,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o?"Uploading...":"Click to upload logo"})]}),s.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",className:"hidden",onChange:p,disabled:o})]})})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(xi,{className:"h-5 w-5"}),"Favicon"]}),s.jsx(nt,{children:"Browser tab icon (max 500KB, PNG/ICO preferred)"})]}),s.jsx(pe,{className:"space-y-4",children:a?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border rounded-lg p-4 bg-muted/50",children:s.jsx("img",{src:a,alt:"Favicon",className:"w-16 h-16 object-contain mx-auto"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{htmlFor:"favicon-replace",className:"flex-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 border rounded-md hover:bg-muted transition-colors",children:[s.jsx(si,{className:"h-4 w-4"}),"Replace Favicon"]}),s.jsx("input",{id:"favicon-replace",type:"file",accept:"image/*,.ico",className:"hidden",onChange:x,disabled:c})]}),s.jsx(U,{variant:"destructive",size:"icon",onClick:y,children:s.jsx(Mr,{className:"h-4 w-4"})})]})]}):s.jsxs(z,{htmlFor:"favicon-upload",className:"cursor-pointer",children:[s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover:border-primary transition-colors",children:[s.jsx(xi,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c?"Uploading...":"Click to upload favicon"})]}),s.jsx("input",{id:"favicon-upload",type:"file",accept:"image/*,.ico",className:"hidden",onChange:x,disabled:c})]})})]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"Invoice Preview"}),s.jsx(nt,{children:"This is how your logo and shop name will appear on invoices"})]}),s.jsx(pe,{children:s.jsx("div",{className:"border rounded-lg p-6 bg-white text-black max-w-md",children:s.jsxs("div",{className:"flex items-start justify-between",children:[r?s.jsx("img",{src:r,alt:"Logo",className:"h-12 object-contain"}):s.jsx("h2",{className:"text-2xl font-bold",style:{fontFamily:"Georgia, serif"},children:e||"Your Shop"}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:"text-lg font-bold",children:"INVOICE"})})]})})})]})]})}function Bqe(){const[e,t]=v.useState(""),[r,n]=v.useState(!1),[a,i]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(""),[d,h]=v.useState(!1),[f,m]=v.useState(!0),[g,p]=v.useState(!1),[x,b]=v.useState({ga_measurement_id:"",gtm_id:"",ga_api_secret:"",ga_enabled:!1,gtm_enabled:!1,ga_server_enabled:!1}),[y,w]=v.useState(!1),[N,S]=v.useState(!0),[k,_]=v.useState(!1),[j,C]=v.useState({tiktok_pixel_id:"",tiktok_pixel_enabled:!1,tiktok_access_token:"",tiktok_events_api_enabled:!1,tiktok_test_event_code:""}),[I,M]=v.useState(!1),[$,W]=v.useState(!0),[V,E]=v.useState(!1),[P,R]=v.useState([]),[O,T]=v.useState(!0),[D,X]=v.useState(!1),[A,q]=v.useState(null),[L,J]=v.useState(!1),[le,H]=v.useState(!1),[re,te]=v.useState(!1),[ie,ee]=v.useState(!0),[K,he]=v.useState({resend_api_key:"",notification_email:"",order_notification_enabled:!1,contact_notification_enabled:!1}),[ue,be]=v.useState({code:"",discount_type:"percentage",discount_value:0,min_order_amount:0,max_discount_amount:0,usage_limit:0,starts_at:"",expires_at:"",is_active:!0});v.useEffect(()=>{kt(),tt(),Me(),ce(),nr()},[]);const Me=async()=>{try{const{data:ne,error:rt}=await Q.from("admin_settings").select("key, value").in("key",["tiktok_pixel_id","tiktok_pixel_enabled","tiktok_access_token","tiktok_events_api_enabled","tiktok_test_event_code"]);if(rt)throw rt;const Te={tiktok_pixel_id:"",tiktok_pixel_enabled:!1,tiktok_access_token:"",tiktok_events_api_enabled:!1,tiktok_test_event_code:""};ne==null||ne.forEach(Xt=>{switch(Xt.key){case"tiktok_pixel_id":Te.tiktok_pixel_id=Xt.value;break;case"tiktok_pixel_enabled":Te.tiktok_pixel_enabled=Xt.value==="true";break;case"tiktok_access_token":Te.tiktok_access_token=Xt.value;break;case"tiktok_events_api_enabled":Te.tiktok_events_api_enabled=Xt.value==="true";break;case"tiktok_test_event_code":Te.tiktok_test_event_code=Xt.value;break}}),C(Te)}catch(ne){console.error("Failed to load TikTok settings:",ne),G.error("Failed to load TikTok settings")}finally{W(!1)}},Se=async()=>{if(j.tiktok_pixel_enabled&&!j.tiktok_pixel_id.trim()){G.error("Please enter a TikTok Pixel ID");return}if(j.tiktok_events_api_enabled&&!j.tiktok_access_token.trim()){G.error("Please enter a TikTok Events API Access Token");return}M(!0);try{await Promise.all([it("tiktok_pixel_id",j.tiktok_pixel_id.trim()),it("tiktok_pixel_enabled",j.tiktok_pixel_enabled.toString()),it("tiktok_access_token",j.tiktok_access_token.trim()),it("tiktok_events_api_enabled",j.tiktok_events_api_enabled.toString()),it("tiktok_test_event_code",j.tiktok_test_event_code.trim())]),G.success("TikTok settings saved successfully")}catch(ne){console.error("Save error:",ne),G.error("Failed to save TikTok settings")}finally{M(!1)}},tt=async()=>{try{const{data:ne,error:rt}=await Q.from("admin_settings").select("key, value").in("key",["ga_measurement_id","gtm_id","ga_api_secret","ga_enabled","gtm_enabled","ga_server_enabled"]);if(rt)throw rt;const Te={ga_measurement_id:"",gtm_id:"",ga_api_secret:"",ga_enabled:!1,gtm_enabled:!1,ga_server_enabled:!1};ne==null||ne.forEach(Xt=>{switch(Xt.key){case"ga_measurement_id":Te.ga_measurement_id=Xt.value;break;case"gtm_id":Te.gtm_id=Xt.value;break;case"ga_api_secret":Te.ga_api_secret=Xt.value;break;case"ga_enabled":Te.ga_enabled=Xt.value==="true";break;case"gtm_enabled":Te.gtm_enabled=Xt.value==="true";break;case"ga_server_enabled":Te.ga_server_enabled=Xt.value==="true";break}}),b(Te)}catch(ne){console.error("Failed to load Google settings:",ne),G.error("Failed to load Google Analytics settings")}finally{S(!1)}},ft=async()=>{if(x.ga_enabled&&!x.ga_measurement_id.trim()){G.error("Please enter a GA4 Measurement ID");return}if(x.gtm_enabled&&!x.gtm_id.trim()){G.error("Please enter a GTM Container ID");return}if(x.ga_server_enabled&&(!x.ga_measurement_id.trim()||!x.ga_api_secret.trim())){G.error("Server-side tracking requires both Measurement ID and API Secret");return}w(!0);try{await Promise.all([it("ga_measurement_id",x.ga_measurement_id.trim()),it("gtm_id",x.gtm_id.trim()),it("ga_api_secret",x.ga_api_secret.trim()),it("ga_enabled",x.ga_enabled.toString()),it("gtm_enabled",x.gtm_enabled.toString()),it("ga_server_enabled",x.ga_server_enabled.toString())]),G.success("Google Analytics settings saved successfully")}catch(ne){console.error("Save error:",ne),G.error("Failed to save settings")}finally{w(!1)}},kt=async()=>{try{const{data:ne,error:rt}=await Q.from("admin_settings").select("key, value").in("key",["fb_pixel_id","fb_pixel_enabled","fb_capi_token","fb_capi_enabled","fb_test_event_code"]);if(rt)throw rt;ne==null||ne.forEach(Te=>{switch(Te.key){case"fb_pixel_id":t(Te.value);break;case"fb_pixel_enabled":n(Te.value==="true");break;case"fb_capi_token":i(Te.value);break;case"fb_capi_enabled":l(Te.value==="true");break;case"fb_test_event_code":u(Te.value);break}})}catch(ne){console.error("Failed to load settings:",ne),G.error("Failed to load Facebook settings")}finally{m(!1)}},it=async(ne,rt)=>{const{error:Te}=await Q.from("admin_settings").upsert({key:ne,value:rt},{onConflict:"key"});if(Te)throw Te},Rr=async()=>{if(r&&!e.trim()){G.error("Please enter a Facebook Pixel ID");return}if(o&&!a.trim()){G.error("Please enter a Conversion API Access Token");return}h(!0);try{await Promise.all([it("fb_pixel_id",e.trim()),it("fb_pixel_enabled",r.toString()),it("fb_capi_token",a.trim()),it("fb_capi_enabled",o.toString()),it("fb_test_event_code",c.trim())]),G.success("Facebook settings saved successfully")}catch(ne){console.error("Save error:",ne),G.error("Failed to save settings")}finally{h(!1)}},ce=async()=>{try{const{data:ne,error:rt}=await Q.from("coupons").select("*").order("created_at",{ascending:!1});if(rt)throw rt;R(ne||[])}catch(ne){console.error("Failed to load coupons:",ne),G.error("Failed to load coupons")}finally{T(!1)}},Ee=ne=>{ne?(q(ne),be({code:ne.code,discount_type:ne.discount_type,discount_value:ne.discount_value,min_order_amount:ne.min_order_amount||0,max_discount_amount:ne.max_discount_amount||0,usage_limit:ne.usage_limit||0,starts_at:ne.starts_at?ne.starts_at.split("T")[0]:"",expires_at:ne.expires_at?ne.expires_at.split("T")[0]:"",is_active:ne.is_active??!0})):(q(null),be({code:"",discount_type:"percentage",discount_value:0,min_order_amount:0,max_discount_amount:0,usage_limit:0,starts_at:"",expires_at:"",is_active:!0})),X(!0)},Pe=async()=>{if(!ue.code.trim()){G.error("Please enter a coupon code");return}if(ue.discount_value<=0){G.error("Discount value must be greater than 0");return}J(!0);try{const ne={code:ue.code.toUpperCase().trim(),discount_type:ue.discount_type,discount_value:ue.discount_value,min_order_amount:ue.min_order_amount||null,max_discount_amount:ue.max_discount_amount||null,usage_limit:ue.usage_limit||null,starts_at:ue.starts_at||null,expires_at:ue.expires_at||null,is_active:ue.is_active};if(A){const{error:rt}=await Q.from("coupons").update(ne).eq("id",A.id);if(rt)throw rt;G.success("Coupon updated successfully")}else{const{error:rt}=await Q.from("coupons").insert(ne);if(rt)throw rt;G.success("Coupon created successfully")}X(!1),ce()}catch(ne){console.error("Save coupon error:",ne),ne.code==="23505"?G.error("Coupon code already exists"):G.error("Failed to save coupon")}finally{J(!1)}},We=async ne=>{if(confirm("Are you sure you want to delete this coupon?"))try{const{error:rt}=await Q.from("coupons").delete().eq("id",ne);if(rt)throw rt;G.success("Coupon deleted"),ce()}catch(rt){console.error("Delete coupon error:",rt),G.error("Failed to delete coupon")}},mt=async ne=>{try{const{error:rt}=await Q.from("coupons").update({is_active:!ne.is_active}).eq("id",ne.id);if(rt)throw rt;ce()}catch(rt){console.error("Toggle coupon error:",rt),G.error("Failed to update coupon status")}},nr=async()=>{try{const{data:ne,error:rt}=await Q.from("admin_settings").select("key, value").in("key",["resend_api_key","notification_email","order_notification_enabled","contact_notification_enabled"]);if(rt)throw rt;const Te={};ne==null||ne.forEach(Xt=>{Te[Xt.key]=Xt.value}),he({resend_api_key:Te.resend_api_key||"",notification_email:Te.notification_email||"",order_notification_enabled:Te.order_notification_enabled==="true",contact_notification_enabled:Te.contact_notification_enabled==="true"})}catch(ne){console.error("Failed to load email settings:",ne)}finally{ee(!1)}},ls=async()=>{if(K.order_notification_enabled||K.contact_notification_enabled){if(!K.resend_api_key){G.error("Please enter Resend API key to enable notifications");return}if(!K.notification_email){G.error("Please enter notification email address");return}}te(!0);try{const ne=[{key:"resend_api_key",value:K.resend_api_key},{key:"notification_email",value:K.notification_email},{key:"order_notification_enabled",value:String(K.order_notification_enabled)},{key:"contact_notification_enabled",value:String(K.contact_notification_enabled)}];for(const rt of ne){const{error:Te}=await Q.from("admin_settings").upsert({key:rt.key,value:rt.value,updated_at:new Date().toISOString()},{onConflict:"key"});if(Te)throw Te}G.success("Email settings saved successfully")}catch(ne){console.error("Save email error:",ne),G.error("Failed to save email settings")}finally{te(!1)}};return f&&N&&$&&O&&ie?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-display font-bold",children:"Marketing"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage tracking, email notifications, and promotional coupons"})]}),s.jsxs(wi,{defaultValue:"facebook",className:"space-y-6",children:[s.jsxs(Fa,{className:"grid w-full max-w-3xl grid-cols-5",children:[s.jsxs(It,{value:"facebook",className:"gap-2",children:[s.jsx(F8,{className:"h-4 w-4"}),"Meta"]}),s.jsxs(It,{value:"tiktok",className:"gap-2",children:[s.jsx(qA,{className:"h-4 w-4"}),"TikTok"]}),s.jsxs(It,{value:"google",className:"gap-2",children:[s.jsx(um,{className:"h-4 w-4"}),"Google"]}),s.jsxs(It,{value:"email",className:"gap-2",children:[s.jsx(Li,{className:"h-4 w-4"}),"Email"]}),s.jsxs(It,{value:"coupons",className:"gap-2",children:[s.jsx(ej,{className:"h-4 w-4"}),"Coupons"]})]}),s.jsxs(Ht,{value:"facebook",className:"space-y-6",children:[s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(um,{className:"h-5 w-5 text-blue-600"}),"Meta Pixel (Facebook Pixel)"]}),s.jsx(nt,{children:"Track website visitors and their actions for Meta/Facebook Ads"})]}),s.jsx(gt,{checked:r,onCheckedChange:n})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"pixelId",children:"Meta Pixel ID"}),s.jsx(F,{id:"pixelId",value:e,onChange:ne=>t(ne.target.value),placeholder:"Enter your Meta Pixel ID (e.g., 123456789012345)",disabled:!r}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find your Pixel ID in Meta Events Manager  Data Sources  Your Pixel"})]}),r&&e&&s.jsx("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:" Pixel will track: PageView, ViewContent, AddToCart, InitiateCheckout, Purchase"})})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(ic,{className:"h-5 w-5 text-purple-600"}),"Conversion API (CAPI)"]}),s.jsx(nt,{children:"Server-side tracking for better data accuracy and privacy compliance"})]}),s.jsx(gt,{checked:o,onCheckedChange:l})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"capiToken",children:"Access Token"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"capiToken",type:g?"text":"password",value:a,onChange:ne=>i(ne.target.value),placeholder:"Enter your Conversion API Access Token",disabled:!o,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>p(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-foreground hover:text-primary transition-colors z-10",children:g?s.jsx(ni,{className:"h-5 w-5"}):s.jsx(_r,{className:"h-5 w-5"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Generate a token in Events Manager  Settings  Conversions API"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"testEventCode",children:"Test Event Code (Optional)"}),s.jsx(F,{id:"testEventCode",value:c,onChange:ne=>u(ne.target.value),placeholder:"e.g., TEST12345",disabled:!o}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use this to test events in Events Manager before going live"})]}),o&&a&&s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950 border border-purple-200 dark:border-purple-800 rounded-lg p-4 space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-200",children:" Server-Side Tracking Active"}),s.jsxs("ul",{className:"text-xs text-purple-700 dark:text-purple-300 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"InitiateCheckout - When users start checkout"}),s.jsx("li",{children:"Purchase - Order completion with full customer data"}),s.jsx("li",{children:"Includes: Phone, Name, IP, User Agent, Meta ClickID (fbc), Browser ID (fbp)"})]}),s.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 pt-2",children:" Server-side events bypass ad blockers and improve match quality scores"})]})]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"Tracked Events"}),s.jsx(nt,{children:"Events that will be sent to Facebook when enabled"})]}),s.jsx(pe,{children:s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(_r,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"PageView"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Every page visit"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(_r,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"ViewContent"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Product detail views"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(En,{className:"h-5 w-5 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"AddToCart"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Items added to cart"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(ic,{className:"h-5 w-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Purchase"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed orders"})]})]})]})})]}),s.jsxs(U,{onClick:Rr,disabled:d,className:"gap-2",children:[s.jsx(Cn,{className:"h-4 w-4"}),d?"Saving...":"Save Facebook Settings"]})]}),s.jsxs(Ht,{value:"tiktok",className:"space-y-6",children:[s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(qA,{className:"h-5 w-5 text-black dark:text-white"}),"TikTok Pixel"]}),s.jsx(nt,{children:"Track website visitors and their actions for TikTok Ads"})]}),s.jsx(gt,{checked:j.tiktok_pixel_enabled,onCheckedChange:ne=>C({...j,tiktok_pixel_enabled:ne})})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"tiktokPixelId",children:"TikTok Pixel ID"}),s.jsx(F,{id:"tiktokPixelId",value:j.tiktok_pixel_id,onChange:ne=>C({...j,tiktok_pixel_id:ne.target.value}),placeholder:"Enter your TikTok Pixel ID",disabled:!j.tiktok_pixel_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find your Pixel ID in TikTok Ads Manager  Assets  Events  Web Events"})]}),j.tiktok_pixel_enabled&&j.tiktok_pixel_id&&s.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-zinc-800 dark:text-zinc-200",children:" Pixel will track: PageView, ViewContent, AddToCart, InitiateCheckout, CompletePayment"})})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(ic,{className:"h-5 w-5 text-cyan-600"}),"TikTok Events API"]}),s.jsx(nt,{children:"Server-side tracking for better data accuracy and bypassing ad blockers"})]}),s.jsx(gt,{checked:j.tiktok_events_api_enabled,onCheckedChange:ne=>C({...j,tiktok_events_api_enabled:ne})})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"tiktokAccessToken",children:"Access Token"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"tiktokAccessToken",type:V?"text":"password",value:j.tiktok_access_token,onChange:ne=>C({...j,tiktok_access_token:ne.target.value}),placeholder:"Enter your TikTok Events API Access Token",disabled:!j.tiktok_events_api_enabled,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>E(!V),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:V?s.jsx(ni,{className:"h-4 w-4"}):s.jsx(_r,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Generate a token in TikTok for Business  Assets  Events  Settings  Events API"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"tiktokTestEventCode",children:"Test Event Code (Optional)"}),s.jsx(F,{id:"tiktokTestEventCode",value:j.tiktok_test_event_code,onChange:ne=>C({...j,tiktok_test_event_code:ne.target.value}),placeholder:"e.g., TEST12345",disabled:!j.tiktok_events_api_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use this to test events before going live"})]}),j.tiktok_events_api_enabled&&j.tiktok_access_token&&s.jsxs("div",{className:"bg-cyan-50 dark:bg-cyan-950 border border-cyan-200 dark:border-cyan-800 rounded-lg p-4 space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-cyan-800 dark:text-cyan-200",children:" Server-Side Tracking Active"}),s.jsxs("ul",{className:"text-xs text-cyan-700 dark:text-cyan-300 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"InitiateCheckout - When users start checkout"}),s.jsx("li",{children:"CompletePayment - Order completion with full customer data"}),s.jsx("li",{children:"Includes: Phone, Email, IP, User Agent, TikTok ClickID (ttclid)"})]}),s.jsx("p",{className:"text-xs text-cyan-600 dark:text-cyan-400 pt-2",children:" Server-side events bypass ad blockers and improve match quality"})]})]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"Tracked Events"}),s.jsx(nt,{children:"Events that will be sent to TikTok when enabled"})]}),s.jsx(pe,{children:s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-5",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(_r,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"PageView"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Every page visit"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(_r,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"ViewContent"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Product views"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(En,{className:"h-5 w-5 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"AddToCart"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Items added"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(ic,{className:"h-5 w-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"InitiateCheckout"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Checkout starts"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(xy,{className:"h-5 w-5 text-emerald-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"CompletePayment"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Purchases"})]})]})]})})]}),s.jsxs(U,{onClick:Se,disabled:I,className:"gap-2",children:[s.jsx(Cn,{className:"h-4 w-4"}),I?"Saving...":"Save TikTok Settings"]})]}),s.jsxs(Ht,{value:"google",className:"space-y-6",children:[s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(um,{className:"h-5 w-5 text-yellow-600"}),"Google Tag Manager (GTM)"]}),s.jsx(nt,{children:"Use GTM to manage all your tracking tags in one place"})]}),s.jsx(gt,{checked:x.gtm_enabled,onCheckedChange:ne=>b({...x,gtm_enabled:ne})})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"gtmId",children:"GTM Container ID"}),s.jsx(F,{id:"gtmId",value:x.gtm_id,onChange:ne=>b({...x,gtm_id:ne.target.value}),placeholder:"GTM-XXXXXXX",disabled:!x.gtm_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find your Container ID in GTM  Admin  Container Settings"})]}),x.gtm_enabled&&x.gtm_id&&s.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:" GTM will load on all pages. Configure your GA4, conversion tracking, and other tags in Google Tag Manager."})})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(um,{className:"h-5 w-5 text-blue-600"}),"Google Analytics 4 (GA4)"]}),s.jsx(nt,{children:"Direct GA4 integration (use this if you're not using GTM)"})]}),s.jsx(gt,{checked:x.ga_enabled,onCheckedChange:ne=>b({...x,ga_enabled:ne}),disabled:x.gtm_enabled})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"gaMeasurementId",children:"Measurement ID"}),s.jsx(F,{id:"gaMeasurementId",value:x.ga_measurement_id,onChange:ne=>b({...x,ga_measurement_id:ne.target.value}),placeholder:"G-XXXXXXXXXX",disabled:!x.ga_enabled&&!x.ga_server_enabled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find this in GA4  Admin  Data Streams  Your Stream"})]}),x.gtm_enabled&&s.jsx("div",{className:"bg-muted/50 border rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:" GTM is enabled. Configure GA4 within your GTM container instead of here for better control."})}),x.ga_enabled&&x.ga_measurement_id&&!x.gtm_enabled&&s.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:" GA4 will track: page_view, view_item, add_to_cart, begin_checkout, purchase"})})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(ic,{className:"h-5 w-5 text-green-600"}),"Server-Side Tracking (Measurement Protocol)"]}),s.jsx(nt,{children:"Send events directly from server - bypasses ad blockers, no Stape.io needed"})]}),s.jsx(gt,{checked:x.ga_server_enabled,onCheckedChange:ne=>b({...x,ga_server_enabled:ne})})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"gaApiSecret",children:"Measurement Protocol API Secret"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"gaApiSecret",type:k?"text":"password",value:x.ga_api_secret,onChange:ne=>b({...x,ga_api_secret:ne.target.value}),placeholder:"Enter your API Secret",disabled:!x.ga_server_enabled,className:"pr-10"}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>_(!k),children:k?s.jsx(ni,{className:"h-4 w-4"}):s.jsx(_r,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Create in GA4  Admin  Data Streams  Your Stream  Measurement Protocol API secrets"})]}),x.ga_server_enabled&&x.ga_api_secret&&x.ga_measurement_id&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg p-4 space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:" Server-Side Tracking Active"}),s.jsxs("ul",{className:"text-xs text-green-700 dark:text-green-300 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"begin_checkout - When users start checkout"}),s.jsx("li",{children:"purchase - Order completion with transaction data"}),s.jsx("li",{children:"Events sent via Measurement Protocol API"})]}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 pt-2",children:" Server-side events bypass ad blockers for accurate tracking"})]})]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"Tracked Events"}),s.jsx(nt,{children:"E-commerce events that will be sent to Google Analytics"})]}),s.jsx(pe,{children:s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(_r,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"page_view"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Every page visit"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(_r,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"view_item"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Product views"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(En,{className:"h-5 w-5 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"add_to_cart"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Cart additions"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(ic,{className:"h-5 w-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"purchase"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed orders"})]})]})]})})]}),s.jsxs(U,{onClick:ft,disabled:y,className:"gap-2",children:[s.jsx(Cn,{className:"h-4 w-4"}),y?"Saving...":"Save Google Settings"]})]}),s.jsx(Ht,{value:"email",className:"space-y-6",children:s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Li,{className:"h-5 w-5"}),"Email Notifications"]}),s.jsxs(nt,{children:["Configure email notifications for your store. You need a Resend API key to send emails. Get one at ",s.jsx("a",{href:"https://resend.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"resend.com"})]})]}),s.jsxs(pe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"resend_api_key",children:"Resend API Key"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"resend_api_key",type:le?"text":"password",placeholder:"re_xxxxxxxxxx",value:K.resend_api_key,onChange:ne=>he({...K,resend_api_key:ne.target.value}),className:"pr-10"}),s.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>H(!le),children:le?s.jsx(ni,{className:"h-4 w-4"}):s.jsx(_r,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your API key is stored securely and used to send email notifications"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"notification_email",children:"Notification Email"}),s.jsx(F,{id:"notification_email",type:"email",placeholder:"admin@yourstore.com",value:K.notification_email,onChange:ne=>he({...K,notification_email:ne.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email address where you want to receive notifications"})]}),s.jsx(iu,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[s.jsx(oJ,{className:"h-5 w-5"}),"Notification Preferences"]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(z,{className:"text-base",children:"Order Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email when a new order is placed with full order details"})]}),s.jsx(gt,{checked:K.order_notification_enabled,onCheckedChange:ne=>he({...K,order_notification_enabled:ne})})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(z,{className:"text-base",children:"Contact Form Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email when someone submits the contact form"})]}),s.jsx(gt,{checked:K.contact_notification_enabled,onCheckedChange:ne=>he({...K,contact_notification_enabled:ne})})]})]}),s.jsxs(U,{onClick:ls,disabled:re,className:"gap-2",children:[s.jsx(Cn,{className:"h-4 w-4"}),re?"Saving...":"Save Email Settings"]})]})]})}),s.jsx(Ht,{value:"coupons",className:"space-y-6",children:s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(ej,{className:"h-5 w-5 text-primary"}),"Discount Coupons"]}),s.jsx(nt,{children:"Create and manage promotional discount codes"})]}),s.jsxs(U,{onClick:()=>Ee(),className:"gap-2",children:[s.jsx(qt,{className:"h-4 w-4"}),"Add Coupon"]})]})}),s.jsx(pe,{children:O?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):P.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(ej,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No coupons created yet"}),s.jsx("p",{className:"text-sm",children:'Click "Add Coupon" to create your first discount code'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"Code"}),s.jsx(Ne,{children:"Discount"}),s.jsx(Ne,{children:"Min. Order"}),s.jsx(Ne,{children:"Usage"}),s.jsx(Ne,{children:"Validity"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{className:"text-right",children:"Actions"})]})}),s.jsx(Cs,{children:P.map(ne=>s.jsxs(Et,{children:[s.jsx(xe,{className:"font-mono font-semibold",children:ne.code}),s.jsx(xe,{children:s.jsx("div",{className:"flex items-center gap-1",children:ne.discount_type==="percentage"?s.jsxs(s.Fragment,{children:[s.jsx(G8,{className:"h-3 w-3"}),ne.discount_value,"%"]}):s.jsxs(s.Fragment,{children:[s.jsx(xy,{className:"h-3 w-3"}),"",ne.discount_value]})})}),s.jsx(xe,{children:ne.min_order_amount?`${ne.min_order_amount}`:"-"}),s.jsx(xe,{children:ne.usage_limit?`${ne.used_count||0}/${ne.usage_limit}`:`${ne.used_count||0}/`}),s.jsx(xe,{className:"text-xs",children:ne.expires_at?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ao,{className:"h-3 w-3"}),ot(new Date(ne.expires_at),"dd MMM yyyy")]}):"No expiry"}),s.jsx(xe,{children:s.jsx(Ge,{variant:ne.is_active?"default":"secondary",className:"cursor-pointer",onClick:()=>mt(ne),children:ne.is_active?"Active":"Inactive"})}),s.jsx(xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>Ee(ne),children:s.jsx(Sl,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>We(ne.id),children:s.jsx(Mr,{className:"h-4 w-4 text-destructive"})})]})})]},ne.id))})]})})})]})})]}),s.jsx(Jr,{open:D,onOpenChange:X,children:s.jsxs(zr,{className:"max-w-md",children:[s.jsx(Ur,{children:s.jsx(Vr,{children:A?"Edit Coupon":"Create New Coupon"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"couponCode",children:"Coupon Code *"}),s.jsx(F,{id:"couponCode",value:ue.code,onChange:ne=>be({...ue,code:ne.target.value.toUpperCase()}),placeholder:"e.g., SAVE20",className:"font-mono"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Discount Type"}),s.jsxs(Zt,{value:ue.discount_type,onValueChange:ne=>be({...ue,discount_type:ne}),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"percentage",children:"Percentage (%)"}),s.jsx(qe,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"discountValue",children:"Discount Value *"}),s.jsx(F,{id:"discountValue",type:"number",value:ue.discount_value||"",onChange:ne=>be({...ue,discount_value:Number(ne.target.value)}),placeholder:ue.discount_type==="percentage"?"20":"100"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"minOrder",children:"Min. Order Amount"}),s.jsx(F,{id:"minOrder",type:"number",value:ue.min_order_amount||"",onChange:ne=>be({...ue,min_order_amount:Number(ne.target.value)}),placeholder:"500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"maxDiscount",children:"Max Discount"}),s.jsx(F,{id:"maxDiscount",type:"number",value:ue.max_discount_amount||"",onChange:ne=>be({...ue,max_discount_amount:Number(ne.target.value)}),placeholder:"200",disabled:ue.discount_type==="fixed"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"usageLimit",children:"Usage Limit (0 = unlimited)"}),s.jsx(F,{id:"usageLimit",type:"number",value:ue.usage_limit||"",onChange:ne=>be({...ue,usage_limit:Number(ne.target.value)}),placeholder:"100"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"startsAt",children:"Start Date"}),s.jsx(F,{id:"startsAt",type:"date",value:ue.starts_at,onChange:ne=>be({...ue,starts_at:ne.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"expiresAt",children:"Expiry Date"}),s.jsx(F,{id:"expiresAt",type:"date",value:ue.expires_at,onChange:ne=>be({...ue,expires_at:ne.target.value})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{htmlFor:"isActive",children:"Active"}),s.jsx(gt,{id:"isActive",checked:ue.is_active,onCheckedChange:ne=>be({...ue,is_active:ne})})]})]}),s.jsxs(qi,{children:[s.jsx(U,{variant:"outline",onClick:()=>X(!1),children:"Cancel"}),s.jsx(U,{onClick:Pe,disabled:L,children:L?"Saving...":A?"Update":"Create"})]})]})})]})}const zqe=[{value:"bulksmsbd",label:"BulkSMSBD",description:"Popular Bangladesh SMS provider"},{value:"sslwireless",label:"SSL Wireless",description:"SSL Wireless SMS Gateway"},{value:"infobip",label:"Infobip",description:"International SMS provider"},{value:"twilio",label:"Twilio",description:"Global cloud communications"}],Uqe=[{key:"customer_name",description:"Customer full name"},{key:"order_number",description:"Order number (e.g., ORD-20241223-0001)"},{key:"total",description:"Order total amount"},{key:"tracking_number",description:"Shipping tracking number"},{key:"phone",description:"Customer phone number"}];function Vqe(){const[e,t]=v.useState("settings"),[r,n]=v.useState(!0),[a,i]=v.useState(!1),[o,l]=v.useState({sms_provider:"bulksmsbd",sms_api_key:"",sms_sender_id:"",sms_enabled:"false",sms_auto_send_order_placed:"true",sms_auto_send_status_change:"true"}),[c,u]=v.useState([]),[d,h]=v.useState(null),[f,m]=v.useState(""),[g,p]=v.useState([]),[x,b]=v.useState(!1),[y,w]=v.useState(""),[N,S]=v.useState(""),[k,_]=v.useState(!1);v.useEffect(()=>{j(),C()},[]);const j=async()=>{try{const{data:E,error:P}=await Q.from("admin_settings").select("key, value").in("key",["sms_provider","sms_api_key","sms_sender_id","sms_enabled","sms_auto_send_order_placed","sms_auto_send_status_change"]);if(P)throw P;const R={...o};E==null||E.forEach(O=>{R[O.key]=O.value}),l(R)}catch(E){console.error("Error loading SMS settings:",E),G.error("Failed to load SMS settings")}finally{n(!1)}},C=async()=>{try{const{data:E,error:P}=await Q.from("sms_templates").select("*").order("template_key");if(P)throw P;u(E||[])}catch(E){console.error("Error loading templates:",E),G.error("Failed to load SMS templates")}},I=async()=>{b(!0);try{const{data:E,error:P}=await Q.from("sms_logs").select("*").order("created_at",{ascending:!1}).limit(100);if(P)throw P;p(E||[])}catch(E){console.error("Error loading logs:",E),G.error("Failed to load SMS logs")}finally{b(!1)}},M=async()=>{i(!0);try{for(const[E,P]of Object.entries(o)){const{error:R}=await Q.from("admin_settings").upsert({key:E,value:P},{onConflict:"key"});if(R)throw R}G.success("SMS settings saved successfully")}catch(E){console.error("Error saving settings:",E),G.error("Failed to save settings")}finally{i(!1)}},$=async(E,P)=>{try{const{error:R}=await Q.from("sms_templates").update({message_template:P}).eq("id",E);if(R)throw R;u(c.map(O=>O.id===E?{...O,message_template:P}:O)),h(null),G.success("Template updated successfully")}catch(R){console.error("Error updating template:",R),G.error("Failed to update template")}},W=async(E,P)=>{try{const{error:R}=await Q.from("sms_templates").update({is_active:P}).eq("id",E);if(R)throw R;u(c.map(O=>O.id===E?{...O,is_active:P}:O)),G.success(`Template ${P?"enabled":"disabled"}`)}catch(R){console.error("Error toggling template:",R),G.error("Failed to update template")}},V=async()=>{if(!y||!N){G.error("Please enter phone number and message");return}_(!0);try{const{data:E,error:P}=await Q.functions.invoke("send-sms",{body:{phone:y,message:N}});if(P)throw P;E.success?(G.success("Test SMS sent successfully!"),w(""),S(""),I()):G.error(E.message||"Failed to send SMS")}catch(E){console.error("Error sending test SMS:",E),G.error(E.message||"Failed to send test SMS")}finally{_(!1)}};return r?s.jsx(At,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(xc,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):s.jsx(At,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"SMS Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure SMS notifications for your customers"})]}),s.jsxs(wi,{value:e,onValueChange:t,children:[s.jsxs(Fa,{className:"grid w-full grid-cols-4",children:[s.jsxs(It,{value:"settings",className:"flex items-center gap-2",children:[s.jsx(Zc,{className:"h-4 w-4"}),"Settings"]}),s.jsxs(It,{value:"templates",className:"flex items-center gap-2",children:[s.jsx(sp,{className:"h-4 w-4"}),"Templates"]}),s.jsxs(It,{value:"test",className:"flex items-center gap-2",children:[s.jsx(ap,{className:"h-4 w-4"}),"Test SMS"]}),s.jsxs(It,{value:"logs",className:"flex items-center gap-2",onClick:I,children:[s.jsx(Jh,{className:"h-4 w-4"}),"SMS Logs"]})]}),s.jsx(Ht,{value:"settings",className:"space-y-6",children:s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"SMS Provider Settings"}),s.jsx(nt,{children:"Configure your SMS gateway provider and credentials"})]}),s.jsxs(pe,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(z,{children:"Enable SMS Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Turn on to send SMS notifications to customers"})]}),s.jsx(gt,{checked:o.sms_enabled==="true",onCheckedChange:E=>l({...o,sms_enabled:E?"true":"false"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"SMS Provider"}),s.jsxs(Zt,{value:o.sms_provider,onValueChange:E=>l({...o,sms_provider:E}),children:[s.jsx(Vt,{children:s.jsx(Jt,{placeholder:"Select provider"})}),s.jsx(Wt,{children:zqe.map(E=>s.jsx(qe,{value:E.value,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:E.label}),s.jsx("span",{className:"text-xs text-muted-foreground",children:E.description})]})},E.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"API Key"}),s.jsx(F,{type:"password",placeholder:"Enter your SMS provider API key",value:o.sms_api_key,onChange:E=>l({...o,sms_api_key:E.target.value})}),o.sms_provider==="twilio"&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"For Twilio, enter in format: accountSid:authToken"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Sender ID"}),s.jsx(F,{placeholder:"e.g., MyShop or +8801XXXXXXXXX",value:o.sms_sender_id,onChange:E=>l({...o,sms_sender_id:E.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The sender name or number shown to recipients"})]}),s.jsxs("div",{className:"border-t pt-6 space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Auto-Send Options"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(z,{children:"Send on Order Placed"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically send SMS when a new order is placed"})]}),s.jsx(gt,{checked:o.sms_auto_send_order_placed==="true",onCheckedChange:E=>l({...o,sms_auto_send_order_placed:E?"true":"false"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(z,{children:"Send on Status Change"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically send SMS when order status changes"})]}),s.jsx(gt,{checked:o.sms_auto_send_status_change==="true",onCheckedChange:E=>l({...o,sms_auto_send_status_change:E?"true":"false"})})]})]}),s.jsx(U,{onClick:M,disabled:a,className:"w-full",children:a?s.jsxs(s.Fragment,{children:[s.jsx(xc,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]})]})}),s.jsx(Ht,{value:"templates",className:"space-y-6",children:s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"Message Templates"}),s.jsx(nt,{children:"Customize SMS messages for different order events"})]}),s.jsxs(pe,{children:[s.jsxs("div",{className:"mb-4 p-4 bg-muted rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Available Variables"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Uqe.map(E=>s.jsx(Ge,{variant:"secondary",className:"font-mono",children:`{{${E.key}}}`},E.key))})]}),s.jsx("div",{className:"space-y-4",children:c.map(E=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:E.template_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{checked:E.is_active,onCheckedChange:P=>W(E.id,P)}),s.jsx("span",{className:"text-sm text-muted-foreground",children:E.is_active?"Active":"Inactive"})]})]}),d===E.id?s.jsxs("div",{className:"space-y-2",children:[s.jsx(wt,{value:f,onChange:P=>m(P.target.value),rows:3,className:"font-mono text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{size:"sm",onClick:()=>$(E.id,f),children:[s.jsx(Ni,{className:"h-4 w-4 mr-1"}),"Save"]}),s.jsxs(U,{size:"sm",variant:"outline",onClick:()=>h(null),children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]}):s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("p",{className:"text-sm bg-muted p-3 rounded flex-1 font-mono",children:E.message_template}),s.jsx(U,{size:"sm",variant:"outline",onClick:()=>{h(E.id),m(E.message_template)},children:s.jsx(Sl,{className:"h-4 w-4"})})]})]},E.id))})]})]})}),s.jsx(Ht,{value:"test",className:"space-y-6",children:s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"Send Test SMS"}),s.jsx(nt,{children:"Test your SMS configuration by sending a test message"})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Phone Number"}),s.jsx(F,{placeholder:"01XXXXXXXXX",value:y,onChange:E=>w(E.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Message"}),s.jsx(wt,{placeholder:"Enter test message...",value:N,onChange:E=>S(E.target.value),rows:4})]}),s.jsx(U,{onClick:V,disabled:k||!y||!N,className:"w-full",children:k?s.jsxs(s.Fragment,{children:[s.jsx(xc,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ap,{className:"h-4 w-4 mr-2"}),"Send Test SMS"]})}),o.sms_enabled!=="true"&&s.jsx("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-3 rounded",children:" SMS is currently disabled. Enable it in Settings to send messages."})]})]})}),s.jsx(Ht,{value:"logs",className:"space-y-6",children:s.jsxs(me,{children:[s.jsxs(we,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(_e,{children:"SMS Logs"}),s.jsx(nt,{children:"View history of all sent SMS messages"})]}),s.jsxs(U,{variant:"outline",onClick:I,disabled:x,children:[s.jsx(xc,{className:`h-4 w-4 mr-2 ${x?"animate-spin":""}`}),"Refresh"]})]}),s.jsx(pe,{children:g.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No SMS logs found"}):s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"Date"}),s.jsx(Ne,{children:"Phone"}),s.jsx(Ne,{children:"Message"}),s.jsx(Ne,{children:"Template"}),s.jsx(Ne,{children:"Status"})]})}),s.jsx(Cs,{children:g.map(E=>s.jsxs(Et,{children:[s.jsx(xe,{className:"whitespace-nowrap",children:ot(new Date(E.created_at),"dd/MM/yyyy HH:mm")}),s.jsx(xe,{className:"font-mono",children:E.phone_number}),s.jsx(xe,{className:"max-w-xs truncate",title:E.message,children:E.message}),s.jsx(xe,{children:E.template_key?s.jsx(Ge,{variant:"outline",children:E.template_key}):s.jsx("span",{className:"text-muted-foreground",children:"Custom"})}),s.jsx(xe,{children:s.jsx(Ge,{variant:E.status==="sent"?"default":"destructive",children:E.status})})]},E.id))})]})})]})})]})]})})}const Wqe=()=>{const e=Ll(),[t,r]=v.useState(null),[n,a]=v.useState(null),[i,o]=v.useState(""),[l,c]=v.useState(null),[u,d]=v.useState(""),[h,f]=v.useState(""),[m,g]=v.useState(void 0),[p,x]=v.useState(!1),[b,y]=v.useState(""),[w,N]=v.useState(!1),[S,k]=v.useState(""),{data:_,isLoading:j}=fr({queryKey:["admin-landing-pages"],queryFn:async()=>{const{data:L,error:J}=await Q.from("landing_pages").select("*").order("created_at",{ascending:!1});if(J)throw J;return L}}),{data:C,isLoading:I}=fr({queryKey:["admin-products-for-landing"],queryFn:async()=>{const{data:L,error:J}=await Q.from("products").select("id, name, slug, images, is_active").eq("is_active",!0).order("name");if(J)throw J;return L}}),{data:M}=fr({queryKey:["landing-page-orders"],queryFn:async()=>{const{data:L,error:J}=await Q.from("orders").select("id, notes, total, order_source, created_at").like("notes","LP:%").order("created_at",{ascending:!1});if(J)throw J;return L}}),{data:$}=fr({queryKey:["cotton-tarsel-video-setting"],queryFn:async()=>{const{data:L,error:J}=await Q.from("admin_settings").select("value").eq("key","cotton_tarsel_video_url").maybeSingle();if(J)throw J;return(L==null?void 0:L.value)||""}}),{data:W}=fr({queryKey:["digital-tarsel-video-setting"],queryFn:async()=>{const{data:L,error:J}=await Q.from("admin_settings").select("value").eq("key","digital_tarsel_video_url").maybeSingle();if(J)throw J;return(L==null?void 0:L.value)||""}}),V=v.useMemo(()=>{const L={};return M==null||M.forEach(J=>{var H;if(m!=null&&m.from){const re=new Date(J.created_at),te=xs(m.from),ie=m.to?Fi(m.to):Fi(m.from);if(!a7(re,{start:te,end:ie}))return}const le=(H=J.notes)==null?void 0:H.match(/LP:([^\s]+)/);if(le){const re=le[1];L[re]||(L[re]={orders:0,revenue:0}),L[re].orders+=1,L[re].revenue+=Number(J.total)||0}}),L},[M,m]),E=Xn({mutationFn:async L=>{const{error:J}=await Q.from("landing_pages").delete().eq("id",L);if(J)throw J},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-landing-pages"]}),G.success("Landing page deleted"),r(null)},onError:L=>{G.error("Failed to delete landing page"),console.error(L)}}),P=Xn({mutationFn:async L=>{const{data:J}=await Q.from("admin_settings").select("id").eq("key","cotton_tarsel_video_url").maybeSingle();if(J){const{error:le}=await Q.from("admin_settings").update({value:L}).eq("key","cotton_tarsel_video_url");if(le)throw le}else{const{error:le}=await Q.from("admin_settings").insert({key:"cotton_tarsel_video_url",value:L});if(le)throw le}},onSuccess:()=>{e.invalidateQueries({queryKey:["cotton-tarsel-video-setting"]}),G.success("   "),x(!1)},onError:L=>{G.error("     "),console.error(L)}}),R=Xn({mutationFn:async L=>{const{data:J}=await Q.from("admin_settings").select("id").eq("key","digital_tarsel_video_url").maybeSingle();if(J){const{error:le}=await Q.from("admin_settings").update({value:L}).eq("key","digital_tarsel_video_url");if(le)throw le}else{const{error:le}=await Q.from("admin_settings").insert({key:"digital_tarsel_video_url",value:L});if(le)throw le}},onSuccess:()=>{e.invalidateQueries({queryKey:["digital-tarsel-video-setting"]}),G.success("   "),N(!1)},onError:L=>{G.error("     "),console.error(L)}}),O=Xn({mutationFn:async({id:L,is_published:J})=>{const{error:le}=await Q.from("landing_pages").update({is_published:J,is_active:J}).eq("id",L);if(le)throw le},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-landing-pages"]}),G.success("Landing page updated")},onError:L=>{G.error("Failed to update landing page"),console.error(L)}}),T=Xn({mutationFn:async({id:L,slug:J})=>{const{error:le}=await Q.from("landing_pages").update({slug:J}).eq("id",L);if(le)throw le},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-landing-pages"]}),G.success("Slug updated successfully"),a(null),o("")},onError:L=>{G.error("Failed to update slug"),console.error(L)}}),D=Xn({mutationFn:async L=>{const{data:J,error:le}=await Q.from("landing_pages").select("*").eq("id",L).single();if(le)throw le;const H=`${J.slug}-copy-${Date.now()}`,{id:re,created_at:te,updated_at:ie,...ee}=J,{error:K}=await Q.from("landing_pages").insert({...ee,title:`${J.title} (Copy)`,slug:H,is_published:!1,is_active:!1});if(K)throw K},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-landing-pages"]}),G.success("Landing page copied successfully")},onError:L=>{G.error("Failed to copy landing page"),console.error(L)}}),X=Xn({mutationFn:async({id:L,slug:J})=>{const{error:le}=await Q.from("products").update({slug:J}).eq("id",L);if(le)throw le},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-products-for-landing"]}),G.success("Product slug updated successfully"),c(null),d("")},onError:L=>{var J;(J=L==null?void 0:L.message)!=null&&J.includes("duplicate")||(L==null?void 0:L.code)==="23505"?G.error("This slug is already in use by another product"):G.error("Failed to update product slug"),console.error(L)}}),A=(M==null?void 0:M.length)||0,q=(M==null?void 0:M.reduce((L,J)=>L+(Number(J.total)||0),0))||0;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Landing Pages"}),s.jsx("p",{className:"text-muted-foreground",children:"Create and manage product landing pages"})]}),s.jsx(U,{asChild:!0,children:s.jsxs(Ke,{to:"/admin/landing-pages/new",children:[s.jsx(qt,{className:"mr-2 h-4 w-4"}),"Add New"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(me,{children:s.jsx(pe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx(En,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:A})]})]})})}),s.jsx(me,{children:s.jsx(pe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:s.jsx(LC,{className:"h-6 w-6 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",q.toLocaleString()]})]})]})})}),s.jsx(me,{children:s.jsx(pe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:s.jsx(Tr,{className:"h-6 w-6 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Pages"}),s.jsx("p",{className:"text-2xl font-bold",children:((_==null?void 0:_.filter(L=>L.is_published).length)||0)+((C==null?void 0:C.length)||0)})]})]})})})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsx(_e,{children:"Custom Landing Pages"})}),s.jsx(pe,{children:j?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):_!=null&&_.length?s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"Title"}),s.jsx(Ne,{children:"Slug"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{children:"Sales"}),s.jsx(Ne,{children:"Revenue"}),s.jsx(Ne,{children:"Created"}),s.jsx(Ne,{className:"text-right",children:"Actions"})]})}),s.jsx(Cs,{children:_.map(L=>{const J=V[L.slug]||{orders:0,revenue:0};return s.jsxs(Et,{children:[s.jsx(xe,{className:"font-medium",children:L.title}),s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:["/lp/",L.slug]}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{a(L),o(L.slug)},title:"Edit slug",children:s.jsx(Sl,{className:"h-3 w-3"})})]})}),s.jsx(xe,{children:s.jsx(Ge,{variant:L.is_published?"default":"secondary",children:L.is_published?"Published":"Draft"})}),s.jsx(xe,{children:s.jsxs(Ge,{variant:"outline",className:"font-mono",children:[J.orders," orders"]})}),s.jsx(xe,{children:s.jsxs("span",{className:"font-semibold text-green-600",children:["",J.revenue.toLocaleString()]})}),s.jsx(xe,{children:ot(new Date(L.created_at),"MMM d, yyyy")}),s.jsx(xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>O.mutate({id:L.id,is_published:!L.is_published}),title:L.is_published?"Unpublish":"Publish",children:L.is_published?s.jsx(ni,{className:"h-4 w-4"}):s.jsx(_r,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",asChild:!0,title:"View page",children:s.jsx("a",{href:`/lp/${L.slug}`,target:"_blank",rel:"noopener noreferrer",children:s.jsx(md,{className:"h-4 w-4"})})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>D.mutate(L.id),title:"Copy landing page",disabled:D.isPending,children:s.jsx(dm,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",asChild:!0,title:"Edit",children:s.jsx(Ke,{to:`/admin/landing-pages/${L.id}`,children:s.jsx(Rx,{className:"h-4 w-4"})})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>r(L.id),title:"Delete",children:s.jsx(Mr,{className:"h-4 w-4 text-destructive"})})]})})]},L.id)})})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No landing pages yet. Create your first one!"})})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Gi,{className:"h-5 w-5 text-rose-500"}),"Special Collection Pages"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Custom landing pages for product collections"})]}),s.jsx(pe,{children:s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"Collection Name"}),s.jsx(Ne,{children:"URL"}),s.jsx(Ne,{children:"Products"}),s.jsx(Ne,{children:"Sales"}),s.jsx(Ne,{children:"Revenue"}),s.jsx(Ne,{className:"text-right",children:"Actions"})]})}),s.jsxs(Cs,{children:[(()=>{const J=V["cotton-tarsel-collection"]||{orders:0,revenue:0};return s.jsxs(Et,{children:[s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-rose-100 to-pink-100 flex items-center justify-center",children:s.jsx(Gi,{className:"h-5 w-5 text-rose-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Cotton Tarsel Collection"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Light Pink & Blue variants"})]})]})}),s.jsx(xe,{children:s.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:"/cotton-tarsel"})}),s.jsx(xe,{children:s.jsx(Ge,{variant:"outline",children:"2 products"})}),s.jsx(xe,{children:s.jsxs(Ge,{variant:"outline",className:"font-mono",children:[J.orders," orders"]})}),s.jsx(xe,{children:s.jsxs("span",{className:"font-semibold text-green-600",children:["",J.revenue.toLocaleString()]})}),s.jsx(xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{y($||""),x(!0)},children:[s.jsx(Rx,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsx(U,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:"/cotton-tarsel",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(md,{className:"h-4 w-4 mr-1"}),"View"]})}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/cotton-tarsel`),G.success("URL copied!")},children:[s.jsx(dm,{className:"h-4 w-4 mr-1"}),"Copy"]})]})})]})})(),(()=>{const J=V["digital-tarsel-collection"]||{orders:0,revenue:0};return s.jsxs(Et,{children:[s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-slate-100 to-gray-200 flex items-center justify-center",children:s.jsx(Gi,{className:"h-5 w-5 text-slate-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Digital Tarsel Collection"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Surma & Black variants"})]})]})}),s.jsx(xe,{children:s.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:"/digital-tarsel"})}),s.jsx(xe,{children:s.jsx(Ge,{variant:"outline",children:"2 products"})}),s.jsx(xe,{children:s.jsxs(Ge,{variant:"outline",className:"font-mono",children:[J.orders," orders"]})}),s.jsx(xe,{children:s.jsxs("span",{className:"font-semibold text-green-600",children:["",J.revenue.toLocaleString()]})}),s.jsx(xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{k(W||""),N(!0)},children:[s.jsx(Rx,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsx(U,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:"/digital-tarsel",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(md,{className:"h-4 w-4 mr-1"}),"View"]})}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/digital-tarsel`),G.success("URL copied!")},children:[s.jsx(dm,{className:"h-4 w-4 mr-1"}),"Copy"]})]})})]})})()]})]})})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"h-5 w-5"}),"Product Landing Pages"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-generated landing pages for each product at /step/[slug]"})]}),s.jsxs(pe,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:"Aj Mart BD",value:h,onChange:L=>f(L.target.value),className:"pl-10"})]}),s.jsxs(fu,{children:[s.jsx(mu,{asChild:!0,children:s.jsxs(U,{variant:"outline",className:de("justify-start text-left font-normal min-w-[240px]",!m&&"text-muted-foreground"),children:[s.jsx(ao,{className:"mr-2 h-4 w-4"}),m!=null&&m.from?m.to?s.jsxs(s.Fragment,{children:[ot(m.from,"dd/MM/yyyy")," - ",ot(m.to,"dd/MM/yyyy")]}):ot(m.from,"dd/MM/yyyy"):s.jsx("span",{children:"  "})]})}),s.jsx(Il,{className:"w-auto p-0",align:"start",children:s.jsx(Al,{mode:"range",selected:m,onSelect:g,numberOfMonths:2,className:"pointer-events-auto"})})]}),m&&s.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>g(void 0),className:"text-destructive",children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),""]})]}),I?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading products..."}):C!=null&&C.length?s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"Product"}),s.jsx(Ne,{children:"Landing URL"}),s.jsx(Ne,{children:"Sales"}),s.jsx(Ne,{children:"Revenue"}),s.jsx(Ne,{className:"text-right",children:"Actions"})]})}),s.jsx(Cs,{children:C.filter(L=>L.name.toLowerCase().includes(h.toLowerCase())||L.slug.toLowerCase().includes(h.toLowerCase())).map(L=>{var le;const J=V[L.slug]||{orders:0,revenue:0};return s.jsxs(Et,{children:[s.jsx(xe,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-3",children:[((le=L.images)==null?void 0:le[0])&&s.jsx("img",{src:L.images[0],alt:L.name,className:"w-10 h-10 object-cover rounded"}),L.name]})}),s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:["/step/",L.slug]}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{c(L),d(L.slug)},title:"Edit slug",children:s.jsx(Sl,{className:"h-3 w-3"})})]})}),s.jsx(xe,{children:s.jsxs(Ge,{variant:"outline",className:"font-mono",children:[J.orders," orders"]})}),s.jsx(xe,{children:s.jsxs("span",{className:"font-semibold text-green-600",children:["",J.revenue.toLocaleString()]})}),s.jsx(xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:`/step/${L.slug}`,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(md,{className:"h-4 w-4 mr-1"}),"View"]})}),s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/step/${L.slug}`),G.success("URL copied to clipboard")},children:[s.jsx(dm,{className:"h-4 w-4 mr-1"}),"Copy URL"]})]})})]},L.id)})})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No active products found."})]})]}),s.jsx(zT,{open:!!t,onOpenChange:()=>r(null),children:s.jsxs(r1,{children:[s.jsxs(n1,{children:[s.jsx(a1,{children:"Delete Landing Page?"}),s.jsx(i1,{children:"This action cannot be undone. The landing page will be permanently deleted."})]}),s.jsxs(s1,{children:[s.jsx(l1,{children:"Cancel"}),s.jsx(o1,{onClick:()=>t&&E.mutate(t),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),s.jsx(Jr,{open:!!n,onOpenChange:()=>a(null),children:s.jsxs(zr,{children:[s.jsxs(Ur,{children:[s.jsx(Vr,{children:"Edit Landing Page URL"}),s.jsxs(al,{children:['Change the slug for "',n==null?void 0:n.title,'"']})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"slug",children:"URL Slug"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[window.location.origin,"/lp/"]}),s.jsx(F,{id:"slug",value:i,onChange:L=>o(L.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),placeholder:"your-page-slug",className:"flex-1"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Only lowercase letters, numbers, and hyphens are allowed."})]})}),s.jsxs(qi,{children:[s.jsx(U,{variant:"outline",onClick:()=>a(null),children:"Cancel"}),s.jsx(U,{onClick:()=>{n&&i&&T.mutate({id:n.id,slug:i})},disabled:!i||T.isPending,children:T.isPending?"Saving...":"Save Changes"})]})]})}),s.jsx(Jr,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(zr,{children:[s.jsxs(Ur,{children:[s.jsx(Vr,{children:"Edit Product Landing Page URL"}),s.jsxs(al,{children:['Change the slug for "',l==null?void 0:l.name,`". This will also update the product's URL.`]})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{htmlFor:"product-slug",children:"URL Slug"}),s.jsxs("div",{className:"text-sm text-muted-foreground break-all",children:[window.location.origin,"/step/"]}),s.jsx(F,{id:"product-slug",value:u,onChange:L=>d(L.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),placeholder:"product-slug"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Only lowercase letters, numbers, and hyphens are allowed."}),s.jsxs("p",{className:"text-xs text-amber-600 font-medium",children:[" This will change the product's URL everywhere (including /products/",l==null?void 0:l.slug,")"]})]})}),s.jsxs(qi,{children:[s.jsx(U,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),s.jsx(U,{onClick:()=>{l&&u&&X.mutate({id:l.id,slug:u})},disabled:!u||X.isPending,children:X.isPending?"Saving...":"Save Changes"})]})]})}),s.jsx(Jr,{open:p,onOpenChange:x,children:s.jsxs(zr,{className:"max-w-lg",children:[s.jsxs(Ur,{children:[s.jsxs(Vr,{className:"flex items-center gap-2",children:[s.jsx(ip,{className:"h-5 w-5 text-rose-500"}),"Cotton Tarsel  "]}),s.jsx(al,{children:"Facebook            "})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{htmlFor:"cotton-tarsel-video",children:" Embed  / "}),s.jsx(wt,{id:"cotton-tarsel-video",value:b,onChange:L=>y(L.target.value),placeholder:`<iframe src='https://www.facebook.com/plugins/video.php?...' ...></iframe>



https://www.facebook.com/watch/?v=123456789`,rows:6,className:"font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'   "Embed"          '})]})}),s.jsxs(qi,{children:[s.jsx(U,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),s.jsx(U,{onClick:()=>P.mutate(b),disabled:P.isPending,className:"bg-rose-500 hover:bg-rose-600",children:P.isPending?" ...":" "})]})]})}),s.jsx(Jr,{open:w,onOpenChange:N,children:s.jsxs(zr,{className:"max-w-lg",children:[s.jsxs(Ur,{children:[s.jsxs(Vr,{className:"flex items-center gap-2",children:[s.jsx(ip,{className:"h-5 w-5 text-slate-600"}),"Digital Tarsel  "]}),s.jsx(al,{children:"Facebook            "})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{htmlFor:"digital-tarsel-video",children:" Embed  / "}),s.jsx(wt,{id:"digital-tarsel-video",value:S,onChange:L=>k(L.target.value),placeholder:`<iframe src='https://www.facebook.com/plugins/video.php?...' ...></iframe>



https://www.facebook.com/watch/?v=123456789`,rows:6,className:"font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'   "Embed"          '})]})}),s.jsxs(qi,{children:[s.jsx(U,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),s.jsx(U,{onClick:()=>R.mutate(S),disabled:R.isPending,className:"bg-slate-600 hover:bg-slate-700",children:R.isPending?" ...":" "})]})]})})]})};function qqe(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var jO="ScrollArea",[GK,UHe]=On(jO),[Hqe,ia]=GK(jO),KK=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[h,f]=v.useState(null),[m,g]=v.useState(null),[p,x]=v.useState(null),[b,y]=v.useState(0),[w,N]=v.useState(0),[S,k]=v.useState(!1),[_,j]=v.useState(!1),C=lt(t,M=>c(M)),I=Fg(a);return s.jsx(Hqe,{scope:r,type:n,dir:I,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:_,onScrollbarYEnabledChange:j,onCornerWidthChange:y,onCornerHeightChange:N,children:s.jsx(Be.div,{dir:I,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});KK.displayName=jO;var XK="ScrollAreaViewport",YK=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=ia(XK,r),l=v.useRef(null),c=lt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});YK.displayName=XK;var Ci="ScrollAreaScrollbar",_O=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ia(Ci,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Gqe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Kqe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(QK,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(NO,{...n,ref:t}):null});_O.displayName=Ci;var Gqe=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ia(Ci,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Wn,{present:r||i,children:s.jsx(QK,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Kqe=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ia(Ci,e.__scopeScrollArea),i=e.orientation==="horizontal",o=w1(()=>c("SCROLL_END"),100),[l,c]=qqe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx(Wn,{present:r||l!=="hidden",children:s.jsx(NO,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),QK=v.forwardRef((e,t)=>{const r=ia(Ci,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=w1(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return qh(r.viewport,c),qh(r.content,c),s.jsx(Wn,{present:n||i,children:s.jsx(NO,{"data-state":i?"visible":"hidden",...a,ref:t})})}),NO=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ia(Ci,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rX(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return eHe(f,o.current,l,m)}return r==="horizontal"?s.jsx(Xqe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,m=O3(f,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):r==="vertical"?s.jsx(Yqe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,m=O3(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),Xqe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ia(Ci,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=lt(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(JK,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":b1(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),sX(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:rb(o.paddingLeft),paddingEnd:rb(o.paddingRight)}})}})}),Yqe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ia(Ci,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=lt(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(JK,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":b1(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),sX(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:rb(o.paddingTop),paddingEnd:rb(o.paddingBottom)}})}})}),[Qqe,ZK]=GK(Ci),JK=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=ia(Ci,r),[g,p]=v.useState(null),x=lt(t,C=>p(C)),b=v.useRef(null),y=v.useRef(""),w=m.viewport,N=n.content-n.viewport,S=Br(d),k=Br(c),_=w1(h,10);function j(C){if(b.current){const I=C.clientX-b.current.left,M=C.clientY-b.current.top;u({x:I,y:M})}}return v.useEffect(()=>{const C=I=>{const M=I.target;(g==null?void 0:g.contains(M))&&S(I,N)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,N,S]),v.useEffect(k,[n,k]),qh(g,_),qh(m.content,_),s.jsx(Qqe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Br(i),onThumbPointerUp:Br(o),onThumbPositionChange:k,onThumbPointerDown:Br(l),children:s.jsx(Be.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:Ie(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),j(C))}),onPointerMove:Ie(e.onPointerMove,j),onPointerUp:Ie(e.onPointerUp,C=>{const I=C.target;I.hasPointerCapture(C.pointerId)&&I.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),tb="ScrollAreaThumb",eX=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ZK(tb,e.__scopeScrollArea);return s.jsx(Wn,{present:r||a.hasThumb,children:s.jsx(Zqe,{ref:t,...n})})}),Zqe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ia(tb,r),o=ZK(tb,r),{onThumbPositionChange:l}=o,c=lt(t,h=>o.onThumbChange(h)),u=v.useRef(void 0),d=w1(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=tHe(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),s.jsx(Be.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ie(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Ie(e.onPointerUp,o.onThumbPointerUp)})});eX.displayName=tb;var SO="ScrollAreaCorner",tX=v.forwardRef((e,t)=>{const r=ia(SO,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Jqe,{...e,ref:t}):null});tX.displayName=SO;var Jqe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ia(SO,r),[i,o]=v.useState(0),[l,c]=v.useState(0),u=!!(i&&l);return qh(a.scrollbarX,()=>{var h;const d=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),qh(a.scrollbarY,()=>{var h;const d=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Be.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function rb(e){return e?parseInt(e,10):0}function rX(e,t){const r=e/t;return isNaN(r)?0:r}function b1(e){const t=rX(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function eHe(e,t,r,n="ltr"){const a=b1(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return nX([c,u],h)(e)}function O3(e,t,r="ltr"){const n=b1(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=QS(e,c);return nX([0,o],[0,l])(u)}function nX(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function sX(e,t){return e>0&&e<t}var tHe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function w1(e,t){const r=Br(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function qh(e,t){const r=Br(t);Er(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var aX=KK,rHe=YK,nHe=tX;const iX=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(aX,{ref:n,className:de("relative overflow-hidden",e),...r,children:[s.jsx(rHe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(oX,{}),s.jsx(nHe,{})]}));iX.displayName=aX.displayName;const oX=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(_O,{ref:n,orientation:t,className:de("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(eX,{className:"relative flex-1 rounded-full bg-border"})}));oX.displayName=_O.displayName;const lX={primaryColor:"#000000",secondaryColor:"#f5f5f5",accentColor:"#ef4444",backgroundColor:"#ffffff",textColor:"#1f2937",fontFamily:"Inter",borderRadius:"8px",buttonStyle:"filled"},sHe={"hero-product":{type:"hero-product",settings:{images:[],title:"Product Title",subtitle:"Product description goes here",price:"1350",originalPrice:"",buttonText:" ",buttonLink:"#checkout",badges:[{text:"100%",subtext:"Quality Guarantee"},{text:"Size 36-46",subtext:"Size Options"},{text:"All Bangladesh",subtext:"Delivery Service"}],backgroundColor:"#ffffff",textColor:"#1f2937",layout:"left-image"}},"hero-gradient":{type:"hero-gradient",settings:{badge:" % ",title:"    ",subtitle:"      ",description:"   ,   ",features:[{icon:"",text:" "},{icon:"",text:" "},{icon:"",text:" "}],buttonText:"   ",buttonLink:"#checkout",image:"",gradientFrom:"#b8860b",gradientTo:"#d4a520",textColor:"#ffffff"}},"problem-section":{type:"problem-section",settings:{title:"     ?",problems:[{icon:"",title:"     "},{icon:"",title:" , "},{icon:"",title:"    "},{icon:"",title:" /  "}],footerText:"       ",backgroundColor:"#ffffff",textColor:"#1f2937"}},"benefits-grid":{type:"benefits-grid",settings:{title:"     ?",benefits:[{icon:"",title:"  ",description:"     "},{icon:"",title:"  ",description:"    "},{icon:"",title:"   ",description:"   "},{icon:"",title:"  ",description:"    "},{icon:"",title:"  ",description:"     "}],columns:3,backgroundColor:"#f9fafb",iconBackground:"#fff7ed",textColor:"#1f2937"}},"trust-badges":{type:"trust-badges",settings:{title:"     ?",badges:[{title:"   ",description:"     "},{title:"   ",description:"    , % "},{title:"  ",description:"       "},{title:" ",description:"    "},{title:"  +  ",description:"   "}],checkColor:"#22c55e",backgroundColor:"#ffffff",textColor:"#1f2937"}},"guarantee-section":{type:"guarantee-section",settings:{title:"     ",guarantees:[{icon:"",title:"   ",subtitle:"  "},{icon:"",title:"  ",subtitle:" "},{icon:"",title:"  ",subtitle:"   "},{icon:"",title:" ",subtitle:"   "},{icon:"",title:"% ",subtitle:" "}],buttonText:"    ,  ",buttonLink:"#checkout",backgroundColor:"#f0fdf4",textColor:"#1f2937",accentColor:"#22c55e"}},"image-gallery":{type:"image-gallery",settings:{images:[],columns:3,gap:"16px",aspectRatio:"square"}},"feature-badges":{type:"feature-badges",settings:{title:"Features",badges:[],columns:3,backgroundColor:"#1f2937",textColor:"#ffffff"}},"text-block":{type:"text-block",settings:{content:"Enter your text here...",alignment:"center",fontSize:"16px",backgroundColor:"transparent",textColor:"#1f2937",padding:"32px"}},"product-info":{type:"product-info",settings:{productId:"",showPrice:!0,showDescription:!0,showImages:!0,layout:"horizontal"}},"checkout-form":{type:"checkout-form",settings:{title:"     ",buttonText:"  ",productId:"",fields:[{name:"name",label:" ",required:!0,type:"text"},{name:"phone",label:" ",required:!0,type:"tel"},{name:"address",label:" ",required:!0,type:"textarea"}],backgroundColor:"#f9fafb",accentColor:"#ef4444"}},"cta-banner":{type:"cta-banner",settings:{title:"Ready to Order?",subtitle:"Get yours today!",buttonText:"Order Now",buttonLink:"#checkout",backgroundColor:"#000000",textColor:"#ffffff"}},testimonials:{type:"testimonials",settings:{title:"Customer Reviews",items:[],layout:"grid",columns:3}},faq:{type:"faq",settings:{title:"Frequently Asked Questions",items:[],backgroundColor:"#ffffff"}},"image-text":{type:"image-text",settings:{image:"",title:"Title",description:"Description",buttonText:"Learn More",buttonLink:"#",imagePosition:"left",backgroundColor:"#ffffff"}},video:{type:"video",settings:{videoUrl:"",autoplay:!1,controls:!0,loop:!1}},countdown:{type:"countdown",settings:{title:"Offer Ends In",endDate:"",backgroundColor:"#ef4444",textColor:"#ffffff"}},divider:{type:"divider",settings:{style:"solid",color:"#e5e7eb",thickness:"1px",width:"100%"}},spacer:{type:"spacer",settings:{height:"48px"}},"faq-accordion":{type:"faq-accordion",settings:{title:" ",items:[],backgroundColor:"#ffffff",textColor:"#1f2937"}},"youtube-video":{type:"youtube-video",settings:{title:" ",videoUrl:"",backgroundColor:"#f5f5f5",textColor:"#1f2937"}},"final-cta":{type:"final-cta",settings:{icon:"",title:"  ",subtitle:"  ",bulletPoints:[],buttonText:" ",footerText:"",backgroundColor:"#ffffff",textColor:"#1f2937"}}},aHe=[{type:"hero-gradient",label:"Hero Gradient",icon:s.jsx(Gi,{className:"h-5 w-5"}),description:"Beautiful gradient hero section"},{type:"hero-product",label:"Hero Product",icon:s.jsx(bJ,{className:"h-5 w-5"}),description:"Image carousel with product info"},{type:"problem-section",label:"Problem Section",icon:s.jsx(cJ,{className:"h-5 w-5"}),description:"Show pain points with emojis"},{type:"benefits-grid",label:"Benefits Grid",icon:s.jsx(V8,{className:"h-5 w-5"}),description:"Display benefits in grid"},{type:"trust-badges",label:"Trust Badges",icon:s.jsx(iJ,{className:"h-5 w-5"}),description:"Why buy from us section"},{type:"guarantee-section",label:"Guarantee",icon:s.jsx(Ma,{className:"h-5 w-5"}),description:"No-risk ordering features"},{type:"image-gallery",label:"Image Gallery",icon:s.jsx(xi,{className:"h-5 w-5"}),description:"Grid of images"},{type:"feature-badges",label:"Feature Badges",icon:s.jsx(aJ,{className:"h-5 w-5"}),description:"Highlight key features"},{type:"text-block",label:"Text Block",icon:s.jsx(CJ,{className:"h-5 w-5"}),description:"Rich text content"},{type:"checkout-form",label:"Checkout Form",icon:s.jsx(En,{className:"h-5 w-5"}),description:"Order form with fields"},{type:"cta-banner",label:"CTA Banner",icon:s.jsx(PN,{className:"h-5 w-5"}),description:"Call to action section"},{type:"image-text",label:"Image + Text",icon:s.jsx(xi,{className:"h-5 w-5"}),description:"Side by side layout"},{type:"testimonials",label:"Testimonials",icon:s.jsx(sp,{className:"h-5 w-5"}),description:"Customer reviews"},{type:"faq",label:"FAQ",icon:s.jsx(uJ,{className:"h-5 w-5"}),description:"Questions & answers"},{type:"video",label:"Video",icon:s.jsx(Pg,{className:"h-5 w-5"}),description:"Embed video content"},{type:"countdown",label:"Countdown",icon:s.jsx(ea,{className:"h-5 w-5"}),description:"Timer for offers"},{type:"divider",label:"Divider",icon:s.jsx(Cg,{className:"h-5 w-5"}),description:"Horizontal line"},{type:"spacer",label:"Spacer",icon:s.jsx(sJ,{className:"h-5 w-5"}),description:"Add vertical space"}],iHe=({onAddSection:e})=>{const t=r=>{const n=sHe[r],a={id:crypto.randomUUID(),type:r,order:Date.now(),settings:{...n.settings}};e(a)};return s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Add Sections"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:aHe.map(r=>s.jsx(me,{className:"cursor-pointer hover:border-primary hover:bg-accent/50 transition-all",onClick:()=>t(r.type),children:s.jsxs(pe,{className:"p-3 flex flex-col items-center text-center gap-1",children:[s.jsx("div",{className:"text-muted-foreground",children:r.icon}),s.jsx("span",{className:"text-xs font-medium",children:r.label})]})},r.type))})]})},oHe=yU,lHe=cE,cHe=dE,A3=({value:e,onChange:t,label:r="Image",placeholder:n="https://example.com/image.jpg"})=>{const[a,i]=v.useState(!1),o=v.useRef(null),l=async c=>{var d;const u=(d=c.target.files)==null?void 0:d[0];if(u){if(!u.type.startsWith("image/")){G.error("Please upload an image file");return}if(u.size>5*1024*1024){G.error("Image must be less than 5MB");return}i(!0);try{const h=u.name.split(".").pop(),m=`landing-pages/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${h}`}`,{error:g}=await Q.storage.from("shop-assets").upload(m,u);if(g)throw g;const{data:{publicUrl:p}}=Q.storage.from("shop-assets").getPublicUrl(m);t(p),G.success("Image uploaded successfully!")}catch(h){console.error("Upload error:",h),G.error("Failed to upload image")}finally{i(!1),o.current&&(o.current.value="")}}};return s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:r}),e&&s.jsxs("div",{className:"relative w-full h-32 rounded-lg border overflow-hidden bg-muted",children:[s.jsx("img",{src:e,alt:"Preview",className:"w-full h-full object-cover",onError:c=>{c.currentTarget.src="/placeholder.svg"}}),s.jsx(U,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>t(""),children:s.jsx(er,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{value:e,onChange:c=>t(c.target.value),placeholder:n,className:"flex-1 text-sm"}),s.jsx("input",{type:"file",ref:o,onChange:l,accept:"image/*",className:"hidden"}),s.jsx(U,{type:"button",variant:"outline",size:"icon",onClick:()=>{var c;return(c=o.current)==null?void 0:c.click()},disabled:a,children:a?s.jsx(Kt,{className:"h-4 w-4 animate-spin"}):s.jsx(si,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload an image or paste a URL"})]})},I3=({value:e=[],onChange:t,label:r="Images",maxImages:n=10})=>{const[a,i]=v.useState(!1),o=v.useRef(null),l=async h=>{const f=h.target.files;if(!f||f.length===0)return;i(!0);const m=[];try{for(const g of Array.from(f)){if(!g.type.startsWith("image/")){G.error(`${g.name} is not an image`);continue}if(g.size>5*1024*1024){G.error(`${g.name} is too large (max 5MB)`);continue}const p=g.name.split(".").pop(),b=`landing-pages/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${p}`}`,{error:y}=await Q.storage.from("shop-assets").upload(b,g);if(y){console.error("Upload error:",y);continue}const{data:{publicUrl:w}}=Q.storage.from("shop-assets").getPublicUrl(b);m.push(w)}m.length>0&&(t([...e,...m].slice(0,n)),G.success(`${m.length} image(s) uploaded!`))}catch(g){console.error("Upload error:",g),G.error("Failed to upload images")}finally{i(!1),o.current&&(o.current.value="")}},c=h=>{t(e.filter((f,m)=>m!==h))},u=(h,f)=>{const m=[...e];m[h]=f,t(m)},d=()=>{e.length<n&&t([...e,""])};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:r}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:d,disabled:e.length>=n,children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," URL"]}),s.jsx("input",{type:"file",ref:o,onChange:l,accept:"image/*",multiple:!0,className:"hidden"}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{var h;return(h=o.current)==null?void 0:h.click()},disabled:a||e.length>=n,children:[a?s.jsx(Kt,{className:"h-3 w-3 mr-1 animate-spin"}):s.jsx(si,{className:"h-3 w-3 mr-1"}),"Upload"]})]})]}),e.length>0&&s.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map((h,f)=>s.jsx("div",{className:"relative",children:h?s.jsxs("div",{className:"relative h-20 rounded border overflow-hidden bg-muted",children:[s.jsx("img",{src:h,alt:`Image ${f+1}`,className:"w-full h-full object-cover",onError:m=>{m.currentTarget.src="/placeholder.svg"}}),s.jsx(U,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-5 w-5",onClick:()=>c(f),children:s.jsx(er,{className:"h-3 w-3"})})]}):s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{value:h,onChange:m=>u(f,m.target.value),placeholder:"Paste URL",className:"text-xs h-8"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c(f),children:s.jsx(er,{className:"h-3 w-3"})})]})},f))}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Upload images or add URLs (max ",n,")"]})]})},uHe={"hero-product":"Hero Product","hero-gradient":"Hero Gradient","problem-section":"Problem Section","benefits-grid":"Benefits Grid","trust-badges":"Trust Badges","guarantee-section":"Guarantee Section","image-gallery":"Image Gallery","feature-badges":"Feature Badges","text-block":"Text Block","product-info":"Product Info","checkout-form":"Checkout Form","cta-banner":"CTA Banner",testimonials:"Testimonials",faq:"FAQ","faq-accordion":"FAQ Accordion","image-text":"Image + Text",video:"Video","youtube-video":"YouTube Video",countdown:"Countdown",divider:"Divider",spacer:"Spacer","final-cta":"Final CTA"},dHe=({section:e,onUpdate:t,onDelete:r,onMoveUp:n,onMoveDown:a,isFirst:i,isLast:o,products:l=[]})=>{const[c,u]=v.useState(!0),d=(E,P)=>{t({...e,settings:{...e.settings,[E]:P}})},h=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsx(I3,{value:E.images||[],onChange:P=>d("images",P),label:"Product Images",maxImages:6}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Layout"}),s.jsxs(Zt,{value:E.layout||"left-image",onValueChange:P=>d("layout",P),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"left-image",children:"Image Left"}),s.jsx(qe,{value:"right-image",children:"Image Right"}),s.jsx(qe,{value:"center",children:"Centered"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Subtitle"}),s.jsx(wt,{value:E.subtitle||"",onChange:P=>d("subtitle",P.target.value),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Price"}),s.jsx(F,{value:E.price||"",onChange:P=>d("price",P.target.value),placeholder:"1350"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Original Price (optional)"}),s.jsx(F,{value:E.originalPrice||"",onChange:P=>d("originalPrice",P.target.value),placeholder:"1500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Text"}),s.jsx(F,{value:E.buttonText||"",onChange:P=>d("buttonText",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Link"}),s.jsx(F,{value:E.buttonLink||"",onChange:P=>d("buttonLink",P.target.value),placeholder:"#checkout"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.textColor||"#1f2937",onChange:P=>d("textColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.textColor||"#1f2937",onChange:P=>d("textColor",P.target.value),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:"Feature Badges"}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const P=E.badges||[];d("badges",[...P,{text:"",subtext:""}])},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Add"]})]}),(E.badges||[]).map((P,R)=>s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx(F,{value:P.text,onChange:O=>{const T=[...E.badges||[]];T[R]={...T[R],text:O.target.value},d("badges",T)},placeholder:"100%",className:"w-24"}),s.jsx(F,{value:P.subtext,onChange:O=>{const T=[...E.badges||[]];T[R]={...T[R],subtext:O.target.value},d("badges",T)},placeholder:"Quality Guarantee",className:"flex-1"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const O=(E.badges||[]).filter((T,D)=>D!==R);d("badges",O)},children:s.jsx(er,{className:"h-4 w-4"})})]},R))]})]})},f=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Form Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Text"}),s.jsx(F,{value:E.buttonText||"",onChange:P=>d("buttonText",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Link to Product"}),s.jsxs(Zt,{value:E.productId||"",onValueChange:P=>d("productId",P),children:[s.jsx(Vt,{children:s.jsx(Jt,{placeholder:"Select a product"})}),s.jsx(Wt,{children:l.map(P=>s.jsx(qe,{value:P.id,children:P.name},P.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#f9fafb",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#f9fafb",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.accentColor||"#ef4444",onChange:P=>d("accentColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.accentColor||"#ef4444",onChange:P=>d("accentColor",P.target.value),className:"flex-1"})]})]})]})]})},m=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Content"}),s.jsx(wt,{value:E.content||"",onChange:P=>d("content",P.target.value),rows:4})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Alignment"}),s.jsxs(Zt,{value:E.alignment||"center",onValueChange:P=>d("alignment",P),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"left",children:"Left"}),s.jsx(qe,{value:"center",children:"Center"}),s.jsx(qe,{value:"right",children:"Right"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Font Size"}),s.jsx(F,{value:E.fontSize||"16px",onChange:P=>d("fontSize",P.target.value),placeholder:"16px"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.textColor||"#1f2937",onChange:P=>d("textColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.textColor||"#1f2937",onChange:P=>d("textColor",P.target.value),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Padding"}),s.jsx(F,{value:E.padding||"32px",onChange:P=>d("padding",P.target.value),placeholder:"32px"})]})]})},g=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Section Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Columns"}),s.jsxs(Zt,{value:String(E.columns||3),onValueChange:P=>d("columns",parseInt(P)),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"2",children:"2"}),s.jsx(qe,{value:"3",children:"3"}),s.jsx(qe,{value:"4",children:"4"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#1f2937",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#1f2937",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:"Badges"}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const P=E.badges||[];d("badges",[...P,{icon:"Star",title:"",description:""}])},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Add"]})]}),(E.badges||[]).map((P,R)=>s.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{value:P.title,onChange:O=>{const T=[...E.badges||[]];T[R]={...T[R],title:O.target.value},d("badges",T)},placeholder:"Title",className:"flex-1"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const O=(E.badges||[]).filter((T,D)=>D!==R);d("badges",O)},children:s.jsx(er,{className:"h-4 w-4"})})]}),s.jsx(F,{value:P.description,onChange:O=>{const T=[...E.badges||[]];T[R]={...T[R],description:O.target.value},d("badges",T)},placeholder:"Description"})]},R))]})]})},p=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Subtitle"}),s.jsx(wt,{value:E.subtitle||"",onChange:P=>d("subtitle",P.target.value),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Text"}),s.jsx(F,{value:E.buttonText||"",onChange:P=>d("buttonText",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Link"}),s.jsx(F,{value:E.buttonLink||"",onChange:P=>d("buttonLink",P.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#000000",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#000000",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.textColor||"#ffffff",onChange:P=>d("textColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.textColor||"#ffffff",onChange:P=>d("textColor",P.target.value),className:"flex-1"})]})]})]})]})},x=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Height"}),s.jsx(F,{value:E.height||"48px",onChange:P=>d("height",P.target.value),placeholder:"48px"})]})},b=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Style"}),s.jsxs(Zt,{value:E.style||"solid",onValueChange:P=>d("style",P),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"solid",children:"Solid"}),s.jsx(qe,{value:"dashed",children:"Dashed"}),s.jsx(qe,{value:"dotted",children:"Dotted"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.color||"#e5e7eb",onChange:P=>d("color",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.color||"#e5e7eb",onChange:P=>d("color",P.target.value),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Thickness"}),s.jsx(F,{value:E.thickness||"1px",onChange:P=>d("thickness",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Width"}),s.jsx(F,{value:E.width||"100%",onChange:P=>d("width",P.target.value)})]})]})]})},y=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsx(I3,{value:E.images||[],onChange:P=>d("images",P),label:"Gallery Images",maxImages:12}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Columns"}),s.jsxs(Zt,{value:String(E.columns||3),onValueChange:P=>d("columns",parseInt(P)),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"2",children:"2"}),s.jsx(qe,{value:"3",children:"3"}),s.jsx(qe,{value:"4",children:"4"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Aspect Ratio"}),s.jsxs(Zt,{value:E.aspectRatio||"square",onValueChange:P=>d("aspectRatio",P),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"square",children:"Square"}),s.jsx(qe,{value:"portrait",children:"Portrait"}),s.jsx(qe,{value:"landscape",children:"Landscape"}),s.jsx(qe,{value:"auto",children:"Auto"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Gap"}),s.jsx(F,{value:E.gap||"16px",onChange:P=>d("gap",P.target.value)})]})]})},w=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsx(A3,{value:E.image||"",onChange:P=>d("image",P),label:"Image",placeholder:"Upload or paste image URL"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Image Position"}),s.jsxs(Zt,{value:E.imagePosition||"left",onValueChange:P=>d("imagePosition",P),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"left",children:"Left"}),s.jsx(qe,{value:"right",children:"Right"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Description"}),s.jsx(wt,{value:E.description||"",onChange:P=>d("description",P.target.value),rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Text"}),s.jsx(F,{value:E.buttonText||"",onChange:P=>d("buttonText",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Link"}),s.jsx(F,{value:E.buttonLink||"",onChange:P=>d("buttonLink",P.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]})]})},N=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Section Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Layout"}),s.jsxs(Zt,{value:E.layout||"grid",onValueChange:P=>d("layout",P),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"grid",children:"Grid"}),s.jsx(qe,{value:"carousel",children:"Carousel"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Columns"}),s.jsxs(Zt,{value:String(E.columns||3),onValueChange:P=>d("columns",parseInt(P)),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"2",children:"2"}),s.jsx(qe,{value:"3",children:"3"}),s.jsx(qe,{value:"4",children:"4"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:"Testimonials"}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const P=E.items||[];d("items",[...P,{name:"",role:"",content:"",avatar:""}])},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Add"]})]}),(E.items||[]).map((P,R)=>s.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{value:P.name,onChange:O=>{const T=[...E.items||[]];T[R]={...T[R],name:O.target.value},d("items",T)},placeholder:"Name",className:"flex-1"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const O=(E.items||[]).filter((T,D)=>D!==R);d("items",O)},children:s.jsx(er,{className:"h-4 w-4"})})]}),s.jsx(F,{value:P.role,onChange:O=>{const T=[...E.items||[]];T[R]={...T[R],role:O.target.value},d("items",T)},placeholder:"Role / Location"}),s.jsx(wt,{value:P.content,onChange:O=>{const T=[...E.items||[]];T[R]={...T[R],content:O.target.value},d("items",T)},placeholder:"Review content",rows:2})]},R))]})]})},S=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Section Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:"FAQ Items"}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const P=E.items||[];d("items",[...P,{question:"",answer:""}])},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Add"]})]}),(E.items||[]).map((P,R)=>s.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{value:P.question,onChange:O=>{const T=[...E.items||[]];T[R]={...T[R],question:O.target.value},d("items",T)},placeholder:"Question",className:"flex-1"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const O=(E.items||[]).filter((T,D)=>D!==R);d("items",O)},children:s.jsx(er,{className:"h-4 w-4"})})]}),s.jsx(wt,{value:P.answer,onChange:O=>{const T=[...E.items||[]];T[R]={...T[R],answer:O.target.value},d("items",T)},placeholder:"Answer",rows:2})]},R))]})]})},k=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Video Title (optional)"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value),placeholder:"Video Section Title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"YouTube/Facebook URL or Embed Code (iframe)"}),s.jsx(wt,{value:E.videoUrl||E.youtubeUrl||"",onChange:P=>d("videoUrl",P.target.value),placeholder:"Paste a video URL OR the full <iframe ...></iframe> embed code",rows:4,className:"font-mono"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"For Facebook, the most reliable option is pasting the full iframe code from Facebook plugins."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.textColor||"#1f2937",onChange:P=>d("textColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.textColor||"#1f2937",onChange:P=>d("textColor",P.target.value),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{checked:E.autoplay||!1,onCheckedChange:P=>d("autoplay",P)}),s.jsx(z,{children:"Autoplay"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{checked:E.controls!==!1,onCheckedChange:P=>d("controls",P)}),s.jsx(z,{children:"Controls"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{checked:E.loop||!1,onCheckedChange:P=>d("loop",P)}),s.jsx(z,{children:"Loop"})]})]})]})},_=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"End Date"}),s.jsx(F,{type:"datetime-local",value:E.endDate||"",onChange:P=>d("endDate",P.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#ef4444",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#ef4444",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.textColor||"#ffffff",onChange:P=>d("textColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.textColor||"#ffffff",onChange:P=>d("textColor",P.target.value),className:"flex-1"})]})]})]})]})},j=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Icon"}),s.jsx(F,{value:E.icon||"",onChange:P=>d("icon",P.target.value),placeholder:""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Text"}),s.jsx(F,{value:E.buttonText||"",onChange:P=>d("buttonText",P.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Subtitle"}),s.jsx(F,{value:E.subtitle||"",onChange:P=>d("subtitle",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Footer Text"}),s.jsx(F,{value:E.footerText||"",onChange:P=>d("footerText",P.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.textColor||"#1f2937",onChange:P=>d("textColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.textColor||"#1f2937",onChange:P=>d("textColor",P.target.value),className:"flex-1"})]})]})]})]})},C=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Badge Text"}),s.jsx(F,{value:E.badge||"",onChange:P=>d("badge",P.target.value),placeholder:" % "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Subtitle"}),s.jsx(F,{value:E.subtitle||"",onChange:P=>d("subtitle",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Description"}),s.jsx(wt,{value:E.description||"",onChange:P=>d("description",P.target.value),rows:2})]}),s.jsx(A3,{value:E.heroImage||"",onChange:P=>d("heroImage",P),label:"Hero Image",placeholder:"Upload or paste image URL"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Text"}),s.jsx(F,{value:E.buttonText||"",onChange:P=>d("buttonText",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Link"}),s.jsx(F,{value:E.buttonLink||"",onChange:P=>d("buttonLink",P.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Gradient From"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.gradientFrom||"#b8860b",onChange:P=>d("gradientFrom",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.gradientFrom||"#b8860b",onChange:P=>d("gradientFrom",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Gradient To"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.gradientTo||"#d4a520",onChange:P=>d("gradientTo",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.gradientTo||"#d4a520",onChange:P=>d("gradientTo",P.target.value),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:"Feature Pills"}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const P=E.features||[];d("features",[...P,{icon:"",text:""}])},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Add"]})]}),(E.features||[]).map((P,R)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{value:P.icon,onChange:O=>{const T=[...E.features||[]];T[R]={...T[R],icon:O.target.value},d("features",T)},placeholder:"",className:"w-16"}),s.jsx(F,{value:P.text,onChange:O=>{const T=[...E.features||[]];T[R]={...T[R],text:O.target.value},d("features",T)},placeholder:" ",className:"flex-1"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const O=(E.features||[]).filter((T,D)=>D!==R);d("features",O)},children:s.jsx(er,{className:"h-4 w-4"})})]},R))]})]})},I=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Section Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:"Problems"}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const P=E.problems||[];d("problems",[...P,{icon:"",title:""}])},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Add"]})]}),(E.problems||[]).map((P,R)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{value:P.icon,onChange:O=>{const T=[...E.problems||[]];T[R]={...T[R],icon:O.target.value},d("problems",T)},placeholder:"",className:"w-16"}),s.jsx(F,{value:P.title,onChange:O=>{const T=[...E.problems||[]];T[R]={...T[R],title:O.target.value},d("problems",T)},placeholder:"Problem description",className:"flex-1"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const O=(E.problems||[]).filter((T,D)=>D!==R);d("problems",O)},children:s.jsx(er,{className:"h-4 w-4"})})]},R))]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Footer Text"}),s.jsx(F,{value:E.footerText||"",onChange:P=>d("footerText",P.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.textColor||"#1f2937",onChange:P=>d("textColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.textColor||"#1f2937",onChange:P=>d("textColor",P.target.value),className:"flex-1"})]})]})]})]})},M=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Section Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Columns"}),s.jsxs(Zt,{value:String(E.columns||3),onValueChange:P=>d("columns",parseInt(P)),children:[s.jsx(Vt,{children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"2",children:"2"}),s.jsx(qe,{value:"3",children:"3"}),s.jsx(qe,{value:"4",children:"4"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#f9fafb",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#f9fafb",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:"Benefits"}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const P=E.benefits||[];d("benefits",[...P,{icon:"",title:"",description:""}])},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Add"]})]}),(E.benefits||[]).map((P,R)=>s.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{value:P.icon,onChange:O=>{const T=[...E.benefits||[]];T[R]={...T[R],icon:O.target.value},d("benefits",T)},placeholder:"",className:"w-16"}),s.jsx(F,{value:P.title,onChange:O=>{const T=[...E.benefits||[]];T[R]={...T[R],title:O.target.value},d("benefits",T)},placeholder:"Benefit title",className:"flex-1"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const O=(E.benefits||[]).filter((T,D)=>D!==R);d("benefits",O)},children:s.jsx(er,{className:"h-4 w-4"})})]}),s.jsx(F,{value:P.description,onChange:O=>{const T=[...E.benefits||[]];T[R]={...T[R],description:O.target.value},d("benefits",T)},placeholder:"Benefit description"})]},R))]})]})},$=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Section Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Check Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.checkColor||"#22c55e",onChange:P=>d("checkColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.checkColor||"#22c55e",onChange:P=>d("checkColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#ffffff",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:"Trust Badges"}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const P=E.badges||[];d("badges",[...P,{title:"",description:""}])},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Add"]})]}),(E.badges||[]).map((P,R)=>s.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{value:P.title,onChange:O=>{const T=[...E.badges||[]];T[R]={...T[R],title:O.target.value},d("badges",T)},placeholder:"Trust point title",className:"flex-1"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const O=(E.badges||[]).filter((T,D)=>D!==R);d("badges",O)},children:s.jsx(er,{className:"h-4 w-4"})})]}),s.jsx(F,{value:P.description,onChange:O=>{const T=[...E.badges||[]];T[R]={...T[R],description:O.target.value},d("badges",T)},placeholder:"Description"})]},R))]})]})},W=()=>{const E=e.settings;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Section Title"}),s.jsx(F,{value:E.title||"",onChange:P=>d("title",P.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Text"}),s.jsx(F,{value:E.buttonText||"",onChange:P=>d("buttonText",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Button Link"}),s.jsx(F,{value:E.buttonLink||"",onChange:P=>d("buttonLink",P.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.backgroundColor||"#f0fdf4",onChange:P=>d("backgroundColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.backgroundColor||"#f0fdf4",onChange:P=>d("backgroundColor",P.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Accent Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"color",value:E.accentColor||"#22c55e",onChange:P=>d("accentColor",P.target.value),className:"w-12 h-9 p-1"}),s.jsx(F,{value:E.accentColor||"#22c55e",onChange:P=>d("accentColor",P.target.value),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:"Guarantees"}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{const P=E.guarantees||[];d("guarantees",[...P,{icon:"",title:"",subtitle:""}])},children:[s.jsx(qt,{className:"h-3 w-3 mr-1"})," Add"]})]}),(E.guarantees||[]).map((P,R)=>s.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{value:P.icon,onChange:O=>{const T=[...E.guarantees||[]];T[R]={...T[R],icon:O.target.value},d("guarantees",T)},placeholder:"",className:"w-16"}),s.jsx(F,{value:P.title,onChange:O=>{const T=[...E.guarantees||[]];T[R]={...T[R],title:O.target.value},d("guarantees",T)},placeholder:"Title",className:"flex-1"}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const O=(E.guarantees||[]).filter((T,D)=>D!==R);d("guarantees",O)},children:s.jsx(er,{className:"h-4 w-4"})})]}),s.jsx(F,{value:P.subtitle,onChange:O=>{const T=[...E.guarantees||[]];T[R]={...T[R],subtitle:O.target.value},d("guarantees",T)},placeholder:"Subtitle"})]},R))]})]})},V=()=>{switch(e.type){case"hero-product":return h();case"hero-gradient":return C();case"problem-section":return I();case"benefits-grid":return M();case"trust-badges":return $();case"guarantee-section":return W();case"checkout-form":return f();case"text-block":return m();case"feature-badges":return g();case"cta-banner":return p();case"spacer":return x();case"divider":return b();case"image-gallery":return y();case"image-text":return w();case"testimonials":return N();case"faq":case"faq-accordion":return S();case"video":case"youtube-video":return k();case"countdown":return _();case"final-cta":return j();default:return s.jsx("p",{className:"text-sm text-muted-foreground",children:"No settings available"})}};return s.jsx(me,{className:"border-l-4 border-l-primary/50",children:s.jsxs(oHe,{open:c,onOpenChange:u,children:[s.jsx(we,{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(W8,{className:"h-4 w-4 text-muted-foreground cursor-grab"}),s.jsxs(lHe,{className:"flex-1 flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-sm",children:uHe[e.type]}),c?s.jsx(CN,{className:"h-4 w-4"}):s.jsx(Yc,{className:"h-4 w-4"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:n,disabled:i,children:s.jsx(CN,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:a,disabled:o,children:s.jsx(Yc,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:r,children:s.jsx(Mr,{className:"h-4 w-4"})})]})]})}),s.jsx(cHe,{children:s.jsx(pe,{className:"p-3 pt-0",children:V()})})]})})},hHe=["Inter","Roboto","Open Sans","Poppins","Lato","Montserrat","Noto Sans Bengali","Hind Siliguri"],fHe=({theme:e,onChange:t})=>{const r=(n,a)=>{t({...e,[n]:a})};return s.jsxs(me,{children:[s.jsx(we,{className:"pb-3",children:s.jsx(_e,{className:"text-sm",children:"Theme Settings"})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs",children:"Primary"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{type:"color",value:e.primaryColor,onChange:n=>r("primaryColor",n.target.value),className:"w-10 h-8 p-1"}),s.jsx(F,{value:e.primaryColor,onChange:n=>r("primaryColor",n.target.value),className:"flex-1 h-8 text-xs"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs",children:"Secondary"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{type:"color",value:e.secondaryColor,onChange:n=>r("secondaryColor",n.target.value),className:"w-10 h-8 p-1"}),s.jsx(F,{value:e.secondaryColor,onChange:n=>r("secondaryColor",n.target.value),className:"flex-1 h-8 text-xs"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs",children:"Accent"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{type:"color",value:e.accentColor,onChange:n=>r("accentColor",n.target.value),className:"w-10 h-8 p-1"}),s.jsx(F,{value:e.accentColor,onChange:n=>r("accentColor",n.target.value),className:"flex-1 h-8 text-xs"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs",children:"Background"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{type:"color",value:e.backgroundColor,onChange:n=>r("backgroundColor",n.target.value),className:"w-10 h-8 p-1"}),s.jsx(F,{value:e.backgroundColor,onChange:n=>r("backgroundColor",n.target.value),className:"flex-1 h-8 text-xs"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs",children:"Text Color"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{type:"color",value:e.textColor,onChange:n=>r("textColor",n.target.value),className:"w-10 h-8 p-1"}),s.jsx(F,{value:e.textColor,onChange:n=>r("textColor",n.target.value),className:"flex-1 h-8 text-xs"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs",children:"Border Radius"}),s.jsx(F,{value:e.borderRadius,onChange:n=>r("borderRadius",n.target.value),placeholder:"8px",className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs",children:"Font Family"}),s.jsxs(Zt,{value:e.fontFamily,onValueChange:n=>r("fontFamily",n),children:[s.jsx(Vt,{className:"h-8 text-xs",children:s.jsx(Jt,{})}),s.jsx(Wt,{children:hHe.map(n=>s.jsx(qe,{value:n,children:n},n))})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs",children:"Button Style"}),s.jsxs(Zt,{value:e.buttonStyle,onValueChange:n=>r("buttonStyle",n),children:[s.jsx(Vt,{className:"h-8 text-xs",children:s.jsx(Jt,{})}),s.jsxs(Wt,{children:[s.jsx(qe,{value:"filled",children:"Filled"}),s.jsx(qe,{value:"outline",children:"Outline"}),s.jsx(qe,{value:"ghost",children:"Ghost"})]})]})]})]})]})]})},mHe=({section:e,theme:t})=>{const[r,n]=v.useState(0),[a,i]=v.useState({days:0,hours:0,minutes:0,seconds:0});v.useEffect(()=>{if(e.type!=="countdown")return;const j=e.settings;if(!j.endDate)return;const C=setInterval(()=>{const I=new Date(j.endDate).getTime(),M=Date.now(),$=Math.max(0,I-M);i({days:Math.floor($/(1e3*60*60*24)),hours:Math.floor($%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor($%(1e3*60*60)/(1e3*60)),seconds:Math.floor($%(1e3*60)/1e3)})},1e3);return()=>clearInterval(C)},[e]);const o=()=>{var V;const j=e.settings,C=j.images||[],I=j.layout!=="right-image",M=j.layout==="center",$=s.jsx("div",{className:"relative",children:C.length>0?s.jsxs("div",{className:"relative aspect-[3/4] max-w-md mx-auto",children:[s.jsx("img",{src:C[r],alt:"",className:"w-full h-full object-cover rounded-lg"}),C.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>n(E=>(E-1+C.length)%C.length),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 rounded-full p-1",children:s.jsx(io,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>n(E=>(E+1)%C.length),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 rounded-full p-1",children:s.jsx(Ia,{className:"h-5 w-5"})}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:C.map((E,P)=>s.jsx("button",{onClick:()=>n(P),className:`w-2 h-2 rounded-full ${P===r?"bg-white":"bg-white/50"}`},P))})]})]}):s.jsx("div",{className:"aspect-[3/4] max-w-md mx-auto bg-muted rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-muted-foreground",children:"Add Images"})})}),W=s.jsxs("div",{className:`space-y-4 ${M?"text-center":""}`,children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold",style:{color:j.textColor},children:j.title||"Product Title"}),s.jsx("p",{className:"text-lg opacity-80",style:{color:j.textColor},children:j.subtitle||"Product description"}),s.jsxs("div",{className:"flex items-baseline gap-2",style:{justifyContent:M?"center":"flex-start"},children:[s.jsx("span",{className:"text-2xl font-bold",style:{color:t.accentColor},children:""}),s.jsx("span",{className:"text-4xl font-bold",style:{color:t.accentColor},children:j.price?`${j.price}`:"0"}),j.originalPrice&&s.jsxs("span",{className:"text-lg line-through opacity-50",style:{color:j.textColor},children:[j.originalPrice,""]})]}),s.jsx(U,{size:"lg",className:"px-8",style:{backgroundColor:t.primaryColor,color:"#fff",borderRadius:t.borderRadius},children:j.buttonText||"Buy Now"}),((V=j.badges)==null?void 0:V.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-4 mt-6",style:{justifyContent:M?"center":"flex-start"},children:j.badges.map((E,P)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-bold",style:{color:j.textColor},children:E.text}),s.jsx("div",{className:"text-sm opacity-70",style:{color:j.textColor},children:E.subtext})]},P))})]});return s.jsx("section",{className:"py-12 px-6",style:{backgroundColor:j.backgroundColor},children:M?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[$,W]}):s.jsx("div",{className:`max-w-6xl mx-auto grid md:grid-cols-2 gap-8 items-center ${I?"":"direction-rtl"}`,children:I?s.jsxs(s.Fragment,{children:[$,W]}):s.jsxs(s.Fragment,{children:[W,$]})})})},l=()=>{const j=e.settings;return s.jsx("section",{className:"py-12 px-6",style:{backgroundColor:j.backgroundColor,color:j.textColor},children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[j.title&&s.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:j.title}),s.jsx("div",{className:"grid gap-6",style:{gridTemplateColumns:`repeat(${j.columns||3}, 1fr)`},children:(j.badges||[]).map((C,I)=>s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-xl font-bold mb-1",children:C.title}),s.jsx("div",{className:"text-sm opacity-80",children:C.description})]},I))})]})})},c=()=>{const j=e.settings;return s.jsx("section",{className:"px-6",style:{backgroundColor:j.backgroundColor||"transparent",color:j.textColor,padding:j.padding,textAlign:j.alignment,fontSize:j.fontSize},children:s.jsx("div",{className:"max-w-4xl mx-auto whitespace-pre-wrap",children:j.content||"Enter your text..."})})},u=()=>{const j=e.settings;return s.jsx("section",{id:"checkout",className:"py-12 px-6",style:{backgroundColor:j.backgroundColor},children:s.jsxs("div",{className:"max-w-xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:j.title}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(F,{placeholder:" "}),s.jsx(F,{placeholder:" ",type:"tel"}),s.jsx(wt,{placeholder:" ",rows:3}),s.jsx(U,{className:"w-full",size:"lg",style:{backgroundColor:j.accentColor,color:"#fff",borderRadius:t.borderRadius},children:j.buttonText})]})]})})},d=()=>{const j=e.settings;return s.jsx("section",{className:"py-16 px-6 text-center",style:{backgroundColor:j.backgroundColor,color:j.textColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:j.title}),j.subtitle&&s.jsx("p",{className:"text-lg mb-6 opacity-90",children:j.subtitle}),j.buttonText&&s.jsx(U,{size:"lg",variant:"secondary",style:{borderRadius:t.borderRadius},children:j.buttonText})]})})},h=()=>{const j=e.settings,C={square:"aspect-square",portrait:"aspect-[3/4]",landscape:"aspect-video",auto:""}[j.aspectRatio]||"aspect-square";return s.jsx("section",{className:"py-8 px-6",children:s.jsx("div",{className:"max-w-6xl mx-auto grid",style:{gridTemplateColumns:`repeat(${j.columns||3}, 1fr)`,gap:j.gap||"16px"},children:(j.images||[]).map((I,M)=>s.jsx("div",{className:C,children:s.jsx("img",{src:I,alt:"",className:"w-full h-full object-cover rounded-lg"})},M))})})},f=()=>{const j=e.settings,C=j.imagePosition!=="right";return s.jsx("section",{className:"py-12 px-6",style:{backgroundColor:j.backgroundColor},children:s.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-8 items-center",children:[C&&s.jsx("div",{className:"aspect-video",children:j.image?s.jsx("img",{src:j.image,alt:"",className:"w-full h-full object-cover rounded-lg"}):s.jsx("div",{className:"w-full h-full bg-muted rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-muted-foreground",children:"Add Image"})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:j.title}),s.jsx("p",{className:"opacity-80",children:j.description}),j.buttonText&&s.jsx(U,{style:{borderRadius:t.borderRadius},children:j.buttonText})]}),!C&&s.jsx("div",{className:"aspect-video",children:j.image?s.jsx("img",{src:j.image,alt:"",className:"w-full h-full object-cover rounded-lg"}):s.jsx("div",{className:"w-full h-full bg-muted rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-muted-foreground",children:"Add Image"})})})]})})},m=()=>{const j=e.settings;return s.jsx("section",{className:"py-12 px-6 bg-muted/30",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[j.title&&s.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:j.title}),s.jsx("div",{className:"grid gap-6",style:{gridTemplateColumns:`repeat(${j.columns||3}, 1fr)`},children:(j.items||[]).map((C,I)=>{var M;return s.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-sm",children:[s.jsxs("p",{className:"mb-4 text-muted-foreground",children:['"',C.content,'"']}),s.jsxs("div",{className:"flex items-center gap-3",children:[C.avatar?s.jsx("img",{src:C.avatar,alt:"",className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"font-medium",children:(M=C.name)==null?void 0:M.charAt(0)})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:C.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:C.role})]})]})]},I)})})]})})},g=()=>{const j=e.settings,C=j.faqs||j.items||[];return s.jsx("section",{className:"py-12 px-6",style:{backgroundColor:j.backgroundColor||"#ffffff",color:j.textColor},children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[j.title&&s.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:j.title}),s.jsx(IU,{type:"single",collapsible:!0,className:"w-full",children:C.map((I,M)=>s.jsxs(gE,{value:`faq-${M}`,children:[s.jsx(vE,{children:I.question}),s.jsx(xE,{children:I.answer})]},M))})]})})},p=()=>{const j=e.settings,C=j.videoUrl||j.youtubeUrl;if(!C)return s.jsx("section",{className:"py-8 px-6",style:{backgroundColor:j.backgroundColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[j.title&&s.jsx("h2",{className:"text-2xl font-bold text-center mb-6",style:{color:j.textColor},children:j.title}),s.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-muted-foreground",children:"Add Video URL or Embed Code"})})]})});const I=oU(C);if(I)return s.jsx("section",{className:"py-8 px-6",style:{backgroundColor:j.backgroundColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[j.title&&s.jsx("h2",{className:"text-2xl font-bold text-center mb-6",style:{color:j.textColor},children:j.title}),s.jsx("div",{className:"aspect-video relative w-full rounded-lg shadow-lg overflow-hidden",children:s.jsx("div",{className:"absolute inset-0",dangerouslySetInnerHTML:{__html:I}})})]})});let M=Vg(C);if((C.includes("facebook.com")||C.includes("fb.watch"))&&!C.includes("facebook.com/plugins/video.php")){const W=/^https?:\/\//i.test(C)?C:C.startsWith("//")?`https:${C}`:`https://${C}`;M=`https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(W)}&show_text=false&lazy=true`}const $=M.includes("youtube.com/embed")||M.includes("vimeo.com")||M.includes("facebook.com/plugins/video.php");return s.jsx("section",{className:"py-8 px-6",style:{backgroundColor:j.backgroundColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[j.title&&s.jsx("h2",{className:"text-2xl font-bold text-center mb-6",style:{color:j.textColor},children:j.title}),s.jsx("div",{className:"aspect-video",children:$?s.jsx("iframe",{src:M,className:"w-full h-full rounded-lg shadow-lg",scrolling:"no",frameBorder:0,allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",allowFullScreen:!0,...M.includes("facebook.com/plugins/video.php")?{}:{referrerPolicy:"no-referrer-when-downgrade"}}):s.jsx("video",{src:C,className:"w-full h-full rounded-lg",autoPlay:j.autoplay,controls:j.controls!==!1,loop:j.loop})})]})})},x=()=>{const j=e.settings;return s.jsx("section",{className:"py-8 px-6 text-center",style:{backgroundColor:j.backgroundColor,color:j.textColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[j.title&&s.jsx("h2",{className:"text-xl font-bold mb-4",children:j.title}),s.jsx("div",{className:"flex justify-center gap-4",children:[{label:"Days",value:a.days},{label:"Hours",value:a.hours},{label:"Minutes",value:a.minutes},{label:"Seconds",value:a.seconds}].map(C=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold",children:String(C.value).padStart(2,"0")}),s.jsx("div",{className:"text-sm opacity-80",children:C.label})]},C.label))})]})})},b=()=>{const j=e.settings;return s.jsx("div",{className:"px-6",children:s.jsx("hr",{style:{borderStyle:j.style,borderColor:j.color,borderWidth:`${j.thickness} 0 0 0`,width:j.width,margin:"0 auto"}})})},y=()=>{const j=e.settings;return s.jsx("div",{style:{height:j.height}})},w=()=>{var I;const j=e.settings,C=j.heroImage||j.image;return s.jsx("section",{className:"py-16 px-6",style:{background:`linear-gradient(135deg, ${j.gradientFrom||"#b8860b"}, ${j.gradientTo||"#d4a520"})`,color:j.textColor||"#ffffff"},children:s.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-8 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[j.badge&&s.jsxs("span",{className:"inline-block px-4 py-2 bg-white/20 rounded-full text-sm backdrop-blur-sm",children:[" ",j.badge]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:j.title}),j.subtitle&&s.jsx("p",{className:"text-xl opacity-90",children:j.subtitle}),j.description&&s.jsx("p",{className:"opacity-80",children:j.description}),((I=j.features)==null?void 0:I.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-3",children:j.features.map((M,$)=>s.jsxs("span",{className:"px-4 py-2 bg-white/20 rounded-full text-sm backdrop-blur-sm",children:[M.icon," ",M.text]},$))}),j.buttonText&&s.jsx(U,{size:"lg",className:"bg-white text-gray-900 hover:bg-white/90",children:j.buttonText})]}),s.jsx("div",{className:"flex justify-center",children:C?s.jsx("div",{className:"bg-white/20 rounded-2xl p-4 backdrop-blur-sm",children:s.jsx("img",{src:C,alt:"",className:"max-w-full h-auto rounded-lg"})}):s.jsx("div",{className:"w-64 h-64 bg-white/20 rounded-2xl flex items-center justify-center",children:s.jsx("span",{className:"opacity-60",children:"Add Image"})})})]})})},N=()=>{const j=e.settings;return s.jsx("section",{className:"py-12 px-6",style:{backgroundColor:j.backgroundColor,color:j.textColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:j.title}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:(j.problems||[]).map((C,I)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-red-50 rounded-lg border border-red-100",children:[s.jsx("span",{className:"text-3xl",children:C.icon}),s.jsx("span",{className:"font-medium",children:C.title})]},I))}),j.footerText&&s.jsx("p",{className:"text-center mt-8 text-lg font-medium text-green-600",children:j.footerText})]})})},S=()=>{const j=e.settings;return s.jsx("section",{className:"py-12 px-6",style:{backgroundColor:j.backgroundColor,color:j.textColor},children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:j.title}),s.jsx("div",{className:"grid gap-6",style:{gridTemplateColumns:`repeat(${j.columns||3}, 1fr)`},children:(j.benefits||[]).map((C,I)=>s.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-sm",children:[s.jsx("div",{className:"text-4xl mb-3",children:C.icon}),s.jsx("h3",{className:"font-bold mb-2",children:C.title}),s.jsx("p",{className:"text-sm opacity-70",children:C.description})]},I))})]})})},k=()=>{const j=e.settings;return s.jsx("section",{className:"py-12 px-6",style:{backgroundColor:j.backgroundColor,color:j.textColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:j.title}),s.jsx("div",{className:"space-y-4",children:(j.badges||[]).map((C,I)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-green-50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",style:{color:j.checkColor},children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold",children:C.title}),s.jsx("p",{className:"text-sm opacity-70",children:C.description})]})]},I))})]})})},_=()=>{const j=e.settings;return s.jsx("section",{className:"py-12 px-6",style:{backgroundColor:j.backgroundColor},children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:j.title}),s.jsx("div",{className:"flex flex-wrap justify-center gap-6 mb-8",children:(j.guarantees||[]).map((C,I)=>s.jsxs("div",{className:"text-center p-4 bg-white rounded-xl shadow-sm min-w-[140px]",children:[s.jsx("div",{className:"text-3xl mb-2",children:C.icon}),s.jsx("h3",{className:"font-bold text-sm",children:C.title}),s.jsx("p",{className:"text-xs opacity-70",children:C.subtitle})]},I))}),j.buttonText&&s.jsx("div",{className:"text-center",children:s.jsx(U,{size:"lg",style:{backgroundColor:j.accentColor,color:"#fff"},children:j.buttonText})})]})})};switch(e.type){case"hero-product":return o();case"hero-gradient":return w();case"problem-section":return N();case"benefits-grid":return S();case"trust-badges":return k();case"guarantee-section":return _();case"feature-badges":return l();case"text-block":return c();case"checkout-form":return u();case"cta-banner":return d();case"image-gallery":return h();case"image-text":return f();case"testimonials":return m();case"faq":case"faq-accordion":return g();case"video":case"youtube-video":return p();case"countdown":return x();case"divider":return b();case"spacer":return y();default:return s.jsx("div",{className:"p-4 text-muted-foreground",children:"Unknown section type"})}},pHe={title:"",slug:"",description:"",is_active:!1,is_published:!1,sections:[],theme_settings:lX,meta_title:"",meta_description:"",custom_css:""},gHe=()=>{const{id:e}=Ab(),t=en(),r=Ll(),n=e==="new",[a,i]=v.useState(pHe),[o,l]=v.useState("sections"),[c,u]=v.useState("desktop"),[d,h]=v.useState(!1),[f,m]=v.useState(""),g=v.useRef(null),{data:p,isLoading:x}=fr({queryKey:["landing-page",e],queryFn:async()=>{if(n)return null;const{data:j,error:C}=await Q.from("landing_pages").select("*").eq("id",e).single();if(C)throw C;return j},enabled:!n}),{data:b}=fr({queryKey:["admin-products-for-landing"],queryFn:async()=>{const{data:j,error:C}=await Q.from("products").select("id, name, images, price").eq("is_active",!0).order("name");if(C)throw C;return j}});v.useEffect(()=>{p&&i({id:p.id,title:p.title||"",slug:p.slug||"",description:p.description||"",is_active:p.is_active||!1,is_published:p.is_published||!1,sections:p.sections||[],theme_settings:p.theme_settings||lX,meta_title:p.meta_title||"",meta_description:p.meta_description||"",custom_css:p.custom_css||""})},[p]);const y=Xn({mutationFn:async j=>{const C={title:j.title,slug:j.slug,description:j.description,is_active:j.is_active,is_published:j.is_published,sections:JSON.parse(JSON.stringify(j.sections)),theme_settings:JSON.parse(JSON.stringify(j.theme_settings)),meta_title:j.meta_title,meta_description:j.meta_description,custom_css:j.custom_css};if(n){const{data:I,error:M}=await Q.from("landing_pages").insert([C]).select().single();if(M)throw M;return I}else{const{data:I,error:M}=await Q.from("landing_pages").update(C).eq("id",e).select().single();if(M)throw M;return I}},onSuccess:j=>{r.invalidateQueries({queryKey:["admin-landing-pages"]}),G.success(n?"Landing page created!":"Landing page saved!"),n&&(j!=null&&j.id)&&t(`/admin/landing-pages/${j.id}`)},onError:j=>{G.error(j.message||"Failed to save landing page")}}),w=j=>`LP-${j.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`,N=j=>{i(C=>({...C,sections:[...C.sections,j]}))},S=(j,C)=>{i(I=>({...I,sections:I.sections.map((M,$)=>$===j?C:M)}))},k=j=>{i(C=>({...C,sections:C.sections.filter((I,M)=>M!==j)}))},_=(j,C)=>{const I=C==="up"?j-1:j+1;I<0||I>=a.sections.length||i(M=>{const $=[...M.sections];return[$[j],$[I]]=[$[I],$[j]],{...M,sections:$}})};return!n&&x?s.jsx("div",{className:"h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[s.jsxs("header",{className:"border-b px-4 py-2 flex items-center justify-between bg-background z-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(Ke,{to:"/admin/landing-pages",children:s.jsx(ih,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsx(F,{value:a.title,onChange:j=>{const C=j.target.value;i(I=>({...I,title:C,slug:I.slug||w(C)}))},placeholder:"Page Title",className:"font-semibold text-lg border-none shadow-none px-0 h-auto focus-visible:ring-0"}),d?s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"/lp/"}),s.jsx(F,{ref:g,value:f,onChange:j=>m(j.target.value.replace(/[^a-zA-Z0-9-]/g,"")),onKeyDown:j=>{j.key==="Enter"?(i(C=>({...C,slug:f})),h(!1)):j.key==="Escape"&&h(!1)},className:"h-6 text-xs w-40 px-1",autoFocus:!0}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:()=>{i(j=>({...j,slug:f})),h(!1)},children:s.jsx(Ni,{className:"h-3 w-3 text-green-600"})}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:()=>h(!1),children:s.jsx(er,{className:"h-3 w-3 text-destructive"})})]}):s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1 cursor-pointer hover:text-primary group",onClick:()=>{m(a.slug),h(!0)},children:["/lp/",a.slug||"LP-your-page",s.jsx(Sl,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 border rounded-md p-1",children:[s.jsx(U,{variant:c==="desktop"?"secondary":"ghost",size:"icon",className:"h-7 w-7",onClick:()=>u("desktop"),children:s.jsx(vJ,{className:"h-4 w-4"})}),s.jsx(U,{variant:c==="mobile"?"secondary":"ghost",size:"icon",className:"h-7 w-7",onClick:()=>u("mobile"),children:s.jsx(SJ,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2 px-2",children:[s.jsx(gt,{id:"published",checked:a.is_published,onCheckedChange:j=>i(C=>({...C,is_published:j,is_active:j}))}),s.jsx(z,{htmlFor:"published",className:"text-sm",children:"Publish"})]}),!n&&a.is_published&&s.jsx(U,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:`/lp/${a.slug}`,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(_r,{className:"mr-1 h-4 w-4"}),"View"]})}),s.jsxs(U,{size:"sm",onClick:()=>y.mutate(a),disabled:y.isPending||!a.title,children:[s.jsx(Cn,{className:"mr-1 h-4 w-4"}),y.isPending?"Saving...":"Save"]})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsx("div",{className:"w-80 border-r flex flex-col bg-muted/30",children:s.jsxs(wi,{value:o,onValueChange:j=>l(j),className:"flex flex-col h-full",children:[s.jsxs(Fa,{className:"grid w-full grid-cols-3 mx-2 mt-2",style:{width:"calc(100% - 16px)"},children:[s.jsx(It,{value:"sections",className:"text-xs",children:"Sections"}),s.jsxs(It,{value:"theme",className:"text-xs",children:[s.jsx(xJ,{className:"h-3 w-3 mr-1"}),"Theme"]}),s.jsxs(It,{value:"settings",className:"text-xs",children:[s.jsx(Zc,{className:"h-3 w-3 mr-1"}),"Settings"]})]}),s.jsx(iX,{className:"flex-1",children:s.jsxs("div",{className:"p-3",children:[s.jsxs(Ht,{value:"sections",className:"mt-0 space-y-4",children:[s.jsx(iHe,{onAddSection:N}),s.jsx(iu,{}),a.sections.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{className:"text-sm",children:"No sections yet"}),s.jsx("p",{className:"text-xs",children:"Add sections from above"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:["Page Sections (",a.sections.length,")"]}),a.sections.map((j,C)=>s.jsx(dHe,{section:j,onUpdate:I=>S(C,I),onDelete:()=>k(C),onMoveUp:()=>_(C,"up"),onMoveDown:()=>_(C,"down"),isFirst:C===0,isLast:C===a.sections.length-1,products:(b==null?void 0:b.map(I=>({id:I.id,name:I.name})))||[]},j.id))]})]}),s.jsx(Ht,{value:"theme",className:"mt-0",children:s.jsx(fHe,{theme:a.theme_settings,onChange:j=>i(C=>({...C,theme_settings:j}))})}),s.jsxs(Ht,{value:"settings",className:"mt-0 space-y-4",children:[s.jsxs(me,{children:[s.jsx(we,{className:"pb-3",children:s.jsx(_e,{className:"text-sm",children:"Page Settings"})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{className:"text-xs",children:"Page Slug"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"/lp/"}),s.jsx("span",{className:"text-sm font-medium text-primary",children:"LP-"}),s.jsx(F,{value:a.slug.replace(/^LP-/,""),onChange:j=>{const C=j.target.value.replace(/[^a-zA-Z0-9-]/g,"");i(I=>({...I,slug:`LP-${C}`}))},placeholder:"page-name",className:"h-8 text-sm"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["URL: /lp/",a.slug||"LP-page-name"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{className:"text-xs",children:"Description (internal)"}),s.jsx(wt,{value:a.description,onChange:j=>i(C=>({...C,description:j.target.value})),placeholder:"Notes about this page",rows:2,className:"text-sm"})]})]})]}),s.jsxs(me,{children:[s.jsx(we,{className:"pb-3",children:s.jsx(_e,{className:"text-sm",children:"SEO Settings"})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{className:"text-xs",children:"Meta Title"}),s.jsx(F,{value:a.meta_title,onChange:j=>i(C=>({...C,meta_title:j.target.value})),placeholder:"SEO page title",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{className:"text-xs",children:"Meta Description"}),s.jsx(wt,{value:a.meta_description,onChange:j=>i(C=>({...C,meta_description:j.target.value})),placeholder:"SEO description",rows:2,className:"text-sm"})]})]})]}),s.jsxs(me,{children:[s.jsx(we,{className:"pb-3",children:s.jsx(_e,{className:"text-sm",children:"Custom CSS"})}),s.jsx(pe,{children:s.jsx(wt,{value:a.custom_css,onChange:j=>i(C=>({...C,custom_css:j.target.value})),placeholder:".my-class { color: red; }",rows:4,className:"font-mono text-xs"})})]})]})]})})]})}),s.jsx("div",{className:"flex-1 bg-muted/50 overflow-auto p-4",children:s.jsxs("div",{className:`mx-auto bg-background shadow-lg transition-all duration-300 overflow-hidden ${c==="mobile"?"max-w-[375px]":"max-w-[1200px]"}`,style:{fontFamily:a.theme_settings.fontFamily,minHeight:"100%"},children:[a.custom_css&&s.jsx("style",{children:a.custom_css}),a.sections.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-muted-foreground",children:[s.jsx("p",{className:"text-lg font-medium",children:"Start building your page"}),s.jsx("p",{className:"text-sm",children:"Add sections from the left panel"})]}):a.sections.map(j=>s.jsx(mHe,{section:j,theme:a.theme_settings},j.id))]})})]})]})},vHe=()=>{const e=Ll(),[t,r]=v.useState(null),[n,a]=v.useState(""),[i,o]=v.useState(!1),{data:l,isLoading:c}=fr({queryKey:["contact-submissions"],queryFn:async()=>{const{data:g,error:p}=await Q.from("contact_submissions").select("*").order("created_at",{ascending:!1});if(p)throw p;return g}});fr({queryKey:["contact-notification-email"],queryFn:async()=>{const{data:g,error:p}=await Q.from("admin_settings").select("value").eq("key","contact_notification_email").maybeSingle();if(p)throw p;return g&&a(g.value),(g==null?void 0:g.value)||""}});const u=Xn({mutationFn:async g=>{const{error:p}=await Q.from("contact_submissions").update({is_read:!0}).eq("id",g);if(p)throw p},onSuccess:()=>{e.invalidateQueries({queryKey:["contact-submissions"]})}}),d=Xn({mutationFn:async g=>{const{error:p}=await Q.from("contact_submissions").delete().eq("id",g);if(p)throw p},onSuccess:()=>{e.invalidateQueries({queryKey:["contact-submissions"]}),G.success("   ")},onError:()=>{G.error("   ")}}),h=Xn({mutationFn:async g=>{const{data:p}=await Q.from("admin_settings").select("id").eq("key","contact_notification_email").maybeSingle();if(p){const{error:x}=await Q.from("admin_settings").update({value:g}).eq("key","contact_notification_email");if(x)throw x}else{const{error:x}=await Q.from("admin_settings").insert({key:"contact_notification_email",value:g});if(x)throw x}},onSuccess:()=>{e.invalidateQueries({queryKey:["contact-notification-email"]}),G.success("   "),o(!1)},onError:()=>{G.error("    ")}}),f=g=>{r(g),g.is_read||u.mutate(g.id)},m=(l==null?void 0:l.filter(g=>!g.is_read).length)||0;return s.jsx(At,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:" "}),s.jsxs("p",{className:"text-muted-foreground",children:["   ",m>0&&s.jsxs(Ge,{variant:"destructive",className:"ml-2",children:[m," "]})]})]}),s.jsxs(U,{variant:"outline",onClick:()=>o(!0),children:[s.jsx(Zc,{className:"w-4 h-4 mr-2"})," "]})]}),c?s.jsx("div",{className:"grid gap-4",children:[1,2,3].map(g=>s.jsx(St,{className:"h-32 w-full"},g))}):(l==null?void 0:l.length)===0?s.jsx(me,{children:s.jsxs(pe,{className:"py-12 text-center",children:[s.jsx(sp,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"  "})]})}):s.jsx("div",{className:"grid gap-4",children:l==null?void 0:l.map(g=>s.jsx(me,{className:`cursor-pointer transition-colors hover:border-primary/50 ${g.is_read?"":"border-primary bg-primary/5"}`,onClick:()=>f(g),children:s.jsx(pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ra,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-semibold",children:g.name}),!g.is_read&&s.jsx(Ge,{variant:"default",className:"text-xs",children:""})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-2",children:[g.email&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Li,{className:"w-3 h-3"}),g.email]}),g.phone&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(on,{className:"w-3 h-3"}),g.phone]})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:g.message})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:ot(new Date(g.created_at),"dd/MM/yyyy hh:mm a")}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(U,{size:"icon",variant:"ghost",onClick:p=>{p.stopPropagation(),f(g)},children:s.jsx(_r,{className:"w-4 h-4"})}),s.jsxs(zT,{children:[s.jsx(QBe,{asChild:!0,children:s.jsx(U,{size:"icon",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:p=>p.stopPropagation(),children:s.jsx(Mr,{className:"w-4 h-4"})})}),s.jsxs(r1,{onClick:p=>p.stopPropagation(),children:[s.jsxs(n1,{children:[s.jsx(a1,{children:"  ?"}),s.jsx(i1,{children:"    "})]}),s.jsxs(s1,{children:[s.jsx(l1,{children:""}),s.jsx(o1,{onClick:()=>d.mutate(g.id),children:""})]})]})]})]})]})]})})},g.id))}),s.jsx(Jr,{open:!!t,onOpenChange:()=>r(null),children:s.jsxs(zr,{className:"max-w-lg",children:[s.jsx(Ur,{children:s.jsx(Vr,{children:" "})}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"font-medium",children:t.name})]})]}),t.email&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Li,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"font-medium",children:t.email})]})]}),t.phone&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(on,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"font-medium",children:t.phone})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:""}),s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsx("p",{className:"whitespace-pre-wrap",children:t.message})})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" : ",ot(new Date(t.created_at),"dd MMMM yyyy, hh:mm a")]})]})]})}),s.jsx(Jr,{open:i,onOpenChange:o,children:s.jsxs(zr,{children:[s.jsx(Ur,{children:s.jsx(Vr,{children:"  "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:"notification-email",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"       "}),s.jsx(F,{id:"notification-email",type:"email",placeholder:"admin@example.com",value:n,onChange:g=>a(g.target.value)})]}),s.jsxs(U,{onClick:()=>h.mutate(n),disabled:h.isPending,className:"w-full",children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"})," "]})]})]})})]})})},xHe=()=>{const e=Ll(),[t,r]=v.useState(!1),[n,a]=v.useState(!1),[i,o]=v.useState({site_name:" ",site_logo:"",header_phone:"+880 1234-567890",header_promo_text:"Free shipping on orders over 2000"}),{data:l,isLoading:c}=fr({queryKey:["admin-site-settings"],queryFn:async()=>{const{data:f,error:m}=await Q.from("admin_settings").select("key, value").in("key",["site_name","site_logo","header_phone","header_promo_text"]);if(m)throw m;const g={};return f==null||f.forEach(p=>{g[p.key]=p.value}),g}});v.useEffect(()=>{l&&!n&&o({site_name:l.site_name||" ",site_logo:l.site_logo||"",header_phone:l.header_phone||"+880 1234-567890",header_promo_text:l.header_promo_text||"Free shipping on orders over 2000"})},[l,n]);const u=Xn({mutationFn:async f=>{const m=[{key:"site_name",value:f.site_name},{key:"site_logo",value:f.site_logo},{key:"header_phone",value:f.header_phone},{key:"header_promo_text",value:f.header_promo_text}];for(const g of m){const{error:p}=await Q.from("admin_settings").upsert({key:g.key,value:g.value,updated_at:new Date().toISOString()},{onConflict:"key"});if(p)throw p}},onSuccess:()=>{a(!1),e.invalidateQueries({queryKey:["admin-site-settings"]}),e.invalidateQueries({queryKey:["header-settings"]}),G.success("Header settings saved successfully")},onError:f=>{console.error("Error saving settings:",f),G.error("Failed to save settings")}}),d=()=>{u.mutate(i)},h=async f=>{var g;const m=(g=f.target.files)==null?void 0:g[0];if(m){r(!0),a(!0);try{const p=m.name.split(".").pop(),b=`logos/${`logo-${Date.now()}.${p}`}`,{error:y}=await Q.storage.from("shop-assets").upload(b,m);if(y)throw y;const{data:{publicUrl:w}}=Q.storage.from("shop-assets").getPublicUrl(b),N={...i,site_logo:w};o(N),u.mutate(N),G.success("Logo uploaded & saved successfully")}catch(p){console.error("Error uploading logo:",p),G.error("Failed to upload logo")}finally{r(!1)}}};return c?s.jsx(At,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(At,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Zc,{className:"h-8 w-8"}),"Site Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your site configuration"})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(U8,{className:"h-5 w-5"}),"Header Settings"]}),s.jsx(nt,{children:"Configure your site header including logo, site name, phone number, and promotional text"})]}),s.jsxs(pe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Site Logo"}),s.jsxs("div",{className:"flex items-center gap-4",children:[i.site_logo?s.jsx("img",{src:i.site_logo,alt:"Site Logo",className:"h-16 w-auto object-contain border rounded p-2"}):s.jsx("div",{className:"h-16 w-16 border rounded flex items-center justify-center bg-muted",children:s.jsx(xi,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"}),s.jsx(U,{type:"button",variant:"outline",disabled:t,asChild:!0,children:s.jsxs("span",{children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),t?"Uploading...":"Upload Logo"]})})]}),s.jsx(F,{placeholder:"Or paste image URL",value:i.site_logo,onChange:f=>{a(!0),o(m=>({...m,site_logo:f.target.value}))}})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"site_name",children:"Site Name"}),s.jsx(F,{id:"site_name",placeholder:"Your Store Name",value:i.site_name,onChange:f=>{a(!0),o(m=>({...m,site_name:f.target.value}))}}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The name displayed in the header next to your logo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"header_phone",children:"Phone Number"}),s.jsx(F,{id:"header_phone",placeholder:"+880 1234-567890",value:i.header_phone,onChange:f=>{a(!0),o(m=>({...m,header_phone:f.target.value}))}}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone number displayed in the top bar"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"header_promo_text",children:"Promotional Text"}),s.jsx(F,{id:"header_promo_text",placeholder:"Free shipping on orders over 2000",value:i.header_promo_text,onChange:f=>{a(!0),o(m=>({...m,header_promo_text:f.target.value}))}}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Promotional message shown in the header bar"})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(U,{onClick:d,disabled:u.isPending,className:"w-full sm:w-auto",children:[s.jsx(Cn,{className:"h-4 w-4 mr-2"}),u.isPending?"Saving...":"Save Header Settings"]})})]})]})]})})},M3={messenger_enabled:!1,messenger_page_id:"",whatsapp_enabled:!1,whatsapp_number:"",call_enabled:!1,call_number:""},yHe=()=>{const e=Ll(),[t,r]=v.useState(M3),{data:n,isLoading:a}=fr({queryKey:["social-media-settings"],queryFn:async()=>{const l=["messenger_enabled","messenger_page_id","whatsapp_enabled","whatsapp_number","call_enabled","call_number"],{data:c,error:u}=await Q.from("admin_settings").select("key, value").in("key",l);if(u)throw u;const d={...M3};return c==null||c.forEach(h=>{h.key==="messenger_enabled"&&(d.messenger_enabled=h.value==="true"),h.key==="messenger_page_id"&&(d.messenger_page_id=h.value),h.key==="whatsapp_enabled"&&(d.whatsapp_enabled=h.value==="true"),h.key==="whatsapp_number"&&(d.whatsapp_number=h.value),h.key==="call_enabled"&&(d.call_enabled=h.value==="true"),h.key==="call_number"&&(d.call_number=h.value)}),d}});v.useEffect(()=>{n&&r(n)},[n]);const i=Xn({mutationFn:async l=>{const c=[{key:"messenger_enabled",value:String(l.messenger_enabled)},{key:"messenger_page_id",value:l.messenger_page_id},{key:"whatsapp_enabled",value:String(l.whatsapp_enabled)},{key:"whatsapp_number",value:l.whatsapp_number},{key:"call_enabled",value:String(l.call_enabled)},{key:"call_number",value:l.call_number}];for(const u of c){const{error:d}=await Q.from("admin_settings").upsert({key:u.key,value:u.value,updated_at:new Date().toISOString()},{onConflict:"key"});if(d)throw d}},onSuccess:()=>{e.invalidateQueries({queryKey:["social-media-settings"]}),G.success("Social media settings saved!")},onError:l=>{console.error(l),G.error("Failed to save settings")}}),o=()=>{i.mutate(t)};return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Social Media"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure chat buttons for Messenger and WhatsApp"})]}),s.jsxs(U,{onClick:o,disabled:i.isPending,children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),i.isPending?"Saving...":"Save Settings"]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Qc,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(_e,{children:"Facebook Messenger"}),s.jsx(nt,{children:"Allow customers to message you on Messenger"})]})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{htmlFor:"messenger-enabled",children:"Enable Messenger Button"}),s.jsx(gt,{id:"messenger-enabled",checked:t.messenger_enabled,onCheckedChange:l=>r(c=>({...c,messenger_enabled:l}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"messenger-page-id",children:"Messenger Link"}),s.jsx(F,{id:"messenger-page-id",value:t.messenger_page_id,onChange:l=>r(c=>({...c,messenger_page_id:l.target.value})),placeholder:"e.g., https://www.facebook.com/messages/t/KhejurerBajar1"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your full Messenger link (e.g., https://www.facebook.com/messages/t/YourPageName or https://m.me/YourPageName)"})]})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(on,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx(_e,{children:"WhatsApp"}),s.jsx(nt,{children:"Allow customers to message you on WhatsApp"})]})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{htmlFor:"whatsapp-enabled",children:"Enable WhatsApp Button"}),s.jsx(gt,{id:"whatsapp-enabled",checked:t.whatsapp_enabled,onCheckedChange:l=>r(c=>({...c,whatsapp_enabled:l}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"whatsapp-number",children:"WhatsApp Number"}),s.jsx(F,{id:"whatsapp-number",value:t.whatsapp_number,onChange:l=>r(c=>({...c,whatsapp_number:l.target.value})),placeholder:"e.g., 8801XXXXXXXXX"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your WhatsApp number with country code (no + or spaces)"})]})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:s.jsx(on,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx(_e,{children:"Call Now (Product Page)"}),s.jsx(nt,{children:"Show a call button on product pages"})]})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{htmlFor:"call-enabled",children:"Enable Call Button"}),s.jsx(gt,{id:"call-enabled",checked:t.call_enabled,onCheckedChange:l=>r(c=>({...c,call_enabled:l}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"call-number",children:"Phone Number"}),s.jsx(F,{id:"call-number",value:t.call_number,onChange:l=>r(c=>({...c,call_number:l.target.value})),placeholder:"e.g., 01820-808514"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'This number will be shown on product pages for "Call Now" button'})]})]})]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"Preview"}),s.jsx(nt,{children:"This is how the chat buttons will appear on your website"})]}),s.jsx(pe,{children:s.jsx("div",{className:"relative h-32 bg-muted rounded-lg flex items-end justify-end p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[t.whatsapp_enabled&&t.whatsapp_number&&s.jsx("div",{className:"w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:scale-110 transition-transform",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-7 h-7 text-white fill-current",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),t.messenger_enabled&&t.messenger_page_id&&s.jsx("div",{className:"w-14 h-14 bg-blue-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:scale-110 transition-transform",children:s.jsx(Qc,{className:"w-7 h-7 text-white"})})]})})})]})]})},R3=e=>{if(!e)return 0;const t=e.trim(),r=t.match(/(\d+\.?\d*)\s*kg/i);if(r)return parseFloat(r[1]);const n=t.match(/(\d+\.?\d*)\s*g(?!r)/i);if(n)return parseFloat(n[1])/1e3;const a=t.match(/(\d+\.?\d*)\s*gram/i);return a?parseFloat(a[1])/1e3:0};function bHe(){const[e,t]=v.useState("today"),[r,n]=v.useState({from:xs(new Date),to:Fi(new Date)}),a=m=>{const g=new Date;switch(m){case"today":return{from:xs(g),to:Fi(g)};case"yesterday":const p=Wx(g,1);return{from:xs(p),to:Fi(p)};case"week":return{from:za(g,{weekStartsOn:0}),to:Yb(g,{weekStartsOn:0})};case"month":return{from:Bn(g),to:Xb(g)};case"custom":return{from:(r==null?void 0:r.from)||xs(g),to:(r==null?void 0:r.to)||Fi(g)};default:return{from:xs(g),to:Fi(g)}}},i=m=>{if(t(m),m!=="custom"){const g=a(m);n({from:g.from,to:g.to})}},o=a(e),{data:l,isLoading:c}=fr({queryKey:["sales-report",o.from.toISOString(),o.to.toISOString()],queryFn:async()=>{const{data:m,error:g}=await Q.from("orders").select(`
          id,
          total,
          subtotal,
          shipping_cost,
          discount,
          status,
          created_at,
          order_items (
            id,
            product_name,
            product_image,
            quantity,
            price,
            variation_name
          )
        `).gte("created_at",o.from.toISOString()).lte("created_at",o.to.toISOString()).neq("status","cancelled");if(g)throw g;return m||[]}}),u=(l==null?void 0:l.reduce((m,g)=>m+g.order_items.reduce((p,x)=>p+R3(x.variation_name)*x.quantity,0),0))||0,d={totalOrders:(l==null?void 0:l.length)||0,totalRevenue:(l==null?void 0:l.reduce((m,g)=>m+Number(g.total),0))||0,totalProducts:(l==null?void 0:l.reduce((m,g)=>m+g.order_items.reduce((p,x)=>p+x.quantity,0),0))||0,averageOrderValue:l!=null&&l.length?l.reduce((m,g)=>m+Number(g.total),0)/l.length:0},h=[],f=new Map;return l==null||l.forEach(m=>{m.order_items.forEach(g=>{const p=R3(g.variation_name)*g.quantity,x=f.get(g.product_name);x?(x.total_quantity+=g.quantity,x.total_kg+=p,x.total_revenue+=Number(g.price)*g.quantity):f.set(g.product_name,{product_name:g.product_name,product_image:g.product_image,total_quantity:g.quantity,total_kg:p,total_revenue:Number(g.price)*g.quantity})})}),f.forEach(m=>h.push(m)),h.sort((m,g)=>g.total_quantity-m.total_quantity),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Sales Reports"}),s.jsx("p",{className:"text-muted-foreground",children:"View sales and revenue statistics"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(U,{variant:e==="today"?"default":"outline",size:"sm",onClick:()=>i("today"),children:"Today"}),s.jsx(U,{variant:e==="yesterday"?"default":"outline",size:"sm",onClick:()=>i("yesterday"),children:"Yesterday"}),s.jsx(U,{variant:e==="week"?"default":"outline",size:"sm",onClick:()=>i("week"),children:"This Week"}),s.jsx(U,{variant:e==="month"?"default":"outline",size:"sm",onClick:()=>i("month"),children:"This Month"}),s.jsxs(fu,{children:[s.jsx(mu,{asChild:!0,children:s.jsxs(U,{variant:e==="custom"?"default":"outline",size:"sm",className:"gap-2",onClick:()=>t("custom"),children:[s.jsx(ao,{className:"h-4 w-4"}),e==="custom"&&(r!=null&&r.from)?r.to?s.jsxs(s.Fragment,{children:[ot(r.from,"LLL dd")," - ",ot(r.to,"LLL dd")]}):ot(r.from,"LLL dd, y"):"Custom"]})}),s.jsx(Il,{className:"w-auto p-0",align:"end",children:s.jsx(Al,{initialFocus:!0,mode:"range",defaultMonth:r==null?void 0:r.from,selected:r,onSelect:m=>{n(m),t("custom")},numberOfMonths:2,className:de("p-3 pointer-events-auto")})})]})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing data from"," ",s.jsx("span",{className:"font-medium text-foreground",children:ot(o.from,"PPP")})," ","to"," ",s.jsx("span",{className:"font-medium text-foreground",children:ot(o.to,"PPP")})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[s.jsxs(me,{children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Total Orders"}),s.jsx(En,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(pe,{children:s.jsx("div",{className:"text-2xl font-bold",children:d.totalOrders})})]}),s.jsxs(me,{children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(xy,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(pe,{children:s.jsxs("div",{className:"text-2xl font-bold",children:["",d.totalRevenue.toLocaleString()]})})]}),s.jsxs(me,{children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Products Sold"}),s.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(pe,{children:s.jsx("div",{className:"text-2xl font-bold",children:d.totalProducts})})]}),s.jsxs(me,{children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Total KG Sold"}),s.jsx(wJ,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(pe,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[u.toFixed(2)," kg"]})})]}),s.jsxs(me,{children:[s.jsxs(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Avg Order Value"}),s.jsx(LC,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(pe,{children:s.jsxs("div",{className:"text-2xl font-bold",children:["",d.averageOrderValue.toFixed(0)]})})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsx(_e,{children:"Product Sales Breakdown"})}),s.jsx(pe,{children:c?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):h.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No sales data for the selected period"}):s.jsxs(Ss,{children:[s.jsx(ks,{children:s.jsxs(Et,{children:[s.jsx(Ne,{children:"Product"}),s.jsx(Ne,{className:"text-center",children:"Quantity Sold"}),s.jsx(Ne,{className:"text-center",children:"KG Sold"}),s.jsx(Ne,{className:"text-right",children:"Revenue"})]})}),s.jsx(Cs,{children:h.map((m,g)=>s.jsxs(Et,{children:[s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[m.product_image&&s.jsx("img",{src:m.product_image,alt:m.product_name,className:"h-10 w-10 rounded object-cover"}),s.jsx("span",{className:"font-medium",children:m.product_name})]})}),s.jsx(xe,{className:"text-center font-medium",children:m.total_quantity}),s.jsx(xe,{className:"text-center font-medium",children:m.total_kg>0?`${m.total_kg.toFixed(2)} kg`:"-"}),s.jsxs(xe,{className:"text-right font-medium",children:["",m.total_revenue.toLocaleString()]})]},g))})]})})]})]})}const wHe=()=>{var C,I,M,$,W,V,E,P,R,O,T,D,X,A,q,L,J,le,H,re,te,ie,ee,K,he,ue,be,Me,Se,tt,ft,kt,it,Rr;const{user:e,isLoading:t}=zl(),r=en(),[n,a]=v.useState(!0),[i,o]=v.useState(!1),[l,c]=v.useState({}),[u,d]=v.useState(null);v.useEffect(()=>{!t&&!e&&r("/auth")},[e,t,r]),v.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:ce,error:Ee}=await Q.from("home_page_content").select("*");if(Ee)throw Ee;const Pe={};ce==null||ce.forEach(We=>{Pe[We.section_key]=We.content}),c(Pe)}catch(ce){console.error("Error fetching content:",ce),G.error("    ")}finally{a(!1)}},f=(ce,Ee,Pe)=>{c(We=>({...We,[ce]:{...We[ce],[Ee]:Pe}}))},m=(ce,Ee,Pe,We)=>{c(mt=>{var nr;return{...mt,[ce]:{...mt[ce],[Ee]:{...(nr=mt[ce])==null?void 0:nr[Ee],[Pe]:We}}}})},g=(ce,Ee,Pe)=>{c(We=>{var nr;const mt=[...((nr=We.hero_slides)==null?void 0:nr.slides)||[]];return mt[ce]={...mt[ce],[Ee]:Pe},{...We,hero_slides:{...We.hero_slides,slides:mt}}})},p=()=>{c(ce=>{var Pe;const Ee=[...((Pe=ce.hero_slides)==null?void 0:Pe.slides)||[]];return Ee.push({id:Date.now().toString(),title:" ",subtitle:" ",image:"",link:"/products",badge:""}),{...ce,hero_slides:{...ce.hero_slides,slides:Ee}}})},x=ce=>{c(Ee=>{var We;const Pe=[...((We=Ee.hero_slides)==null?void 0:We.slides)||[]];return Pe.splice(ce,1),{...Ee,hero_slides:{...Ee.hero_slides,slides:Pe}}})},b=(ce,Ee,Pe)=>{c(We=>{var nr;const mt=[...((nr=We.features_bar)==null?void 0:nr.items)||[]];return mt[ce]={...mt[ce],[Ee]:Pe},{...We,features_bar:{...We.features_bar,items:mt}}})},y=(ce,Ee,Pe)=>{c(We=>{var nr;const mt=[...((nr=We.testimonials)==null?void 0:nr.items)||[]];return mt[ce]={...mt[ce],[Ee]:Pe},{...We,testimonials:{...We.testimonials,items:mt}}})},w=()=>{c(ce=>{var Pe;const Ee=[...((Pe=ce.testimonials)==null?void 0:Pe.items)||[]];return Ee.push({name:"",location:"",text:"",rating:5}),{...ce,testimonials:{...ce.testimonials,items:Ee}}})},N=ce=>{c(Ee=>{var We;const Pe=[...((We=Ee.testimonials)==null?void 0:We.items)||[]];return Pe.splice(ce,1),{...Ee,testimonials:{...Ee.testimonials,items:Pe}}})},S=async(ce,Ee,Pe,We)=>{const mt=`${Ee}-${We??""}-${Pe}`;d(mt);try{const nr=ce.name.split(".").pop(),ls=`home-page/${Ee}/${Date.now()}.${nr}`,{error:ne}=await Q.storage.from("shop-assets").upload(ls,ce);if(ne)throw ne;const{data:{publicUrl:rt}}=Q.storage.from("shop-assets").getPublicUrl(ls);Ee==="hero_slides"&&We!==void 0?g(We,Pe,rt):f(Ee,Pe,rt),G.success("   ")}catch(nr){console.error("Error uploading image:",nr),G.error("    ")}finally{d(null)}},k=async()=>{o(!0);try{for(const[ce,Ee]of Object.entries(l)){const{error:Pe,count:We}=await Q.from("home_page_content").update({content:Ee,updated_at:new Date().toISOString()}).eq("section_key",ce);if(Pe||We===0){const{error:mt}=await Q.from("home_page_content").upsert({section_key:ce,content:Ee,updated_at:new Date().toISOString()});if(mt)throw mt}}G.success("   !")}catch(ce){console.error("Error saving content:",ce),G.error("   ")}finally{o(!1)}};if(t||n)return s.jsx(At,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})})});const _=({label:ce,currentImage:Ee,sectionKey:Pe,imageField:We,slideIndex:mt})=>{const nr=`${Pe}-${mt??""}-${We}`,ls=u===nr;return s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:ce}),s.jsxs("div",{className:"flex items-start gap-4",children:[Ee&&s.jsx("img",{src:Ee,alt:ce,className:"h-24 w-40 object-cover rounded-lg border"}),!Ee&&s.jsx("div",{className:"h-24 w-40 bg-muted rounded-lg border flex items-center justify-center",children:s.jsx(xi,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(F,{value:Ee||"",onChange:ne=>{Pe==="hero_slides"&&mt!==void 0?g(mt,We,ne.target.value):f(Pe,We,ne.target.value)},placeholder:" URL    "}),s.jsxs("label",{className:"cursor-pointer inline-block",children:[s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ne=>{var Te;const rt=(Te=ne.target.files)==null?void 0:Te[0];rt&&S(rt,Pe,We,mt)}}),s.jsx(U,{type:"button",variant:"outline",size:"sm",disabled:ls,asChild:!0,children:s.jsxs("span",{children:[ls?s.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(si,{className:"h-4 w-4 mr-2"}),""]})})]})]})]})]})},j=[{value:"Truck",label:" ()"},{value:"RotateCcw",label:""},{value:"Shield",label:" ()"},{value:"Headphones",label:" ()"},{value:"CreditCard",label:" "},{value:"Clock",label:""},{value:"Gift",label:""},{value:"Heart",label:""}];return s.jsx(At,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"  "}),s.jsx("p",{className:"text-muted-foreground",children:"   ,     "})]}),s.jsxs(U,{onClick:k,disabled:i,children:[i?s.jsx(Kt,{className:"h-4 w-4 animate-spin ml-2"}):s.jsx(Cn,{className:"h-4 w-4 ml-2"})," "]})]}),s.jsxs(wi,{defaultValue:"hero_slides",className:"space-y-4",children:[s.jsxs(Fa,{className:"flex-wrap h-auto gap-1",children:[s.jsx(It,{value:"hero_slides",children:" "}),s.jsx(It,{value:"header_promo",children:" "}),s.jsx(It,{value:"features_bar",children:" "}),s.jsx(It,{value:"promo",children:" "}),s.jsx(It,{value:"products",children:" "}),s.jsx(It,{value:"why_choose",children:" "}),s.jsx(It,{value:"testimonials",children:" "})]}),s.jsx(Ht,{value:"hero_slides",children:s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(_e,{children:" "}),s.jsx(nt,{children:"     "})]}),s.jsxs(U,{onClick:p,variant:"outline",size:"sm",children:[s.jsx(qt,{className:"h-4 w-4 ml-2"})," "]})]})}),s.jsxs(pe,{className:"space-y-6",children:[(((C=l.hero_slides)==null?void 0:C.slides)||[]).map((ce,Ee)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-4 relative bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(W8,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("span",{className:"font-medium",children:[" ",Ee+1]})]}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>x(Ee),children:s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsx(_,{label:" ",currentImage:ce.image||"",sectionKey:"hero_slides",imageField:"image",slideIndex:Ee}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:ce.title||"",onChange:Pe=>g(Ee,"title",Pe.target.value),placeholder:" "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:" "}),s.jsx(F,{value:ce.badge||"",onChange:Pe=>g(Ee,"badge",Pe.target.value),placeholder:": % "})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(wt,{value:ce.subtitle||"",onChange:Pe=>g(Ee,"subtitle",Pe.target.value),placeholder:" ",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:" URL"}),s.jsx(F,{value:ce.link||"",onChange:Pe=>g(Ee,"link",Pe.target.value),placeholder:"/products    "})]})]},ce.id||Ee)),(!((I=l.hero_slides)!=null&&I.slides)||l.hero_slides.slides.length===0)&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(xi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:'   " "   '})]})]})]})}),s.jsx(Ht,{value:"header_promo",children:s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:"  "}),s.jsx(nt,{children:"    "})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{children:"  "}),s.jsx(gt,{checked:((M=l.header_promo)==null?void 0:M.enabled)??!0,onCheckedChange:ce=>f("header_promo","enabled",ce)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:" "}),s.jsx(F,{value:(($=l.header_promo)==null?void 0:$.text)||"",onChange:ce=>f("header_promo","text",ce.target.value),placeholder:": +    "})]})]})]})}),s.jsx(Ht,{value:"features_bar",children:s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:" "}),s.jsx(nt,{children:"     "})]}),s.jsx(pe,{className:"space-y-4",children:(((W=l.features_bar)==null?void 0:W.items)||[]).map((ce,Ee)=>s.jsxs("div",{className:"grid gap-4 md:grid-cols-3 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx("select",{value:ce.icon||"Truck",onChange:Pe=>b(Ee,"icon",Pe.target.value),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",children:j.map(Pe=>s.jsx("option",{value:Pe.value,children:Pe.label},Pe.value))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:ce.title||"",onChange:Pe=>b(Ee,"title",Pe.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:ce.desc||"",onChange:Pe=>b(Ee,"desc",Pe.target.value)})]})]},Ee))})]})}),s.jsx(Ht,{value:"promo",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(me,{children:[s.jsx(we,{children:s.jsx(_e,{children:" "})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsx(_,{label:"",currentImage:((E=(V=l.promo_banners)==null?void 0:V.banner1)==null?void 0:E.image)||"",sectionKey:"promo_banners",imageField:"image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((R=(P=l.promo_banners)==null?void 0:P.banner1)==null?void 0:R.tagline)||"",onChange:ce=>m("promo_banners","banner1","tagline",ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((T=(O=l.promo_banners)==null?void 0:O.banner1)==null?void 0:T.title)||"",onChange:ce=>m("promo_banners","banner1","title",ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((X=(D=l.promo_banners)==null?void 0:D.banner1)==null?void 0:X.subtitle)||"",onChange:ce=>m("promo_banners","banner1","subtitle",ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:" "}),s.jsx(F,{value:((q=(A=l.promo_banners)==null?void 0:A.banner1)==null?void 0:q.buttonText)||"",onChange:ce=>m("promo_banners","banner1","buttonText",ce.target.value)})]})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsx(_e,{children:" "})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsx(_,{label:"",currentImage:((J=(L=l.promo_banners)==null?void 0:L.banner2)==null?void 0:J.image)||"",sectionKey:"promo_banners",imageField:"image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((H=(le=l.promo_banners)==null?void 0:le.banner2)==null?void 0:H.tagline)||"",onChange:ce=>m("promo_banners","banner2","tagline",ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((te=(re=l.promo_banners)==null?void 0:re.banner2)==null?void 0:te.title)||"",onChange:ce=>m("promo_banners","banner2","title",ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((ee=(ie=l.promo_banners)==null?void 0:ie.banner2)==null?void 0:ee.subtitle)||"",onChange:ce=>m("promo_banners","banner2","subtitle",ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:" "}),s.jsx(F,{value:((he=(K=l.promo_banners)==null?void 0:K.banner2)==null?void 0:he.buttonText)||"",onChange:ce=>m("promo_banners","banner2","buttonText",ce.target.value)})]})]})]})]})}),s.jsx(Ht,{value:"products",children:s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsx(_e,{children:" "}),s.jsx(nt,{children:"Featured products  "})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((ue=l.featured_products)==null?void 0:ue.tagline)||"",onChange:ce=>f("featured_products","tagline",ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:" "}),s.jsx(F,{value:((be=l.featured_products)==null?void 0:be.buttonText)||"",onChange:ce=>f("featured_products","buttonText",ce.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((Me=l.featured_products)==null?void 0:Me.title)||"",onChange:ce=>f("featured_products","title",ce.target.value)})]})]})]})}),s.jsx(Ht,{value:"why_choose",children:s.jsxs(me,{children:[s.jsx(we,{children:s.jsx(_e,{children:"   "})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((Se=l.why_choose_us)==null?void 0:Se.tagline)||"",onChange:ce=>f("why_choose_us","tagline",ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(wt,{value:((tt=l.why_choose_us)==null?void 0:tt.title)||"",onChange:ce=>f("why_choose_us","title",ce.target.value)})]})]})]})}),s.jsx(Ht,{value:"testimonials",children:s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(_e,{children:" "}),s.jsx(nt,{children:" ,   "})]}),s.jsxs(U,{onClick:w,variant:"outline",size:"sm",children:[s.jsx(qt,{className:"h-4 w-4 ml-2"})," "]})]})}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((ft=l.testimonials)==null?void 0:ft.tagline)||"",onChange:ce=>f("testimonials","tagline",ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:((kt=l.testimonials)==null?void 0:kt.title)||"",onChange:ce=>f("testimonials","title",ce.target.value)})]})]}),(((it=l.testimonials)==null?void 0:it.items)||[]).map((ce,Ee)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-4 relative",children:[s.jsx(U,{variant:"ghost",size:"icon",className:"absolute top-2 left-2 h-8 w-8 text-destructive",onClick:()=>N(Ee),children:s.jsx(Mr,{className:"h-4 w-4"})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 pt-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:ce.name||"",onChange:Pe=>y(Ee,"name",Pe.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:""}),s.jsx(F,{value:ce.location||"",onChange:Pe=>y(Ee,"location",Pe.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:" "}),s.jsx(wt,{value:ce.text||"",onChange:Pe=>y(Ee,"text",Pe.target.value)})]})]},Ee)),(!((Rr=l.testimonials)!=null&&Rr.items)||l.testimonials.items.length===0)&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:'   " "   '})})]})]})})]})]})})},jHe=()=>{const{user:e,isLoading:t}=zl(),r=en(),[n,a]=v.useState(!0),[i,o]=v.useState(!1),[l,c]=v.useState(""),[u,d]=v.useState([""]),[h,f]=v.useState("Tulshi Plus & Lungs Guard Capsole"),[m,g]=v.useState("1550"),[p,x]=v.useState("2300");v.useEffect(()=>{!t&&!e&&r("/auth")},[e,t,r]),v.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:_,error:j}=await Q.from("admin_settings").select("key, value").in("key",["landing_product_video","landing_review_videos","landing_product_name","landing_product_price","landing_product_original_price"]);if(j)throw j;_==null||_.forEach(C=>{if(C.key==="landing_product_video"&&c(C.value),C.key==="landing_product_name"&&f(C.value),C.key==="landing_product_price"&&g(C.value),C.key==="landing_product_original_price"&&x(C.value),C.key==="landing_review_videos")try{const I=JSON.parse(C.value);d(I.length>0?I:[""])}catch{d([C.value||""])}})}catch(_){console.error("Error fetching settings:",_),G.error("    ")}finally{a(!1)}},y=async()=>{o(!0);try{const _=u.filter(C=>C.trim()!==""),j=[{key:"landing_product_video",value:l},{key:"landing_review_videos",value:JSON.stringify(_)},{key:"landing_product_name",value:h},{key:"landing_product_price",value:m},{key:"landing_product_original_price",value:p}];for(const C of j){const{error:I}=await Q.from("admin_settings").upsert({key:C.key,value:C.value},{onConflict:"key"});if(I)throw I}G.success("  !")}catch(_){console.error("Error saving settings:",_),G.error("   ")}finally{o(!1)}},w=_=>{var j,C;return _?_.includes("/shorts/")?`https://www.youtube.com/embed/${(j=_.split("/shorts/")[1])==null?void 0:j.split("?")[0]}`:_.includes("watch?v=")?_.replace("watch?v=","embed/"):_.includes("youtu.be/")?`https://www.youtube.com/embed/${(C=_.split("youtu.be/")[1])==null?void 0:C.split("?")[0]}`:_:null},N=()=>{d([...u,""])},S=_=>{u.length>1&&d(u.filter((j,C)=>C!==_))},k=(_,j)=>{const C=[...u];C[_]=j,d(C)};return t||n?s.jsx(At,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(At,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"   "}),s.jsx("p",{className:"text-muted-foreground",children:"     "})]}),s.jsxs(U,{onClick:y,disabled:i,children:[i?s.jsx(Kt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Cn,{className:"h-4 w-4 mr-2"})," "]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(DC,{className:"h-5 w-5"})," "]}),s.jsx(nt,{children:"     "})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:" "}),s.jsx(F,{value:h,onChange:_=>f(_.target.value),placeholder:" "})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"  ()"}),s.jsx(F,{type:"number",value:m,onChange:_=>g(_.target.value),placeholder:"1550"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"  () -  "}),s.jsx(F,{type:"number",value:p,onChange:_=>x(_.target.value),placeholder:"2300"})]})]}),s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:":"}),s.jsxs("p",{className:"text-lg font-bold",children:["",m,s.jsxs("span",{className:"text-sm text-muted-foreground line-through ml-2",children:["",p]}),s.jsxs("span",{className:"text-sm text-green-600 ml-2",children:["(",Math.round((Number(p)-Number(m))/Number(p)*100),"% )"]})]})]})]})]}),s.jsxs(me,{children:[s.jsxs(we,{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(ip,{className:"h-5 w-5"})," "]}),s.jsx(nt,{children:"   YouTube "})]}),s.jsxs(pe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"YouTube "}),s.jsx(F,{value:l,onChange:_=>c(_.target.value),placeholder:"https://www.youtube.com/watch?v=..."})]}),l&&s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted max-w-xl",children:s.jsx("iframe",{src:w(l)||"",title:"Product Video Preview",className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})]}),s.jsxs(me,{children:[s.jsx(we,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(ip,{className:"h-5 w-5"}),"  "]}),s.jsx(nt,{children:"   YouTube  (   )"})]}),s.jsxs(U,{onClick:N,variant:"outline",size:"sm",children:[s.jsx(qt,{className:"h-4 w-4 mr-2"}),"   "]})]})}),s.jsx(pe,{className:"space-y-6",children:u.map((_,j)=>s.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(z,{className:"flex-1",children:["  #",j+1]}),u.length>1&&s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>S(j),className:"text-destructive hover:text-destructive",children:s.jsx(Mr,{className:"h-4 w-4"})})]}),s.jsx(F,{value:_,onChange:C=>k(j,C.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),_&&s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted max-w-md",children:s.jsx("iframe",{src:w(_)||"",title:`Review Video ${j+1} Preview`,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]},j))})]})]})})},_He=new Wre,NHe=()=>s.jsx(eZ,{store:fae,children:s.jsx(Xre,{client:_He,children:s.jsx(Xoe,{children:s.jsxs(eP,{children:[s.jsx(dee,{}),s.jsx(Vee,{}),s.jsxs(nse,{children:[s.jsx(Hhe,{}),s.jsx(ale,{}),s.jsx(ole,{}),s.jsx(dle,{}),s.jsx(qhe,{}),s.jsxs(Kne,{children:[s.jsx(dt,{path:"/",element:s.jsx(_M,{})}),s.jsx(dt,{path:"/products",element:s.jsx(Ope,{})}),s.jsx(dt,{path:"/product/:slug",element:s.jsx(Ape,{})}),s.jsx(dt,{path:"/cart",element:s.jsx($pe,{})}),s.jsx(dt,{path:"/checkout",element:s.jsx(fve,{})}),s.jsx(dt,{path:"/wishlist",element:s.jsx(Ipe,{})}),s.jsx(dt,{path:"/about",element:s.jsx(Mpe,{})}),s.jsx(dt,{path:"/contact",element:s.jsx(Rpe,{})}),s.jsx(dt,{path:"/my-account",element:s.jsx(Cpe,{})}),s.jsx(dt,{path:"/order-confirmation",element:s.jsx(Xhe,{})}),s.jsx(dt,{path:"/auth",element:s.jsx(zfe,{})}),s.jsx(dt,{path:"/step/:slug",element:s.jsx(pve,{})}),s.jsx(dt,{path:"/lp/:slug",element:s.jsx(Mve,{})}),s.jsx(dt,{path:"/cotton-tarsel",element:s.jsx(aR,{})}),s.jsx(dt,{path:"/cotton-tarsel-collection",element:s.jsx(aR,{})}),s.jsx(dt,{path:"/digital-tarsel",element:s.jsx(iR,{})}),s.jsx(dt,{path:"/digital-tarsel-collection",element:s.jsx(iR,{})}),s.jsx(dt,{path:"/admin",element:s.jsx(At,{children:s.jsx(_Be,{})})}),s.jsx(dt,{path:"/admin/reports",element:s.jsx(At,{children:s.jsx(bHe,{})})}),s.jsx(dt,{path:"/admin/products",element:s.jsx(At,{children:s.jsx(IBe,{})})}),s.jsx(dt,{path:"/admin/categories",element:s.jsx(At,{children:s.jsx(MBe,{})})}),s.jsx(dt,{path:"/admin/orders",element:s.jsx(At,{children:s.jsx(pqe,{})})}),s.jsx(dt,{path:"/admin/incomplete-orders",element:s.jsx(At,{children:s.jsx(gqe,{})})}),s.jsx(dt,{path:"/admin/order-protection",element:s.jsx(xqe,{})}),s.jsx(dt,{path:"/admin/contact-submissions",element:s.jsx(At,{children:s.jsx(vHe,{})})}),s.jsx(dt,{path:"/admin/landing-pages",element:s.jsx(At,{children:s.jsx(Wqe,{})})}),s.jsx(dt,{path:"/admin/landing-pages/:id",element:s.jsx(At,{children:s.jsx(gHe,{})})}),s.jsx(dt,{path:"/admin/courier-history",element:s.jsx(At,{children:s.jsx(yqe,{})})}),s.jsx(dt,{path:"/admin/courier-settings",element:s.jsx(At,{children:s.jsx(bqe,{})})}),s.jsx(dt,{path:"/admin/users",element:s.jsx(At,{children:s.jsx($qe,{})})}),s.jsx(dt,{path:"/admin/inventory",element:s.jsx(At,{children:s.jsx(Dqe,{})})}),s.jsx(dt,{path:"/admin/banners",element:s.jsx(At,{children:s.jsx(Lqe,{})})}),s.jsx(dt,{path:"/admin/marketing",element:s.jsx(At,{children:s.jsx(Bqe,{})})}),s.jsx(dt,{path:"/admin/sms",element:s.jsx(At,{children:s.jsx(Vqe,{})})}),s.jsx(dt,{path:"/admin/social-media",element:s.jsx(At,{children:s.jsx(yHe,{})})}),s.jsx(dt,{path:"/admin/shop-settings",element:s.jsx(At,{children:s.jsx(Fqe,{})})}),s.jsx(dt,{path:"/admin/site-settings",element:s.jsx(At,{children:s.jsx(xHe,{})})}),s.jsx(dt,{path:"/admin/home-page-edit",element:s.jsx(At,{children:s.jsx(wHe,{})})}),s.jsx(dt,{path:"/admin/landing-video-settings",element:s.jsx(jHe,{})}),s.jsx(dt,{path:"*",element:s.jsx(_M,{})})]})]})]})})})});a8(document.getElementById("root")).render(s.jsx(NHe,{}));
